{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\tabelaPreco\\ViewTabelaPreco.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\tabelaPreco\\ViewTabelaPreco.vue","mtime":1680609356667},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVG9wU2VjdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9wU2VjdGlvbi52dWUiOw0KaW1wb3J0IEFjdGlvbnNUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvQWN0aW9uc1RhYmxlLnZ1ZSI7DQppbXBvcnQgZ2V0Um91dGVyRGF0YSBmcm9tICJAL21peGlucy9nZXRSb3V0ZXJEYXRhLmpzIjsNCmltcG9ydCBkYXRhVGFibGUgZnJvbSAiQC9taXhpbnMvZGF0YVRhYmxlLmpzIjsNCmltcG9ydCBjcnVkQ29udHJvbGxlciBmcm9tICJAL21peGlucy9jcnVkQ29udHJvbGxlci5qcyI7DQppbXBvcnQgdmFsaWRhdGlvblJ1bGVzIGZyb20gIi4uLy4uL21peGlucy92YWxpZGF0aW9uUnVsZXMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGE6ICgpID0+ICh7DQogICAgaGVhZGVyczogWw0KICAgICAgeyB0ZXh0OiAiIiwgdmFsdWU6ICJjb2wxIn0sDQogICAgICB7IHRleHQ6ICJEZXNjcmnDp8OjbyIsIHZhbHVlOiAiY29sMiIgfSwNCiAgICAgIHsgdGV4dDogIlFudC4gZGUgSXRlbnMiLCB2YWx1ZTogImNvbDMiIH0sDQogICAgICB7IHRleHQ6ICLDmmx0aW1hIEFsdGVyYcOnw6NvIiwgdmFsdWU6ICJjb2w0IiB9LA0KICAgICAgeyB0ZXh0OiAiU2l0dWHDp8OjbyIsIHZhbHVlOiAiY29sNSIsIGFsaWduOiAiY2VudGVyIiB9LA0KICAgIF0sDQogICAgcm93czogW10sDQogICAgaXRlbXNMaXN0YWdlbTogW10sDQogIH0pLA0KDQogIGNvbXB1dGVkOiB7DQogICAgZWRpdFBlcm1pc3Npb24oKSB7DQogICAgICByZXR1cm4gdGhpcy5oYXNQZXJtaXNzaW9uKHRoaXMuJFBlcm1pc3Npb25OYW1lcy5wZXJtaXNzaW9uUHJpY2VUYWJsZUVkaXQpDQogICAgfSwNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgYnVpbGRSb3dzKGRhdGEpIHsNCiAgICAgIHRoaXMucm93cyA9IGRhdGEubWFwKA0KICAgICAgICAoZSkgPT4gKA0KICAgICAgICAgIHRoaXMuaXRlbXNMaXN0YWdlbS5wdXNoKGUpLA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGNvbDE6IGUuaWQsDQogICAgICAgICAgICBjb2wyOiBlLmRlc2NyaWNhbywNCiAgICAgICAgICAgIGNvbDM6IGUubWF0ZXJpYWxQcmljZXNUYWJsZS5sZW5ndGgsDQogICAgICAgICAgICBjb2w0OiBlLmxhc3RNb2RpZmljYXRpb25UaW1lID8gZS5sYXN0TW9kaWZpY2F0aW9uVGltZSA6IGUuY3JlYXRpb25UaW1lLA0KICAgICAgICAgICAgY29sNTogew0KICAgICAgICAgICAgICB0ZXh0OiBlLnN0YXR1cywNCiAgICAgICAgICAgICAgY29sb3I6IGUuc3RhdHVzID09PSB0cnVlID8gInN1Y2Nlc3MiIDogImdyZXkiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9DQogICAgICAgICkNCiAgICAgICk7DQogICAgfSwNCg0KICAgIGFzeW5jIGR1cGxpY2F0ZSh0KSB7DQogICAgICB0aGlzLml0ZW1zTGlzdGFnZW07DQogICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNMaXN0YWdlbS5maWx0ZXIoKHgpID0+IHguaWQgPT0gdC5jb2wxKTsNCiAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmNyZWF0ZVByaWNlVGFibGUoaXRlbVswXSk7DQogICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PSAyMDApDQogICAgICB7DQogICAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGB0YWJlbGFQcmVjby9lZGl0LyR7cmVzdWx0LmRhdGEucmVzdWx0LmlkfWApDQogICAgICB9DQogICAgfSwNCg0KICAgIGxvYWRFZGl0aW9uRGF0YShkYXRhKSB7DQogICAgICB0aGlzLmRhdGFTZWxlY3RlZEl0ZW0gPSBkYXRhOw0KICAgIH0sDQoNCiAgICBhc3luYyBjcmVhdGVQcmljZVRhYmxlKGRhdGFOZXdJdGVtKSB7DQogICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWU7DQogICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5jcmVhdGUoZGF0YU5ld0l0ZW0pOw0KICAgICAgdmFyIHBhZ2UgPSBbDQogICAgICAgIHsNCiAgICAgICAgICBwYWdlTnVtYmVyOiAwLA0KICAgICAgICAgIGl0ZW1zUGVyUGFnZTogMTAsDQogICAgICAgIH0sDQogICAgICBdOw0KICAgICAgdGhpcy5sb2FkSXRlbXMocGFnZVswXSwgbnVsbCk7DQogICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQogIH0sDQogIG1peGluczogWw0KICAgIHZhbGlkYXRpb25SdWxlcywNCiAgICBnZXRSb3V0ZXJEYXRhLA0KICAgIGRhdGFUYWJsZSh7IHN0b3JlOiAiTW9kdWxlVGFiZWxhRGVQcmVjb3MiIH0pLA0KICAgIGNydWRDb250cm9sbGVyKHsgc3RvcmU6ICJNb2R1bGVUYWJlbGFEZVByZWNvcyIgfSksDQogIF0sDQogIGNvbXBvbmVudHM6IHsgVG9wU2VjdGlvbiwgQWN0aW9uc1RhYmxlIH0sDQp9Ow0K"},{"version":3,"sources":["ViewTabelaPreco.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewTabelaPreco.vue","sourceRoot":"src/views/tabelaPreco","sourcesContent":["<template>\r\n  <div\r\n    class=\"d-flex flex-column justify-space-between mx-10\"\r\n    style=\"width: 100%; height: 98vh\"\r\n  >\r\n    <top-section></top-section>\r\n    <actions-table\r\n      :params=\"getRouterData\"\r\n      :disableButton=\"!editPermission\"\r\n      v-on:clickAdd=\"$router.push(`tabelaPreco/Add/`)\"\r\n      labelSearch=\"Pesquisar por Tipo de Cliente ou Moeda\"\r\n    ></actions-table>\r\n\r\n    <v-alert\r\n      type=\"error\"\r\n      dense\r\n      class=\"ml-auto\"\r\n      style=\"width: 100%\"\r\n      outlined\r\n      v-show=\"displayModalError\"\r\n      transition=\"fade-transition\"\r\n      >{{ displayModalErrorText }}</v-alert\r\n    >\r\n\r\n    <div\r\n      style=\"overflow-y: auto\"\r\n      class=\"flex-grow-1 rounded-lg pa-4 white elevation-5\"\r\n    >\r\n      <!-- DATA TABLE -->\r\n      <v-data-table\r\n        :key=\"key\"\r\n        disable-sort\r\n        :headers=\"headers\"\r\n        :items=\"rows\"\r\n        :options.sync=\"options\"\r\n        :page=\"page\"\r\n        :server-items-length=\"totalItems\"\r\n        noDataText=\"Nenhum registro encontrado\"\r\n        :loading=\"tableLoading\"\r\n        loading-text=\"Aguarde, carregando tabela de preço...\"\r\n        :footer-props=\"{\r\n          itemsPerPageOptions: [10, 50, 100],\r\n          itemsPerPageText: 'Itens por Página',\r\n        }\"\r\n      >\r\n        <!-- Icone Manutenção -->\r\n        <template v-slot:[`item.col1`]=\"{ item }\">\r\n          <div v-if=\"editPermission\">\r\n            <v-btn icon @click=\"$router.push(`tabelaPreco/edit/${item.col1}`)\">\r\n              <v-icon> mdi-pencil </v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn icon @click=\"deleteItem(1, item.col1)\">\r\n              <v-icon> mdi-delete </v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn icon @click=\"duplicate(item)\">\r\n              <v-icon> mdi-file-multiple </v-icon>\r\n            </v-btn>\r\n          </div>\r\n          <div v-else>\r\n            <v-btn icon @click=\"$router.push(`tabelaPreco/edit/${item.col1}`)\">\r\n              <v-icon> mdi-eye </v-icon>\r\n            </v-btn>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- Status -->\r\n        <template v-slot:[`item.col4`]=\"{ item }\">\r\n          <p class=\"mt-3\">\r\n            {{ item.col4 | date }}\r\n          </p>\r\n        </template>\r\n\r\n        <template v-slot:[`item.col5`]=\"{ item }\">\r\n          <v-chip :color=\"item.col5.color\" outlined>\r\n            {{ item.col5.text | AtivoInativo }}\r\n          </v-chip>\r\n        </template>\r\n      </v-data-table>\r\n    </div>\r\n\r\n    <!-- DIALOG CONFIRM DELETE -->\r\n    <v-dialog v-model=\"dialogDeleteConfirm\" persistent max-width=\"450px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"asia-red\"\r\n          >mdi-alert-circle-outline</v-icon\r\n        >\r\n\r\n        <div class=\"d-flex align-start\">\r\n          <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n            Ao excluir tabela a mesma não estará mais visível no aplicativo até\r\n            que outra tabela de preços seja ativada. Deseja prosseguir?\r\n          </h4>\r\n        </div>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            rounded\r\n            large\r\n            text\r\n            class=\"mr-4\"\r\n            @click=\"dialogDeleteConfirm = false\"\r\n            >CANCELAR</v-btn\r\n          >\r\n\r\n          <v-btn\r\n            rounded\r\n            large\r\n            class=\"asia-red white--text\"\r\n            @click=\"deleteItem(2)\"\r\n            :loading=\"loadingBtnDelete\"\r\n            >PROSSEGUIR</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport ActionsTable from \"@/components/ActionsTable.vue\";\r\nimport getRouterData from \"@/mixins/getRouterData.js\";\r\nimport dataTable from \"@/mixins/dataTable.js\";\r\nimport crudController from \"@/mixins/crudController.js\";\r\nimport validationRules from \"../../mixins/validationRules\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    headers: [\r\n      { text: \"\", value: \"col1\"},\r\n      { text: \"Descrição\", value: \"col2\" },\r\n      { text: \"Qnt. de Itens\", value: \"col3\" },\r\n      { text: \"Última Alteração\", value: \"col4\" },\r\n      { text: \"Situação\", value: \"col5\", align: \"center\" },\r\n    ],\r\n    rows: [],\r\n    itemsListagem: [],\r\n  }),\r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(this.$PermissionNames.permissionPriceTableEdit)\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    buildRows(data) {\r\n      this.rows = data.map(\r\n        (e) => (\r\n          this.itemsListagem.push(e),\r\n          {\r\n            col1: e.id,\r\n            col2: e.descricao,\r\n            col3: e.materialPricesTable.length,\r\n            col4: e.lastModificationTime ? e.lastModificationTime : e.creationTime,\r\n            col5: {\r\n              text: e.status,\r\n              color: e.status === true ? \"success\" : \"grey\",\r\n            },\r\n          }\r\n        )\r\n      );\r\n    },\r\n\r\n    async duplicate(t) {\r\n      this.itemsListagem;\r\n      var item = this.itemsListagem.filter((x) => x.id == t.col1);\r\n      var result = await this.createPriceTable(item[0]);\r\n      if (result.status == 200)\r\n      {\r\n        this.tableLoading = false;\r\n        this.$router.push(`tabelaPreco/edit/${result.data.result.id}`)\r\n      }\r\n    },\r\n\r\n    loadEditionData(data) {\r\n      this.dataSelectedItem = data;\r\n    },\r\n\r\n    async createPriceTable(dataNewItem) {\r\n      this.tableLoading = true;\r\n      var result = await this.create(dataNewItem);\r\n      var page = [\r\n        {\r\n          pageNumber: 0,\r\n          itemsPerPage: 10,\r\n        },\r\n      ];\r\n      this.loadItems(page[0], null);\r\n      return result;\r\n    },\r\n  },\r\n  mixins: [\r\n    validationRules,\r\n    getRouterData,\r\n    dataTable({ store: \"ModuleTabelaDePrecos\" }),\r\n    crudController({ store: \"ModuleTabelaDePrecos\" }),\r\n  ],\r\n  components: { TopSection, ActionsTable },\r\n};\r\n</script>\r\n"]}]}