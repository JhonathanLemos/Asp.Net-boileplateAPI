{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\components\\Money.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\components\\Money.vue","mtime":1680609356592},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdmFsaWRhdGlvblJ1bGVzIGZyb20gIkAvbWl4aW5zL3ZhbGlkYXRpb25SdWxlcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG1vZGVsOiB7IHByb3A6ICJ2YWx1ZSIsIGV2ZW50OiAiaW5wdXQiIH0sDQogIG1peGluczogW3ZhbGlkYXRpb25SdWxlc10sDQogIHByb3BzOiB7DQogICAgcmVxdWlyZWQ6IHsNCiAgICAgIHR5cGU6IFtCb29sZWFuXSwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgcmVhZG9ubHk6IHsNCiAgICAgIHR5cGU6IFtCb29sZWFuXSwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgZGlzYWJsZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIG5vdFplcm86IHsNCiAgICAgIHR5cGU6IFtCb29sZWFuXSwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sDQogICAgICBkZWZhdWx0OiAiMCIsDQogICAgfSwNCiAgICBsYWJlbDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIiIsDQogICAgfSwNCiAgICBwcm9wZXJ0aWVzOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHJldHVybiB7fTsNCiAgICAgIH0sDQogICAgfSwNCiAgICBvcHRpb25zOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgbG9jYWxlOiAicHQtQlIiLA0KICAgICAgICAgIGxlbmd0aDogMTEsDQogICAgICAgICAgcHJlY2lzaW9uOiAyLA0KICAgICAgICAgIGVtcHR5OiBudWxsLA0KICAgICAgICB9Ow0KICAgICAgfSwNCiAgICB9LA0KICAgIG5vdFplcm9PdGhlck1lc3NhZ2U6IG51bGwsDQogICAgdmFsaWRhdGVfb25fYmx1cjogbnVsbCwNCiAgfSwNCiAgZGF0YTogKCkgPT4gKHt9KSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjbXBWYWx1ZTogew0KICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmh1bWFuRm9ybWF0KHRoaXMudmFsdWUpOw0KICAgICAgfSwNCiAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7DQogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5tYWNoaW5lRm9ybWF0KG5ld1ZhbHVlKSk7DQogICAgICB9LA0KICAgIH0sDQogICAgcnVsZXNDb21wKCkgew0KICAgICAgaWYgKHRoaXMucmVxdWlyZWQgfHwgdGhpcy5ub3RaZXJvKSB7DQogICAgICAgIGlmICh0aGlzLnJlcXVpcmVkICYmIHRoaXMubm90WmVybykNCiAgICAgICAgICByZXR1cm4gW3RoaXMucnVsZXMucmVxdWlyZWQsIHRoaXMucnVsZXMubm90WmVyb107DQogICAgICAgIGVsc2UgaWYgKHRoaXMubm90WmVyb090aGVyTWVzc2FnZSkNCiAgICAgICAgICByZXR1cm4gW3RoaXMucnVsZXMucmVxdWlyZWQsIHRoaXMucnVsZXMubm90WmVyb090aGVyXTsNCiAgICAgICAgZWxzZSBpZiAodGhpcy5yZXF1aXJlZCkgcmV0dXJuIFt0aGlzLnJ1bGVzLnJlcXVpcmVkXTsNCiAgICAgICAgZWxzZSByZXR1cm4gW3RoaXMucnVsZXMubm90WmVyb107DQogICAgICB9IGVsc2UgcmV0dXJuIFtdOw0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7fSwNCiAgbWV0aG9kczogew0KICAgIGh1bWFuRm9ybWF0OiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgIGlmICh2YWx1ZSAmJiAhaXNOYU4odmFsdWUpKSB7DQogICAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKS50b0xvY2FsZVN0cmluZyh0aGlzLm9wdGlvbnMubG9jYWxlLCB7DQogICAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiB0aGlzLm9wdGlvbnMucHJlY2lzaW9uLA0KICAgICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogdGhpcy5vcHRpb25zLnByZWNpc2lvbiwNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB2YWx1ZSA9IHRoaXMub3B0aW9ucy5lbXB0eTsNCiAgICAgIH0NCiAgICAgIHJldHVybiB2YWx1ZTsNCiAgICB9LA0KICAgIG1hY2hpbmVGb3JtYXQodmFsdWUpIHsNCiAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICB2YWx1ZSA9IHRoaXMuY2xlYXJOdW1iZXIodmFsdWUpOw0KICAgICAgICAvLyBBanVzdGFyIHF1YW50aWRhZGUgZGUgemVyb3Mgw6AgZXNxdWVyZGENCiAgICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydChwYXJzZUludCh0aGlzLm9wdGlvbnMucHJlY2lzaW9uKSArIDEsICIwIik7DQogICAgICAgIC8vIEluY2x1aXIgcG9udG8gbmEgY2FzYSBjb3JyZXRhLCBjb25mb3JtZSBhIHByZWNpc8OjbyBjb25maWd1cmFkYQ0KICAgICAgICB2YWx1ZSA9DQogICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIHBhcnNlSW50KHRoaXMub3B0aW9ucy5wcmVjaXNpb24pKSArDQogICAgICAgICAgIi4iICsNCiAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoDQogICAgICAgICAgICB2YWx1ZS5sZW5ndGggLSBwYXJzZUludCh0aGlzLm9wdGlvbnMucHJlY2lzaW9uKSwNCiAgICAgICAgICAgIHZhbHVlLmxlbmd0aA0KICAgICAgICAgICk7DQogICAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsNCiAgICAgICAgICB2YWx1ZSA9IHRoaXMub3B0aW9ucy5lbXB0eTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdmFsdWUgPSB0aGlzLm9wdGlvbnMuZW1wdHk7DQogICAgICB9DQogICAgICByZXR1cm4gdmFsdWU7DQogICAgfSwNCiAgICAvLyBSZXRpcmEgdG9kb3Mgb3MgY2FyYWN0ZXJlcyBuw6NvIG51bcOpcmljb3MgZSB6ZXJvcyDDoCBlc3F1ZXJkYQ0KICAgIGNsZWFyTnVtYmVyOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgIGxldCByZXN1bHQgPSAiIjsNCiAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICBsZXQgZmxhZyA9IGZhbHNlOw0KICAgICAgICBsZXQgYXJyYXlWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoIiIpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5VmFsdWUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAodGhpcy5pc0ludGVnZXIoYXJyYXlWYWx1ZVtpXSkpIHsNCiAgICAgICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgICAgICAvLyBSZXRpcmFyIHplcm9zIMOgIGVzcXVlcmRhDQogICAgICAgICAgICAgIGlmIChhcnJheVZhbHVlW2ldICE9PSAiMCIpIHsNCiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBhcnJheVZhbHVlW2ldOw0KICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vIFBlcm1pdGlyIHplcm8gcXVhbmRvIHZhbG9yIGlndWFsIGEgemVybyAtIFRpcG8gMyAoTW9uZXkgb3IgUGVyY2VudCkNCiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKHZhbHVlKSA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgYXJyYXlWYWx1ZVtpXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIGFycmF5VmFsdWVbaV07DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQogICAga2V5UHJlc3MoJGV2ZW50KSB7DQogICAgICBsZXQga2V5Q29kZSA9ICRldmVudC5rZXlDb2RlID8gJGV2ZW50LmtleUNvZGUgOiAkZXZlbnQud2hpY2g7DQogICAgICAvLyBpZiAoKGtleUNvZGUgPCA0OCB8fCBrZXlDb2RlID4gNTcpICYmIGtleUNvZGUgIT09IDQ2KSB7DQogICAgICBpZiAoa2V5Q29kZSA8IDQ4IHx8IGtleUNvZGUgPiA1Nykgew0KICAgICAgICAvLyA0NiBpcyBkb3QNCiAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQogICAgICB9DQogICAgfSwNCiAgICBpc0ludGVnZXIodmFsdWUpIHsNCiAgICAgIGxldCByZXN1bHQgPSBmYWxzZTsNCiAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHBhcnNlSW50KHZhbHVlKSkpIHsNCiAgICAgICAgcmVzdWx0ID0gdHJ1ZTsNCiAgICAgIH0NCiAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfSwNCiAgICBmb2N1cygpIHsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzLnJlZi5mb2N1cygpOw0KICAgICAgfSwgNTAwKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Money.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Money.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <v-text-field\r\n      v-model=\"cmpValue\"\r\n      v-bind:label=\"label\"\r\n      v-bind=\"properties\"\r\n      v-bind:maxlength=\"options.length + options.precision\"\r\n      v-on:keypress=\"keyPress\"\r\n      v-on:blur=\"$emit('blur')\"\r\n      v-on:change=\"$emit('change')\"\r\n      v-on:click=\"$emit('click')\"\r\n      v-on:focus=\"$emit('focus')\"\r\n      v-on:keydown=\"$emit('keydown')\"\r\n      v-on:mousedown=\"$emit('mousedown')\"\r\n      v-on:mouseup=\"$emit('mouseup')\"\r\n      ref=\"ref\"\r\n      :rules=\"rulesComp\"\r\n      :readonly=\"readonly\"\r\n      :disabled=\"disabled\"\r\n      :clearable=\"!readonly\"\r\n      :validate-on-blur=\"validate_on_blur ? validate_on_blur : false\"\r\n    ></v-text-field>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport validationRules from \"@/mixins/validationRules\";\r\nexport default {\r\n  model: { prop: \"value\", event: \"input\" },\r\n  mixins: [validationRules],\r\n  props: {\r\n    required: {\r\n      type: [Boolean],\r\n      default: false,\r\n    },\r\n    readonly: {\r\n      type: [Boolean],\r\n      default: false,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    notZero: {\r\n      type: [Boolean],\r\n      default: false,\r\n    },\r\n    value: {\r\n      type: [String, Number],\r\n      default: \"0\",\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    properties: {\r\n      type: Object,\r\n      default: function () {\r\n        return {};\r\n      },\r\n    },\r\n    options: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          locale: \"pt-BR\",\r\n          length: 11,\r\n          precision: 2,\r\n          empty: null,\r\n        };\r\n      },\r\n    },\r\n    notZeroOtherMessage: null,\r\n    validate_on_blur: null,\r\n  },\r\n  data: () => ({}),\r\n  computed: {\r\n    cmpValue: {\r\n      get: function () {\r\n        return this.humanFormat(this.value);\r\n      },\r\n      set: function (newValue) {\r\n        this.$emit(\"input\", this.machineFormat(newValue));\r\n      },\r\n    },\r\n    rulesComp() {\r\n      if (this.required || this.notZero) {\r\n        if (this.required && this.notZero)\r\n          return [this.rules.required, this.rules.notZero];\r\n        else if (this.notZeroOtherMessage)\r\n          return [this.rules.required, this.rules.notZeroOther];\r\n        else if (this.required) return [this.rules.required];\r\n        else return [this.rules.notZero];\r\n      } else return [];\r\n    },\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    humanFormat: function (value) {\r\n      if (value && !isNaN(value)) {\r\n        value = Number(value).toLocaleString(this.options.locale, {\r\n          maximumFractionDigits: this.options.precision,\r\n          minimumFractionDigits: this.options.precision,\r\n        });\r\n      } else {\r\n        value = this.options.empty;\r\n      }\r\n      return value;\r\n    },\r\n    machineFormat(value) {\r\n      if (value) {\r\n        value = this.clearNumber(value);\r\n        // Ajustar quantidade de zeros à esquerda\r\n        value = value.padStart(parseInt(this.options.precision) + 1, \"0\");\r\n        // Incluir ponto na casa correta, conforme a precisão configurada\r\n        value =\r\n          value.substring(0, value.length - parseInt(this.options.precision)) +\r\n          \".\" +\r\n          value.substring(\r\n            value.length - parseInt(this.options.precision),\r\n            value.length\r\n          );\r\n        if (value === \"\") {\r\n          value = this.options.empty;\r\n        }\r\n      } else {\r\n        value = this.options.empty;\r\n      }\r\n      return value;\r\n    },\r\n    // Retira todos os caracteres não numéricos e zeros à esquerda\r\n    clearNumber: function (value) {\r\n      let result = \"\";\r\n      if (value) {\r\n        let flag = false;\r\n        let arrayValue = value.toString().split(\"\");\r\n        for (var i = 0; i < arrayValue.length; i++) {\r\n          if (this.isInteger(arrayValue[i])) {\r\n            if (!flag) {\r\n              // Retirar zeros à esquerda\r\n              if (arrayValue[i] !== \"0\") {\r\n                result = result + arrayValue[i];\r\n                flag = true;\r\n              } else {\r\n                // Permitir zero quando valor igual a zero - Tipo 3 (Money or Percent)\r\n                if (Number(value) === 0) {\r\n                  result = result + arrayValue[i];\r\n                }\r\n              }\r\n            } else {\r\n              result = result + arrayValue[i];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n    keyPress($event) {\r\n      let keyCode = $event.keyCode ? $event.keyCode : $event.which;\r\n      // if ((keyCode < 48 || keyCode > 57) && keyCode !== 46) {\r\n      if (keyCode < 48 || keyCode > 57) {\r\n        // 46 is dot\r\n        $event.preventDefault();\r\n      }\r\n    },\r\n    isInteger(value) {\r\n      let result = false;\r\n      if (Number.isInteger(parseInt(value))) {\r\n        result = true;\r\n      }\r\n      return result;\r\n    },\r\n    focus() {\r\n      setTimeout(() => {\r\n        this.$refs.ref.focus();\r\n      }, 500);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}