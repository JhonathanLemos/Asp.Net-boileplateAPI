{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\proformas\\informacoesGerais\\GeneralInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\proformas\\informacoesGerais\\GeneralInformation.vue","mtime":1680609356665},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdmFsaWRhdGlvblJ1bGVzIGZyb20gIi4uLy4uLy4uL21peGlucy92YWxpZGF0aW9uUnVsZXMiOw0KaW1wb3J0IGVudW1MaWNlbmNhSW1wb3J0YWNhbyBmcm9tICJAL2xpYi9lbnVtTGljZW5jYUltcG9ydGFjYW8uanMiOw0KaW1wb3J0IGVudW1JbnN1cmFuY2UgZnJvbSAiQC9saWIvZW51bUluc3VyYW5jZS5qcyI7DQppbXBvcnQgdGlwb3NDYXRlZ29yaWFzIGZyb20gIkAvbGliL2VudW1UaXBvc0NhdGVnb3JpYXMuanMiOw0KaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOw0KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICJ2dWV4IjsNCmNvbnN0IG1vZHVsZUNhdGVnb3JpYVNpdHVhY2FvID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoDQogICJNb2R1bGVDYXRlZ29yaWFTaXR1YWNhbyINCik7DQoNCmNvbnN0IG1vZHVsZVVzdWFyaW9zID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoIk1vZHVsZVVzdWFyaW9zIik7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJHZW5lcmFsSW5mb3JtYXRpb24iLA0KICBwcm9wczogWyJ2YWx1ZSIsICJyZWFkb25seSJdLA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRhdGFQcm9mb3JtYTogew0KICAgICAgICBzaGlwbWVudExpbWl0RGF0ZTogbnVsbCwNCiAgICAgICAgcHJvZm9ybWFTdGF0dXM6IHt9LA0KICAgICAgICB1c2VySWQ6IG51bGwsDQogICAgICB9LA0KICAgICAgcHJvZm9ybWFDYXRlZ29yaWVzOiBbXSwNCiAgICAgIGxvYWRpbmdQcm9mb3JtYUNhdGVnb3JpZXM6IGZhbHNlLA0KICAgICAgbGlzdFVzZXJzRGVzcGFjaGFudGVzOiBbXSwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIHZhbHVlKG5ld1ZhbHVlKSB7DQogICAgICB0aGlzLmRhdGFQcm9mb3JtYSA9IG5ld1ZhbHVlOw0KICAgIH0sDQogICAgZGF0YVByb2Zvcm1hOiB7DQogICAgICBpbW1lZGlhdGU6IHRydWUsDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaGFuZGxlcigpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB0aGlzLmRhdGFQcm9mb3JtYSk7DQogICAgICB9LA0KICAgIH0sDQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICBpbnN1cmFuY2VUeXBlcygpIHsNCiAgICAgIGxldCBpbnN1cmFuY2VzID0gW107DQogICAgICBPYmplY3QudmFsdWVzKGVudW1JbnN1cmFuY2UpLmZvckVhY2goKHgsIGkpID0+IHsNCiAgICAgICAgaW5zdXJhbmNlcy5wdXNoKHsgdmFsdWU6IGkgKyAxLCB0ZXh0OiB4IH0pOw0KICAgICAgfSk7DQogICAgICByZXR1cm4gaW5zdXJhbmNlczsNCiAgICB9LA0KICAgIGltcG9ydExpY2Vuc2VUeXBlcygpIHsNCiAgICAgIGxldCBpbXBvcnRMaWNlbnNlcyA9IFtdOw0KICAgICAgT2JqZWN0LnZhbHVlcyhlbnVtTGljZW5jYUltcG9ydGFjYW8pLmZvckVhY2goKHgsIGkpID0+IHsNCiAgICAgICAgaW1wb3J0TGljZW5zZXMucHVzaCh7IHZhbHVlOiBpICsgMSwgdGV4dDogeCB9KTsNCiAgICAgIH0pOw0KICAgICAgcmV0dXJuIGltcG9ydExpY2Vuc2VzOw0KICAgIH0sDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1vZHVsZUNhdGVnb3JpYVNpdHVhY2FvLm1hcEFjdGlvbnMoWyJnZXRCeVR5cGUiXSksDQogICAgLi4ubW9kdWxlVXN1YXJpb3MubWFwQWN0aW9ucyh7DQogICAgICBnZXRBbGxXaGVuSXNQZXJmaWxEZXNwYWNoYW50ZTogImdldEFsbFdoZW5Jc1BlcmZpbERlc3BhY2hhbnRlIiwNCiAgICB9KSwNCg0KICAgIGFzeW5jIGxvYWRQcm9mb3JtYUNhdGVnb3JpZXMoKSB7DQogICAgICB0aGlzLmxvYWRpbmdQcm9mb3JtYUNhdGVnb3JpZXMgPSB0cnVlOw0KICAgICAgdGhpcy5wcm9mb3JtYUNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLmdldEJ5VHlwZSgNCiAgICAgICAgdGlwb3NDYXRlZ29yaWFzLmVudW1UaXBvc0NhdGVnb3JpYXNSZXF1ZXN0LnNpdHVhY2FvUHJvZm9ybWENCiAgICAgICk7DQogICAgICB0aGlzLmxvYWRpbmdQcm9mb3JtYUNhdGVnb3JpZXMgPSBmYWxzZTsNCiAgICB9LA0KICAgIGFzeW5jIGRvd25sb2FkKCkgew0KICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7DQogICAgICBhLmhyZWYgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIgKyB0aGlzLmRhdGFQcm9mb3JtYS5pbnZvaWNlRmlsZTsNCiAgICAgIGEuZG93bmxvYWQgPSB0aGlzLmRhdGFQcm9mb3JtYS5pbnZvaWNlRmlsZU5hbWUgKyAiLmpwZyI7DQogICAgICBhLmNsaWNrKCk7DQogICAgICBhLnJlbW92ZSgpOw0KICAgIH0sDQogICAgZ2V0RGF0ZVRpbWUodmFsdWUpIHsNCiAgICAgIGlmICghdmFsdWUpIHJldHVybiAiIjsNCiAgICAgIGxldCBkYXRlVGltZSA9IG5ldyBEYXRlKHZhbHVlKTsNCiAgICAgIHJldHVybiBtb21lbnQoZGF0ZVRpbWUpLmZvcm1hdCgiREQvTU0vWVlZWSIpOw0KICAgIH0sDQoNCiAgICBhc3luYyBsb2FkQ29tYm9Vc3VhcmlvcygpIHsNCiAgICAgIHZhciByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0QWxsV2hlbklzUGVyZmlsRGVzcGFjaGFudGUoKTsNCiAgICAgIHJlc3BvbnNlLmRhdGEucmVzdWx0LmZvckVhY2goKGVsZW1lbnQpID0+IHsNCiAgICAgICAgdGhpcy5saXN0VXNlcnNEZXNwYWNoYW50ZXMucHVzaCh7DQogICAgICAgICAgdmFsdWU6IGVsZW1lbnQuaWQsDQogICAgICAgICAgdGV4dDogZWxlbWVudC51c2VyTmFtZSwNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KICBtaXhpbnM6IFt2YWxpZGF0aW9uUnVsZXNdLA0KICBtb3VudGVkKCkgew0KICAgIGlmICgNCiAgICAgIHRoaXMuaGFzUGVybWlzc2lvbih0aGlzLiRQZXJtaXNzaW9uTmFtZXMucGVybWlzc2lvbkNhdGVnb3J5U2l0dWF0aW9uU2VlKQ0KICAgICkNCiAgICAgIHRoaXMubG9hZFByb2Zvcm1hQ2F0ZWdvcmllcygpOw0KICAgIHRoaXMubG9hZENvbWJvVXN1YXJpb3MoKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["GeneralInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GeneralInformation.vue","sourceRoot":"src/views/proformas/informacoesGerais","sourcesContent":["<template>\r\n  <v-expansion-panels>\r\n    <v-expansion-panel>\r\n      <v-expansion-panel-header>\r\n        <span style=\"font-size: 12px; font-weight: bold\"\r\n          >INFORMAÇÕES GERAIS</span\r\n        ></v-expansion-panel-header\r\n      >\r\n      <v-expansion-panel-content>\r\n        <v-col>\r\n          <v-row>\r\n            <v-col cols=\"4\">\r\n              <v-autocomplete\r\n                v-if=\"\r\n                  hasPermission($PermissionNames.permissionCategorySituationSee)\r\n                \"\r\n                label=\"Situação da Proforma\"\r\n                :items=\"proformaCategories\"\r\n                :loading=\"loadingProformaCategories\"\r\n                v-model=\"dataProforma.proformaStatusId\"\r\n                item-value=\"id\"\r\n                item-text=\"description\"\r\n                :disabled=\"readonly\"\r\n              >\r\n                <template v-slot:no-data>\r\n                  <div class=\"px-4\">Sem dados disponíveis</div>\r\n                </template>\r\n              </v-autocomplete>\r\n              <v-text-field\r\n                v-else\r\n                v-model=\"dataProforma.proformaStatus.description\"\r\n                disabled\r\n                label=\"Situação da Proforma\"\r\n              >\r\n              </v-text-field>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <v-autocomplete\r\n                label=\"Licença de Importação\"\r\n                :items=\"importLicenseTypes\"\r\n                v-model=\"dataProforma.importLicense\"\r\n                :disabled=\"readonly\"\r\n              >\r\n                <template v-slot:no-data>\r\n                  <div class=\"px-4\">Sem dados disponíveis</div>\r\n                </template>\r\n              </v-autocomplete>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <v-input\r\n                class=\"mt-1\"\r\n                :messages=\"[getDateTime(dataProforma.orderDate)]\"\r\n              >\r\n                <span style=\"font-size: 12px; color: #8a8a8a\">\r\n                  Emissão da Proforma\r\n                </span>\r\n              </v-input>\r\n            </v-col>\r\n          </v-row>\r\n\r\n          <v-row>\r\n            <v-col cols=\"4\" class=\"d-flex\">\r\n              <v-input\r\n                style=\"width: 65%\"\r\n                :messages=\"[\r\n                  dataProforma.customerName ? dataProforma.customerName : '',\r\n                ]\"\r\n              >\r\n                <span style=\"font-size: 12px; color: #8a8a8a\"> Cliente </span>\r\n                <template v-slot:message=\"{ message }\">\r\n                  <b v-html=\"message\"></b>\r\n                </template>\r\n              </v-input>\r\n              <v-input\r\n                style=\"width: 35%\"\r\n                :messages=\"[dataProforma.plant ? dataProforma.plant : '']\"\r\n              >\r\n                <span style=\"font-size: 12px; color: #8a8a8a\">\r\n                  Planta Cliente\r\n                </span>\r\n                <template v-slot:message=\"{ message }\">\r\n                  <b v-html=\"message\"></b>\r\n                </template>\r\n              </v-input>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <v-input\r\n                :messages=\"[\r\n                  dataProforma.manufacturerName\r\n                    ? dataProforma.manufacturerName\r\n                    : '',\r\n                ]\"\r\n              >\r\n                <span style=\"font-size: 12px; color: #8a8a8a\">\r\n                  Fabricante\r\n                </span>\r\n              </v-input>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <v-input\r\n                class=\"mt-1\"\r\n                :messages=\"[\r\n                  dataProforma.exporterName ? dataProforma.exporterName : '',\r\n                ]\"\r\n              >\r\n                <span style=\"font-size: 12px; color: #8a8a8a\">\r\n                  Exportador\r\n                </span>\r\n              </v-input>\r\n            </v-col>\r\n          </v-row>\r\n\r\n          <v-row>\r\n            <v-col cols=\"4\">\r\n              <v-autocomplete\r\n                label=\"Seguro\"\r\n                :items=\"insuranceTypes\"\r\n                v-model=\"dataProforma.insurance\"\r\n                :disabled=\"readonly\"\r\n              >\r\n                <template v-slot:no-data>\r\n                  <div class=\"px-4\">Sem dados disponíveis</div>\r\n                </template>\r\n              </v-autocomplete>\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              <v-text-field\r\n                label=\"Apólice de Seguro\"\r\n                v-model=\"dataProforma.policy\"\r\n                :disabled=\"readonly\"\r\n              />\r\n            </v-col>\r\n\r\n            <v-col cols=\"4\">\r\n              <v-select\r\n                v-model=\"dataProforma.userId\"\r\n                :items=\"listUsersDespachantes\"\r\n                label=\"Despachante\"\r\n              >\r\n              </v-select>\r\n            </v-col>\r\n          </v-row>\r\n        </v-col>\r\n      </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n  </v-expansion-panels>\r\n</template>\r\n\r\n<script>\r\nimport validationRules from \"../../../mixins/validationRules\";\r\nimport enumLicencaImportacao from \"@/lib/enumLicencaImportacao.js\";\r\nimport enumInsurance from \"@/lib/enumInsurance.js\";\r\nimport tiposCategorias from \"@/lib/enumTiposCategorias.js\";\r\nimport moment from \"moment\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst moduleCategoriaSituacao = createNamespacedHelpers(\r\n  \"ModuleCategoriaSituacao\"\r\n);\r\n\r\nconst moduleUsuarios = createNamespacedHelpers(\"ModuleUsuarios\");\r\nexport default {\r\n  name: \"GeneralInformation\",\r\n  props: [\"value\", \"readonly\"],\r\n\r\n  data() {\r\n    return {\r\n      dataProforma: {\r\n        shipmentLimitDate: null,\r\n        proformaStatus: {},\r\n        userId: null,\r\n      },\r\n      proformaCategories: [],\r\n      loadingProformaCategories: false,\r\n      listUsersDespachantes: [],\r\n    };\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      this.dataProforma = newValue;\r\n    },\r\n    dataProforma: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler() {\r\n        this.$emit(\"input\", this.dataProforma);\r\n      },\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    insuranceTypes() {\r\n      let insurances = [];\r\n      Object.values(enumInsurance).forEach((x, i) => {\r\n        insurances.push({ value: i + 1, text: x });\r\n      });\r\n      return insurances;\r\n    },\r\n    importLicenseTypes() {\r\n      let importLicenses = [];\r\n      Object.values(enumLicencaImportacao).forEach((x, i) => {\r\n        importLicenses.push({ value: i + 1, text: x });\r\n      });\r\n      return importLicenses;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...moduleCategoriaSituacao.mapActions([\"getByType\"]),\r\n    ...moduleUsuarios.mapActions({\r\n      getAllWhenIsPerfilDespachante: \"getAllWhenIsPerfilDespachante\",\r\n    }),\r\n\r\n    async loadProformaCategories() {\r\n      this.loadingProformaCategories = true;\r\n      this.proformaCategories = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.situacaoProforma\r\n      );\r\n      this.loadingProformaCategories = false;\r\n    },\r\n    async download() {\r\n      var a = document.createElement(\"a\");\r\n      a.href = \"data:image/png;base64,\" + this.dataProforma.invoiceFile;\r\n      a.download = this.dataProforma.invoiceFileName + \".jpg\";\r\n      a.click();\r\n      a.remove();\r\n    },\r\n    getDateTime(value) {\r\n      if (!value) return \"\";\r\n      let dateTime = new Date(value);\r\n      return moment(dateTime).format(\"DD/MM/YYYY\");\r\n    },\r\n\r\n    async loadComboUsuarios() {\r\n      var response = await this.getAllWhenIsPerfilDespachante();\r\n      response.data.result.forEach((element) => {\r\n        this.listUsersDespachantes.push({\r\n          value: element.id,\r\n          text: element.userName,\r\n        });\r\n      });\r\n    },\r\n  },\r\n  mixins: [validationRules],\r\n  mounted() {\r\n    if (\r\n      this.hasPermission(this.$PermissionNames.permissionCategorySituationSee)\r\n    )\r\n      this.loadProformaCategories();\r\n    this.loadComboUsuarios();\r\n  },\r\n};\r\n</script>"]}]}