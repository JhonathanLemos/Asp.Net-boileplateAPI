{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\navios\\ViewNavios.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\navios\\ViewNavios.vue","mtime":1680609356646},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVG9wU2VjdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9wU2VjdGlvbi52dWUiOw0KaW1wb3J0IEFjdGlvbnNUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvQWN0aW9uc1RhYmxlLnZ1ZSI7DQppbXBvcnQgZ2V0Um91dGVyRGF0YSBmcm9tICJAL21peGlucy9nZXRSb3V0ZXJEYXRhLmpzIjsNCmltcG9ydCBkYXRhVGFibGUgZnJvbSAiQC9taXhpbnMvZGF0YVRhYmxlLmpzIjsNCmltcG9ydCBjcnVkQ29udHJvbGxlciBmcm9tICJAL21peGlucy9jcnVkQ29udHJvbGxlci5qcyI7DQppbXBvcnQgdmFsaWRhdGlvblJ1bGVzIGZyb20gIi4uLy4uL21peGlucy92YWxpZGF0aW9uUnVsZXMiOw0KaW1wb3J0IENhdGVnb3J5Qm9vbGVhbkNoaXAgZnJvbSAiQC9jb21wb25lbnRzL0NhdGVnb3J5Qm9vbGVhbkNoaXAudnVlIjsNCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAndnVleCc7DQppbXBvcnQgRGlhbG9nRGVsZXRlIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvRGlhbG9nRGVsZXRlLnZ1ZSI7DQoNCmNvbnN0IG1vZHVsZU5hdmlvcyA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJNb2R1bGVOYXZpb3MiKTsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhOiAoKSA9PiAoew0KICAgIGhlYWRlcnM6IFsNCiAgICAgIHsgdGV4dDogIiIsIHZhbHVlOiAiaWQiLCB3aWR0aDogIjEwJSIgfSwNCiAgICAgIHsgdGV4dDogIk5vbWUiLCB2YWx1ZTogIm5hbWUiLCB3aWR0aDogIjE1JSIgfSwNCiAgICAgIHsgdGV4dDogIkPDs2RpZ28gTU1TSSIsIHZhbHVlOiAidHJhY2tDb2RlIiwgd2lkdGg6ICIxNSUiIH0sDQogICAgICB7IHRleHQ6ICJBcm1hZG9yIiwgdmFsdWU6ICJzaGlwb3duZXIiLCB3aWR0aDogIjYwJSIgfSwNCiAgICAgIHsgdGV4dDogIlN0YXR1cyIsIHZhbHVlOiAic3RhdHVzIiwgd2lkdGg6ICIiIH0sDQogICAgXSwNCiAgICByb3dzOiBbXSwNCiAgICBzaG93QnV0dG9uSW5hY3RpdmU6IGZhbHNlLA0KICAgIGN1cnJlbnRTaGlwOiB7fSwNCiAgICBvcGVuRHluYW1pY0RpYWxvZ0ZvckRlbGV0ZTogW10sDQogICAgbWVzc2FnZURpYWxvZzogIiIsDQogICAgZW5hYmxlQnRuRGVsZXRlOiBmYWxzZSwNCiAgICBsb2FkaW5nUHJvZ3Jlc3NCYXI6IGZhbHNlLA0KICAgIGxvYWRpbmdCdXR0b246IGZhbHNlLA0KICB9KSwgDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICBlZGl0UGVybWlzc2lvbigpIHsNCiAgICAgIHJldHVybiB0aGlzLmhhc1Blcm1pc3Npb24odGhpcy4kUGVybWlzc2lvbk5hbWVzLnBlcm1pc3Npb25TaGlwRWRpdCk7DQogICAgfSwNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgLi4ubW9kdWxlTmF2aW9zLm1hcEFjdGlvbnMoWyJkZWxldGUiLCAidXBkYXRlIl0pLA0KDQogICAgYnVpbGRSb3dzKGRhdGEpIHsNCiAgICAgIHRoaXMucm93cyA9IGRhdGE7DQogICAgfSwNCg0KICAgIGFzeW5jIHZhbGlkYXRlU2hpcE9uRGVsZXRlKGl0ZW0pIHsNCiAgICAgIHRoaXMuY3VycmVudFNoaXAgPSBpdGVtOw0KICAgICAgdGhpcy5lbmFibGVCdG5EZWxldGUgPSBmYWxzZTsNCiAgICAgIHRoaXMubG9hZGluZ1Byb2dyZXNzQmFyID0gdHJ1ZTsNCiAgICAgIHRoaXMub3BlbkR5bmFtaWNEaWFsb2dGb3JEZWxldGUgPSBbdHJ1ZV07DQogICAgICB0aGlzLm1lc3NhZ2VEaWFsb2cgPSAiIjsNCg0KICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGVsZXRlKGl0ZW0uaWQpOw0KDQogICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgdGhpcy5lbmFibGVCdG5EZWxldGUgPSB0cnVlOw0KICAgICAgICB0aGlzLnNob3dCdXR0b25JbmFjdGl2ZSA9IGZhbHNlOw0KICAgICAgICB0aGlzLm1lc3NhZ2VEaWFsb2cgPSAiRGVzZWphIHJlYWxtZW50ZSBleGNsdWlyIGVzdGUgTmF2aW8/IjsNCiAgICAgIH1lbHNlIGlmIChyZXN1bHQucmVzdWx0ID09IG51bGwgfHwgcmVzdWx0LnN0YXR1cyA9PSA0MDApIHsNCiAgICAgICAgdGhpcy5sb2FkTWVzc2FnZUZvckl0ZW5zV2l0aERlcGVuZGVuY3koaXRlbSwgcmVzdWx0KTsNCiAgICAgIH0NCg0KICAgICAgdGhpcy5sb2FkaW5nUHJvZ3Jlc3NCYXIgPSBmYWxzZTsNCiAgICB9LA0KDQogICAgbG9hZE1lc3NhZ2VGb3JJdGVuc1dpdGhEZXBlbmRlbmN5KGl0ZW0sIHJlc3VsdCkgew0KICAgICAgaWYgKHJlc3VsdC5lcnJvci5jb2RlICE9IDU0Nykgew0KICAgICAgICB0aGlzLmxvYWRNZXNzYWdlSWZFcnJvcihyZXN1bHQpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGlmIChpdGVtLnN0YXR1cykgew0KICAgICAgICB0aGlzLnNob3dCdXR0b25JbmFjdGl2ZSA9IHRydWU7DQogICAgICAgIHRoaXMubWVzc2FnZURpYWxvZyA9DQogICAgICAgICAgIkV4aXN0ZW0gcmVnaXN0cm9zIHZpbmN1bGFkb3MgYSBlc3NlIE5hdmlvIGUgcG9yIGlzc28gZWxlIG7Do28gcG9kZSBzZXIgZXhjbHXDrWRvLCBzb21lbnRlIGluYXRpdmFkby4gRGVzZWphIGluYXRpdmFyIG8gTmF2aW8/IjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2hvd0J1dHRvbkluYWN0aXZlID0gZmFsc2U7DQogICAgICAgIHRoaXMubWVzc2FnZURpYWxvZyA9DQogICAgICAgICAgIkV4aXN0ZW0gcmVnaXN0cm9zIHZpbmN1bGFkb3MgYSBlc3NlIE5hdmlvIGUgcG9yIGlzc28gZWxlIG7Do28gcG9kZSBzZXIgZXhjbHXDrWRvISI7DQogICAgICB9DQogICAgfSwNCg0KICAgIGxvYWRNZXNzYWdlSWZFcnJvcihyZXN1bHQpIHsNCiAgICAgIHRoaXMubWVzc2FnZURpYWxvZyA9IHJlc3VsdC5lcnJvci5tZXNzYWdlOw0KICAgICAgdGhpcy5zaG93QnV0dG9uSW5hY3RpdmUgPSBmYWxzZTsNCiAgICB9LA0KDQogICAgYXN5bmMgaW5hY3RpdmF0ZWRTaGlwKCkgew0KICAgICAgdGhpcy5jdXJyZW50U2hpcC5zdGF0dXMgPSBmYWxzZTsNCiAgICAgIHRoaXMubG9hZGluZ0J1dHRvbiA9IHRydWU7DQogICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh0aGlzLmN1cnJlbnRTaGlwKTsNCiAgICAgIHRoaXMubG9hZGluZ0J1dHRvbiA9IGZhbHNlOw0KICAgICAgdGhpcy5sb2FkRWRpdGlvbkRhdGEgPSBmYWxzZTsNCg0KICAgICAgdGhpcy5zaG93QWxlcnRTdWNjZXNzKCJSZWdpc3RybyBpbmF0aXZhZG8gY29tIHN1Y2Vzc28hIik7DQogICAgfSwNCg0KICAgIGFzeW5jIGRlbGV0ZVNoaXAoKSB7DQogICAgICB0aGlzLmxvYWRpbmdCdXR0b24gPSB0cnVlOw0KICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGVsZXRlKHRoaXMuY3VycmVudFNoaXAuaWQpOw0KICAgICAgdGhpcy5sb2FkaW5nQnV0dG9uID0gZmFsc2U7DQoNCiAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09IDIwMCkgew0KICAgICAgICB0aGlzLnNob3dBbGVydFN1Y2Nlc3MoIlJlZ2lzdHJvIGV4Y2x1aWRvIGNvbSBzdWNlc3NvISIpOw0KICAgICAgICB0aGlzLmtleSsrOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBzaG93QWxlcnRTdWNjZXNzKG1lc3NhZ2UpIHsNCiAgICAgIHRoaXMuYWxlcnRTdWNjZXNzID0gdHJ1ZTsNCiAgICAgIHRoaXMuYWxlcnRTdWNjZXNzVGV4dCA9IG1lc3NhZ2U7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5hbGVydFN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgIH0sIDMwMDApOw0KICAgIH0sDQoNCiAgICBsb2FkRWRpdGlvbkRhdGEoZGF0YSkgew0KICAgICAgdGhpcy5kYXRhU2VsZWN0ZWRJdGVtID0gZGF0YTsNCiAgICB9LA0KICB9LA0KICBtaXhpbnM6IFsNCiAgICB2YWxpZGF0aW9uUnVsZXMsDQogICAgZ2V0Um91dGVyRGF0YSwNCiAgICBkYXRhVGFibGUoeyBzdG9yZTogIk1vZHVsZU5hdmlvcyIgfSksDQogICAgY3J1ZENvbnRyb2xsZXIoeyBzdG9yZTogIk1vZHVsZU5hdmlvcyIgfSksDQogIF0sDQogIGNvbXBvbmVudHM6IHsgVG9wU2VjdGlvbiwgQWN0aW9uc1RhYmxlLCBDYXRlZ29yeUJvb2xlYW5DaGlwLCBEaWFsb2dEZWxldGUgfSwNCn07DQo="},{"version":3,"sources":["ViewNavios.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewNavios.vue","sourceRoot":"src/views/navios","sourcesContent":["<template>\r\n  <div\r\n    class=\"d-flex flex-column justify-space-between mx-10\"\r\n    style=\"width: 100%; height: 98vh\"\r\n  >\r\n    <top-section></top-section>\r\n\r\n    <actions-table\r\n      :params=\"getRouterData\"\r\n      :disableButton=\"!editPermission\"\r\n      v-on:clickAdd=\"addNewItem(1)\"\r\n      labelSearch=\"Pesquisar por Nome ou Armador\"\r\n    ></actions-table>\r\n\r\n    <v-alert\r\n      type=\"success\"\r\n      transition=\"slide-y-transition\"\r\n      dismissible\r\n      v-show=\"alertSuccess\"\r\n      dense\r\n      >{{ alertSuccessText }}</v-alert\r\n    >\r\n\r\n    <div\r\n      style=\"overflow-y: auto\"\r\n      class=\"flex-grow-1 rounded-lg pa-4 white elevation-5\"\r\n    >\r\n      <!-- DATA TABLE -->\r\n      <v-data-table\r\n        :key=\"key\"\r\n        disable-sort\r\n        :headers=\"\r\n          editPermission ? headers : headers.filter((x) => x.value != 'id')\r\n        \"\r\n        :items=\"rows\"\r\n        :options.sync=\"options\"\r\n        :page=\"page\"\r\n        :server-items-length=\"totalItems\"\r\n        noDataText=\"Nenhum registro encontrado\"\r\n        :loading=\"tableLoading\"\r\n        loading-text=\"Aguarde, carregando navios...\"\r\n        :footer-props=\"{\r\n          itemsPerPageOptions: [10, 50, 100],\r\n          itemsPerPageText: 'Itens por Página',\r\n        }\"\r\n      >\r\n        <!-- Icone Manutenção -->\r\n        <template v-slot:[`item.id`]=\"{ item }\">\r\n          <v-btn icon @click=\"updateItem(1, item.id)\">\r\n            <v-icon> mdi-pencil </v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn icon @click=\"validateShipOnDelete(item)\">\r\n            <v-icon> mdi-delete </v-icon>\r\n          </v-btn>\r\n        </template>\r\n\r\n        <template v-slot:[`item.status`]=\"{ item }\">\r\n          <category-boolean-chip :status=\"item.status\" />\r\n        </template>\r\n      </v-data-table>\r\n    </div>\r\n\r\n    <!-- MODAL DE ADIÇÃO -->\r\n    <v-dialog v-model=\"modalAdd\" persistent max-width=\"800px\">\r\n      <v-form ref=\"form\" v-model=\"valid\">\r\n        <div class=\"white pa-8 d-flex flex-column\">\r\n          <div\r\n            class=\"d-flex justify-space-between\"\r\n            style=\"border-bottom: 1px solid #e1e1e1\"\r\n          >\r\n            <h2 class=\"asia-neutral--text text--var-1 pb-2\">Adicionar Navio</h2>\r\n\r\n            <v-btn icon @click=\"closeModal()\">\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </div>\r\n\r\n          <v-alert\r\n            type=\"error\"\r\n            dense\r\n            class=\"mt-1\"\r\n            outlined\r\n            v-show=\"errorAlert\"\r\n            transition=\"fade-transition\"\r\n            >{{ errorAlertText }}</v-alert\r\n          >\r\n\r\n          <div class=\"d-flex flex-row mt-4\">\r\n            <v-switch\r\n              class=\"mr-10\"\r\n              v-model=\"dataNewItem.status\"\r\n              :label=\"dataNewItem.status == true ? 'Ativo' : 'Inativo'\"\r\n            ></v-switch>\r\n\r\n            <v-text-field\r\n              v-model=\"dataNewItem.name\"\r\n              label=\"Nome do Navio\"\r\n              :rules=\"[rules.required]\"\r\n            ></v-text-field>\r\n          </div>\r\n\r\n          <div class=\"d-flex flex-row mt-8 mb-4\">\r\n            <v-text-field\r\n              v-model=\"dataNewItem.trackCode\"\r\n              label=\"Código IMO\"\r\n              :rules=\"[rules.required]\"\r\n              class=\"mr-10\"\r\n              persistent-hint\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n              v-model=\"dataNewItem.shipowner\"\r\n              label=\"Armador (Opcional)\"\r\n            ></v-text-field>\r\n          </div>\r\n\r\n          <div class=\"d-flex flex-row justify-end pt-5\">\r\n            <v-btn\r\n              rounded\r\n              large\r\n              class=\"asia-red white--text\"\r\n              @click=\"addNewItem(2)\"\r\n              :loading=\"loadingBtnSave\"\r\n              >SALVAR</v-btn\r\n            >\r\n          </div>\r\n        </div>\r\n      </v-form>\r\n    </v-dialog>\r\n\r\n    <!-- MODAL DE EDIÇÃO -->\r\n    <v-dialog v-model=\"modalEdit\" persistent max-width=\"800px\">\r\n      <v-form ref=\"form\" v-model=\"valid\">\r\n        <div class=\"white pa-8 d-flex flex-column\">\r\n          <div\r\n            class=\"d-flex justify-space-between\"\r\n            style=\"border-bottom: 1px solid #e1e1e1\"\r\n          >\r\n            <h2 class=\"asia-neutral--text text--var-1 pb-2\">Editar Navio</h2>\r\n\r\n            <v-btn icon @click=\"closeModal()\">\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </div>\r\n          <v-alert\r\n            type=\"error\"\r\n            dense\r\n            class=\"mt-1\"\r\n            outlined\r\n            v-show=\"errorAlert\"\r\n            transition=\"fade-transition\"\r\n            >{{ errorAlertText }}</v-alert\r\n          >\r\n\r\n          <div class=\"d-flex flex-row mt-4\">\r\n            <v-switch\r\n              class=\"mr-10\"\r\n              v-model=\"dataSelectedItem.status\"\r\n              :label=\"dataSelectedItem.status == true ? 'Ativo' : 'Inativo'\"\r\n              :loading=\"fieldLoading\"\r\n            ></v-switch>\r\n\r\n            <v-text-field\r\n              v-model=\"dataSelectedItem.name\"\r\n              label=\"Nome do Navio\"\r\n              :rules=\"[rules.required]\"\r\n              :loading=\"fieldLoading\"\r\n            ></v-text-field>\r\n          </div>\r\n\r\n          <div class=\"d-flex flex-row mt-8 mb-4\">\r\n            <v-text-field\r\n              v-model=\"dataSelectedItem.trackCode\"\r\n              label=\"Código IMO\"\r\n              :rules=\"[rules.required]\"\r\n              class=\"mr-10\"\r\n              persistent-hint\r\n              :loading=\"fieldLoading\"\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n              v-model=\"dataSelectedItem.shipowner\"\r\n              label=\"Armador (Opcional)\"\r\n              :loading=\"fieldLoading\"\r\n            ></v-text-field>\r\n          </div>\r\n\r\n          <div class=\"d-flex flex-row justify-end pt-5\">\r\n            <v-btn\r\n              rounded\r\n              large\r\n              class=\"asia-red white--text\"\r\n              @click=\"updateItem(2)\"\r\n              :loading=\"loadingBtnSave\"\r\n              >SALVAR</v-btn\r\n            >\r\n          </div>\r\n        </div>\r\n      </v-form>\r\n    </v-dialog>\r\n\r\n    <dialog-delete\r\n      :message=\"messageDialog\"\r\n      :showButtonInactive=\"showButtonInactive\"\r\n      :loadingButton=\"loadingButton\"\r\n      :showBtnDelete=\"enableBtnDelete\"\r\n      v-model=\"openDynamicDialogForDelete\"\r\n      :loading=\"loadingProgressBar\"\r\n      @inativar=\"inactivatedShip()\"\r\n      @excluir=\"deleteShip()\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport ActionsTable from \"@/components/ActionsTable.vue\";\r\nimport getRouterData from \"@/mixins/getRouterData.js\";\r\nimport dataTable from \"@/mixins/dataTable.js\";\r\nimport crudController from \"@/mixins/crudController.js\";\r\nimport validationRules from \"../../mixins/validationRules\";\r\nimport CategoryBooleanChip from \"@/components/CategoryBooleanChip.vue\";\r\nimport { createNamespacedHelpers } from 'vuex';\r\nimport DialogDelete from \"../../components/DialogDelete.vue\";\r\n\r\nconst moduleNavios = createNamespacedHelpers(\"ModuleNavios\");\r\n\r\nexport default {\r\n  data: () => ({\r\n    headers: [\r\n      { text: \"\", value: \"id\", width: \"10%\" },\r\n      { text: \"Nome\", value: \"name\", width: \"15%\" },\r\n      { text: \"Código MMSI\", value: \"trackCode\", width: \"15%\" },\r\n      { text: \"Armador\", value: \"shipowner\", width: \"60%\" },\r\n      { text: \"Status\", value: \"status\", width: \"\" },\r\n    ],\r\n    rows: [],\r\n    showButtonInactive: false,\r\n    currentShip: {},\r\n    openDynamicDialogForDelete: [],\r\n    messageDialog: \"\",\r\n    enableBtnDelete: false,\r\n    loadingProgressBar: false,\r\n    loadingButton: false,\r\n  }), \r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(this.$PermissionNames.permissionShipEdit);\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...moduleNavios.mapActions([\"delete\", \"update\"]),\r\n\r\n    buildRows(data) {\r\n      this.rows = data;\r\n    },\r\n\r\n    async validateShipOnDelete(item) {\r\n      this.currentShip = item;\r\n      this.enableBtnDelete = false;\r\n      this.loadingProgressBar = true;\r\n      this.openDynamicDialogForDelete = [true];\r\n      this.messageDialog = \"\";\r\n\r\n      var result = await this.delete(item.id);\r\n\r\n      if (result.status == 200) {\r\n        this.enableBtnDelete = true;\r\n        this.showButtonInactive = false;\r\n        this.messageDialog = \"Deseja realmente excluir este Navio?\";\r\n      }else if (result.result == null || result.status == 400) {\r\n        this.loadMessageForItensWithDependency(item, result);\r\n      }\r\n\r\n      this.loadingProgressBar = false;\r\n    },\r\n\r\n    loadMessageForItensWithDependency(item, result) {\r\n      if (result.error.code != 547) {\r\n        this.loadMessageIfError(result);\r\n        return;\r\n      }\r\n\r\n      if (item.status) {\r\n        this.showButtonInactive = true;\r\n        this.messageDialog =\r\n          \"Existem registros vinculados a esse Navio e por isso ele não pode ser excluído, somente inativado. Deseja inativar o Navio?\";\r\n      } else {\r\n        this.showButtonInactive = false;\r\n        this.messageDialog =\r\n          \"Existem registros vinculados a esse Navio e por isso ele não pode ser excluído!\";\r\n      }\r\n    },\r\n\r\n    loadMessageIfError(result) {\r\n      this.messageDialog = result.error.message;\r\n      this.showButtonInactive = false;\r\n    },\r\n\r\n    async inactivatedShip() {\r\n      this.currentShip.status = false;\r\n      this.loadingButton = true;\r\n      await this.update(this.currentShip);\r\n      this.loadingButton = false;\r\n      this.loadEditionData = false;\r\n\r\n      this.showAlertSuccess(\"Registro inativado com sucesso!\");\r\n    },\r\n\r\n    async deleteShip() {\r\n      this.loadingButton = true;\r\n      var result = await this.delete(this.currentShip.id);\r\n      this.loadingButton = false;\r\n\r\n      if (result.status == 200) {\r\n        this.showAlertSuccess(\"Registro excluido com sucesso!\");\r\n        this.key++;\r\n      }\r\n    },\r\n\r\n    showAlertSuccess(message) {\r\n      this.alertSuccess = true;\r\n      this.alertSuccessText = message;\r\n      setTimeout(() => {\r\n        this.alertSuccess = false;\r\n      }, 3000);\r\n    },\r\n\r\n    loadEditionData(data) {\r\n      this.dataSelectedItem = data;\r\n    },\r\n  },\r\n  mixins: [\r\n    validationRules,\r\n    getRouterData,\r\n    dataTable({ store: \"ModuleNavios\" }),\r\n    crudController({ store: \"ModuleNavios\" }),\r\n  ],\r\n  components: { TopSection, ActionsTable, CategoryBooleanChip, DialogDelete },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}