{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ordemCompra\\ViewOrdemCompra.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ordemCompra\\ViewOrdemCompra.vue","mtime":1680609356653},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVG9wU2VjdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9wU2VjdGlvbi52dWUiOw0KaW1wb3J0IEFjdGlvbnNUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvQWN0aW9uc1RhYmxlLnZ1ZSI7DQppbXBvcnQgZ2V0Um91dGVyRGF0YSBmcm9tICJAL21peGlucy9nZXRSb3V0ZXJEYXRhLmpzIjsNCmltcG9ydCBkYXRhVGFibGUgZnJvbSAiQC9taXhpbnMvZGF0YVRhYmxlLmpzIjsNCmltcG9ydCBjcnVkQ29udHJvbGxlciBmcm9tICJAL21peGlucy9jcnVkQ29udHJvbGxlci5qcyI7DQppbXBvcnQgdmFsaWRhdGlvblJ1bGVzIGZyb20gIi4uLy4uL21peGlucy92YWxpZGF0aW9uUnVsZXMiOw0KaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAiQC9jb21wb25lbnRzL0RhdGVQaWNrZXIiOw0KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICJ2dWV4IjsNCmltcG9ydCB0aXBvc0NhdGVnb3JpYXMgZnJvbSAiQC9saWIvZW51bVRpcG9zQ2F0ZWdvcmlhcy5qcyI7DQppbXBvcnQgQXV0b0NvbXBsZXRlRmlsdGVyQXN5bmMgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9BdXRvQ29tcGxldGVGaWx0ZXJBc3luYy52dWUiOw0KaW1wb3J0IGVudW1JbmNvdGVybVBhcnQgZnJvbSAiQC9saWIvZW51bUluY290ZXJtUGFydC5qcyI7DQppbXBvcnQgZW51bVB1cmNoYXNlT3JkZXJUeXBlIGZyb20gIkAvbGliL2VudW1QdXJjaGFzZU9yZGVyVHlwZS5qcyI7DQppbXBvcnQgTWlzc2luZ1Blcm1pc3Npb25Nb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvTWlzc2luZ1Blcm1pc3Npb25Nb2RhbC52dWUiOw0KDQpjb25zdCBtb2R1bGVDYXRlZ29yaWFTaXR1YWNhbyA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKA0KICAiTW9kdWxlQ2F0ZWdvcmlhU2l0dWFjYW8iDQopOw0KY29uc3QgbW9kdWxlQ2xpZW50ZXMgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiTW9kdWxlQ2xpZW50ZXMiKTsNCmNvbnN0IG1vZHVsZU9yZGVtRGVDb21wcmEgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiTW9kdWxlT3JkZW1EZUNvbXByYSIpOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGE6ICgpID0+ICh7DQogICAgaGVhZGVyczogWw0KICAgICAgeyB0ZXh0OiAiIiwgdmFsdWU6ICJjb2wxIiwgd2lkdGg6ICI1JSIgfSwNCiAgICAgIHsgdGV4dDogIkPDs2RpZ28iLCB2YWx1ZTogImNvbDIiIH0sDQogICAgICB7IHRleHQ6ICJQZWRpZG8gZGUgQ29tcHJhIiwgdmFsdWU6ICJjb2wzIiB9LA0KICAgICAgeyB0ZXh0OiAiUGVuZMOqbmNpYSIsIHZhbHVlOiAiY29sNCIgfSwNCiAgICAgIHsgdGV4dDogIlRpcG8gZGUgT3JkZW0iLCB2YWx1ZTogImNvbDUiIH0sDQogICAgICB7IHRleHQ6ICJDbGllbnRlIiwgdmFsdWU6ICJjb2w2IiB9LA0KICAgICAgeyB0ZXh0OiAiVmFsb3IgVG90YWwiLCB2YWx1ZTogImNvbDciIH0sDQogICAgICB7IHRleHQ6ICJEYXRhIGRvIEZlY2hhbWVudG8iLCB2YWx1ZTogImNvbDgiIH0sDQogICAgICB7IHRleHQ6ICJTaXR1YcOnw6NvIiwgdmFsdWU6ICJjb2w5IiB9LA0KICAgIF0sDQogICAgcm93czogW10sDQogICAgcHVyY2hhc2VPcmRlckNhdGVnb3JpZXM6IFtdLA0KICAgIHB1cmNoYXNlT3JkZXJMb2FkaW5nOiBbXSwNCiAgICBpdGVtc1RpcG9PcmRlbUNvbXByYTogWw0KICAgICAgeyB0ZXh0OiAiQ29tcHJhIGUgVmVuZGEiLCB2YWx1ZTogMSB9LA0KICAgICAgeyB0ZXh0OiAiRGlzdHJpYnVpw6fDo28iLCB2YWx1ZTogMiB9LA0KICAgIF0sDQogICAgbW9kYWxBZGQ6IGZhbHNlLA0KICAgIHN0YXR1czogdHJ1ZSwNCiAgICBkaWFsb2dEZWxldGVDb25maXJtOiBmYWxzZSwNCiAgICBmZWNoYW1lbnRvUGVkaWRvOiAiIiwNCiAgICBjdXN0b21lckRhdGE6IFtdLA0KDQogICAgZW51bUluY290ZXJtOiBbXSwNCiAgICBlbnVtUHVyY2hhc2VPcmRlcjogW10sDQogIH0pLA0KDQogIHdhdGNoOiB7DQogICAgbW9kYWxBZGQodmFsdWUpIHsNCiAgICAgIGlmICh2YWx1ZSkgdGhpcy5sb2FkUHVyY2hhc2VPcmRlckNhdGVnb3JpZXMoKTsNCiAgICB9LA0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgZWRpdFBlcm1pc3Npb24oKSB7DQogICAgICByZXR1cm4gdGhpcy5oYXNQZXJtaXNzaW9uKA0KICAgICAgICB0aGlzLiRQZXJtaXNzaW9uTmFtZXMucGVybWlzc2lvblB1cmNoYXNlT3JkZXJFZGl0DQogICAgICApOw0KICAgIH0sDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1vZHVsZUNhdGVnb3JpYVNpdHVhY2FvLm1hcEFjdGlvbnMoeyBnZXRCeVR5cGU6ICJnZXRCeVR5cGUiIH0pLA0KICAgIC4uLm1vZHVsZU9yZGVtRGVDb21wcmEubWFwQWN0aW9ucyh7IGNyZWF0ZTogImNyZWF0ZSIgfSksDQogICAgLi4ubW9kdWxlQ2xpZW50ZXMubWFwQWN0aW9ucyh7DQogICAgICBnZXRDdXN0b21lckJ5SWQ6ICJnZXRCeUlkIiwNCiAgICAgIGdldEN1c3RvbWVyQnlWYWx1ZTogImdldEJ5VmFsdWUiLA0KICAgIH0pLA0KDQogICAgY2hlY2tQZXJtaXNzaW9uQW5kQWRkKCkgew0KICAgICAgaWYgKHRoaXMuaGFzUGVybWlzc2lvbih0aGlzLiRQZXJtaXNzaW9uTmFtZXMucGVybWlzc2lvbkNhdGVnb3J5U2l0dWF0aW9uU2VlKSAmJiANCiAgICAgICAgdGhpcy5oYXNQZXJtaXNzaW9uKHRoaXMuJFBlcm1pc3Npb25OYW1lcy5wZXJtaXNzaW9uQ3VzdG9tZXJTZWUpKQ0KICAgICAgICB0aGlzLmFkZE5ld0l0ZW0oMSk7DQogICAgICBlbHNlDQogICAgICAgIHRoaXMuJHJlZnMubWlzc2luZ1Blcm1pc3Npb25Nb2RhbC5vcGVuKCk7DQogICAgfSwNCg0KICAgIGFkZFplcm9zKG51bSwgbGVuLCB0eXBlKSB7DQogICAgICB2YXIgbnVtYmVyV2l0aFplcm9lcyA9IFN0cmluZyhudW0pOw0KICAgICAgdmFyIGNvdW50ZXIgPSBudW1iZXJXaXRoWmVyb2VzLmxlbmd0aDsNCg0KICAgICAgd2hpbGUgKGNvdW50ZXIgPCBsZW4pIHsNCiAgICAgICAgbnVtYmVyV2l0aFplcm9lcyA9ICIwIiArIG51bWJlcldpdGhaZXJvZXM7DQoNCiAgICAgICAgY291bnRlcisrOw0KICAgICAgfQ0KDQogICAgICBpZiAodHlwZSA9PSAxKSByZXR1cm4gbnVtYmVyV2l0aFplcm9lcyArICJEIjsNCiAgICAgIGVsc2UgcmV0dXJuIG51bWJlcldpdGhaZXJvZXMgKyAiQyI7DQogICAgfSwNCg0KICAgIHJlZGlyZWN0VG9FZGl0KGlkKSB7DQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBpZDogaWQsDQogICAgICAgIG9wdGlvbnM6IHRoaXMuJHJlZnMuZGF0YVRhYmxlLm9wdGlvbnMsDQogICAgICB9Ow0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiVmlld09yZGVtQ29tcHJhRWRpdCIsIHBhcmFtczogcGFyYW1zIH0pOw0KICAgIH0sDQoNCiAgICBhc3luYyBsb2FkUHVyY2hhc2VPcmRlckNhdGVnb3JpZXMoKSB7DQogICAgICB0aGlzLnB1cmNoYXNlT3JkZXJMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMucHVyY2hhc2VPcmRlckNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLmdldEJ5VHlwZSgNCiAgICAgICAgdGlwb3NDYXRlZ29yaWFzLmVudW1UaXBvc0NhdGVnb3JpYXNSZXF1ZXN0LnNpdHVhw6fDo29kYW9yZGVtZGVjb21wcmENCiAgICAgICk7DQogICAgICB0aGlzLnB1cmNoYXNlT3JkZXJMb2FkaW5nID0gZmFsc2U7DQogICAgfSwNCg0KICAgIGFzeW5jIHN1Ym1pdCgpIHsNCiAgICAgIHRoaXMubG9hZGluZ0J0blNhdmUgPSB0cnVlOw0KICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgIHRoaXMuZGF0YU5ld0l0ZW0uaXNVcGRhdGVkID0gZmFsc2U7DQogICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY3JlYXRlKHRoaXMuZGF0YU5ld0l0ZW0pOw0KICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAgIHRoaXMubG9hZGluZ0J0blNhdmUgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgIHRoaXMua2V5Kys7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgcGF0aDogYC9ob21lL29yZGVtQ29tcHJhcy9lZGl0LyR7cmVzcG9uc2UuZGF0YS5yZXN1bHQuaWR9YCwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmxvYWRpbmdCdG5TYXZlID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5lcnJvckFsZXJ0VGV4dCA9IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2U7DQogICAgICAgICAgdGhpcy5lcnJvckFsZXJ0ID0gdHJ1ZTsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuZXJyb3JBbGVydCA9IGZhbHNlOw0KICAgICAgICAgIH0sIDUwMDApOw0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLmxvYWRpbmdCdG5TYXZlID0gZmFsc2U7DQogICAgfSwNCg0KICAgIGJ1aWxkUm93cyhkYXRhKSB7DQogICAgICB0aGlzLnJvd3MgPSBkYXRhLm1hcCgoZSkgPT4gKHsNCiAgICAgICAgY29sMTogZS5pZCwNCiAgICAgICAgY29sMjogdGhpcy5hZGRaZXJvcyhlLmlkLCA0LCBlLnB1cmNoYXNlT3JkZXJUeXBlKSwNCiAgICAgICAgY29sMzogZS5vcmRlclB1cmNoYXNlLA0KICAgICAgICBjb2w0OiBlLmlzVXBkYXRlZCwNCiAgICAgICAgY29sNTogZS5wdXJjaGFzZU9yZGVyVHlwZSwNCiAgICAgICAgY29sNjogZS5jdXN0b21lckluZm9zLA0KICAgICAgICBjb2w3OiBlLnZhbHVlTWF0ZXJpYWxzLA0KICAgICAgICBjb2w4OiBlLmNsb3NpbmdEYXRlLA0KICAgICAgICBjb2w5OiBlLnB1cmNoYXNlT3JkZXJTaXR1YXRpb25JdGVtcywNCiAgICAgIH0pKTsNCiAgICB9LA0KDQogICAgYXN5bmMgbG9hZEN1c3RvbWVyKHJlcXVlc3QpIHsNCiAgICAgIHZhciByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0Q3VzdG9tZXJCeVZhbHVlKHJlcXVlc3QpOw0KICAgICAgcmVzcG9uc2UuZGF0YS5yZXN1bHQuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICB0aGlzLmN1c3RvbWVyRGF0YS5wdXNoKHsNCiAgICAgICAgICB0ZXh0Og0KICAgICAgICAgICAgZS5jb2RlICsNCiAgICAgICAgICAgICIgfCAiICsNCiAgICAgICAgICAgIGUuY29ycG9yYXRlTmFtZSArDQogICAgICAgICAgICAiIHwgIiArDQogICAgICAgICAgICAoZS5wbGFudCA9PSBudWxsID8gIi0iIDogZS5wbGFudCksDQogICAgICAgICAgdmFsdWU6IGUuaWQsDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgICByZXR1cm4gdGhpcy5jdXN0b21lckRhdGE7DQogICAgfSwNCiAgfSwNCg0KICBtaXhpbnM6IFsNCiAgICBnZXRSb3V0ZXJEYXRhLA0KICAgIHZhbGlkYXRpb25SdWxlcywNCiAgICBkYXRhVGFibGUoeyBzdG9yZTogIk1vZHVsZU9yZGVtRGVDb21wcmEiIH0pLA0KICAgIGNydWRDb250cm9sbGVyKHsgc3RvcmU6ICJNb2R1bGVPcmRlbURlQ29tcHJhIiB9KSwNCiAgXSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZW51bUluY290ZXJtID0gT2JqZWN0LnZhbHVlcyhlbnVtSW5jb3Rlcm1QYXJ0KTsNCiAgICB0aGlzLmVudW1QdXJjaGFzZU9yZGVyID0gT2JqZWN0LnZhbHVlcyhlbnVtUHVyY2hhc2VPcmRlclR5cGUpOw0KICB9LA0KICBjb21wb25lbnRzOiB7IFRvcFNlY3Rpb24sIEFjdGlvbnNUYWJsZSwgRGF0ZVBpY2tlciwgQXV0b0NvbXBsZXRlRmlsdGVyQXN5bmMsIE1pc3NpbmdQZXJtaXNzaW9uTW9kYWwgfSwNCn07DQo="},{"version":3,"sources":["ViewOrdemCompra.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ViewOrdemCompra.vue","sourceRoot":"src/views/ordemCompra","sourcesContent":["<template>\r\n  <div\r\n    class=\"d-flex flex-column justify-space-between mx-10\"\r\n    style=\"width: 100%; height: 98vh\"\r\n  >\r\n    <top-section></top-section>\r\n\r\n    <actions-table\r\n      :params=\"getRouterData\"\r\n      :disableButton=\"!editPermission\"\r\n      v-on:clickAdd=\"checkPermissionAndAdd\"\r\n      labelSearch=\" Pesquisar por Código, Ordem de Compra, Tipo de Ordem de Compra ou Cliente\"\r\n    ></actions-table>\r\n\r\n    <v-alert\r\n      type=\"success\"\r\n      transition=\"slide-y-transition\"\r\n      dismissible\r\n      v-show=\"alertSuccess\"\r\n      dense\r\n      >{{ alertSuccessText }}</v-alert\r\n    >\r\n\r\n    <MissingPermissionModal \r\n      ref=\"missingPermissionModal\"\r\n    />\r\n\r\n    <!-- Modal adicionar -->\r\n    <v-dialog v-model=\"modalAdd\" max-width=\"950px\">\r\n      <v-form ref=\"form\" v-model=\"valid\">\r\n        <div class=\"white pa-6 d-flex flex-column\">\r\n          <div class=\"d-flex justify-space-between\">\r\n            <h2 class=\"asia-neutral--text text--var-1\">\r\n              Adicionar Ordem de Compra\r\n            </h2>\r\n\r\n            <v-btn icon text @click=\"closeModal()\">\r\n              <v-icon> mdi-close </v-icon>\r\n            </v-btn>\r\n          </div>\r\n\r\n          <v-divider></v-divider>\r\n\r\n          <div class=\"d-flex mt-4\" style=\"width: 100%\">\r\n            <v-text-field\r\n              v-model=\"dataNewItem.orderPurchase\"\r\n              label=\"Pedido de Compra (opcional)\"\r\n              style=\"width: 50%\"\r\n              clearable\r\n              class=\"mr-4\"\r\n            ></v-text-field>\r\n\r\n            <v-autocomplete\r\n              label=\"Situação da Ordem de Compra\"\r\n              :rules=\"[rules.required]\"\r\n              style=\"width: 50%\"\r\n              :items=\"purchaseOrderCategories\"\r\n              :loading=\"purchaseOrderLoading\"\r\n              v-model=\"dataNewItem.purchaseOrderSituationId\"\r\n              item-value=\"id\"\r\n              item-text=\"description\"\r\n            >\r\n              <template v-slot:no-data>\r\n                <div class=\"px-4\">Sem dados disponíveis</div>\r\n              </template>\r\n            </v-autocomplete>\r\n          </div>\r\n\r\n          <div class=\"d-flex\" style=\"width: 100%\">\r\n            <v-select\r\n              :rules=\"[rules.required]\"\r\n              label=\"Tipo de Ordem de Compra\"\r\n              clearable\r\n              class=\"mr-4\"\r\n              style=\"width: 50%\"\r\n              :items=\"enumPurchaseOrder\"\r\n              v-model=\"dataNewItem.purchaseOrderType\"\r\n            ></v-select>\r\n\r\n            <DatePicker\r\n              label=\"Fechamento Pedido (opcional)\"\r\n              v-model=\"dataNewItem.closingDate\"\r\n              style=\"width: 50%\"\r\n            ></DatePicker>\r\n          </div>\r\n\r\n          <div class=\"d-flex\" style=\"width: 100%\">\r\n            <v-select\r\n              :rules=\"[rules.required]\"\r\n              label=\"Tipo de Frete\"\r\n              v-model=\"dataNewItem.freightType\"\r\n              clearable\r\n              class=\"mr-4\"\r\n              :items=\"enumIncoterm\"\r\n              style=\"width: 50%\"\r\n            ></v-select>\r\n\r\n            <AutoCompleteFilterAsync\r\n              :searchStore=\"loadCustomer\"\r\n              displayText=\"corporateName\"\r\n              v-model=\"dataNewItem.customerId\"\r\n              label=\"Cliente\"\r\n              placeholder=\"Digite 3 caracteres\"\r\n              style=\"width: 50%\"\r\n            ></AutoCompleteFilterAsync>\r\n          </div>\r\n\r\n          <v-divider></v-divider>\r\n\r\n          <div class=\"d-flex flex-row justify-end pt-2\">\r\n            <v-btn\r\n              rounded\r\n              class=\"asia-red white--text\"\r\n              @click=\"submit\"\r\n              :loading=\"loadingBtnSave\"\r\n              >SALVAR</v-btn\r\n            >\r\n          </div>\r\n        </div>\r\n      </v-form>\r\n    </v-dialog>\r\n\r\n    <div\r\n      style=\"overflow-y: auto\"\r\n      class=\"flex-grow-1 rounded-lg pa-4 white elevation-5\"\r\n    >\r\n      <!-- Data Table -->\r\n      <v-data-table\r\n        ref=\"dataTable\"\r\n        :key=\"key\"\r\n        disable-sort\r\n        :headers=\"headers\"\r\n        :items=\"rows\"\r\n        :options.sync=\"options\"\r\n        :page=\"page\"\r\n        :server-items-length=\"totalItems\"\r\n        noDataText=\"Nenhum registro encontrado\"\r\n        :loading=\"tableLoading\"\r\n        loading-text=\"Aguarde, carregando ordem de compras\"\r\n        :footer-props=\"{\r\n          itemsPerPageOptions: [10, 50, 100],\r\n          itemsPerPageText: 'Itens por Página',\r\n        }\"\r\n      >\r\n        <!-- Icone Edição -->\r\n        <template v-slot:[`item.col1`]=\"{ item }\">\r\n          <div v-if=\"editPermission\" class=\"d-flex flex-nowrap\">\r\n            <v-btn icon @click=\"redirectToEdit(item.col1)\">\r\n              <v-icon>mdi-pencil</v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn\r\n              icon\r\n              @click=\"deleteItem(1, item.col1), (dialogDeleteConfirm = true)\"\r\n            >\r\n              <v-icon> mdi-delete </v-icon>\r\n            </v-btn>\r\n          </div>\r\n          <div v-else>\r\n            <v-btn icon @click=\"redirectToEdit(item.col1)\">\r\n              <v-icon> mdi-eye </v-icon>\r\n            </v-btn>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- Pendências -->\r\n        <template v-slot:[`item.col4`]=\"{ item }\">\r\n          <v-icon v-if=\"item.col5 == 2 ? !item.col4 : ''\" color=\"#F75A02\">\r\n            mdi-alert\r\n          </v-icon>\r\n        </template>\r\n\r\n        <template v-slot:[`item.col5`]=\"{ item }\">\r\n          {{ item.col5 | purchaseOrderType }}\r\n        </template>\r\n\r\n        <template v-slot:[`item.col7`]=\"{ item }\">\r\n          <div>\r\n            {{ item.col7 ? \"R$\" : null }}\r\n            {{ item.col7 | currencyFormatRealWithoutCurrency }}\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.col8`]=\"{ item }\">\r\n          <div>{{ item.col8 | dateFormat }}</div>\r\n        </template>\r\n\r\n        <!-- Status -->\r\n        <template v-slot:[`item.col9`]=\"{ item }\">\r\n          <v-chip\r\n            :color=\"item.col9[0] == '#FFFFFF' ? 'black' : item.col9[0]\"\r\n            outlined\r\n            style=\"font-weight: 500\"\r\n          >\r\n            {{ item.col9[1] ? item.col9[1] : \"\" }}\r\n          </v-chip>\r\n        </template>\r\n      </v-data-table>\r\n    </div>\r\n\r\n    <!-- DIALOG CONFIRM DELETE -->\r\n    <v-dialog v-model=\"dialogDeleteConfirm\" max-width=\"450px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"asia-red\">\r\n          mdi-alert-octagon\r\n        </v-icon>\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          Ao excluir esta Ordem de Compra, o cliente não terá mais acesso a\r\n          estas informações no aplicativo. Esta ação não pode ser desfeita.\r\n          Deseja excluir?\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            rounded\r\n            large\r\n            text\r\n            class=\"mr-4\"\r\n            @click=\"dialogDeleteConfirm = false\"\r\n            >CANCELAR</v-btn\r\n          >\r\n\r\n          <v-btn\r\n            rounded\r\n            large\r\n            class=\"asia-red white--text\"\r\n            @click=\"deleteItem(2)\"\r\n            :loading=\"loadingBtnDelete\"\r\n            >EXCLUIR</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport ActionsTable from \"@/components/ActionsTable.vue\";\r\nimport getRouterData from \"@/mixins/getRouterData.js\";\r\nimport dataTable from \"@/mixins/dataTable.js\";\r\nimport crudController from \"@/mixins/crudController.js\";\r\nimport validationRules from \"../../mixins/validationRules\";\r\nimport DatePicker from \"@/components/DatePicker\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport tiposCategorias from \"@/lib/enumTiposCategorias.js\";\r\nimport AutoCompleteFilterAsync from \"../../components/AutoCompleteFilterAsync.vue\";\r\nimport enumIncotermPart from \"@/lib/enumIncotermPart.js\";\r\nimport enumPurchaseOrderType from \"@/lib/enumPurchaseOrderType.js\";\r\nimport MissingPermissionModal from \"@/components/MissingPermissionModal.vue\";\r\n\r\nconst moduleCategoriaSituacao = createNamespacedHelpers(\r\n  \"ModuleCategoriaSituacao\"\r\n);\r\nconst moduleClientes = createNamespacedHelpers(\"ModuleClientes\");\r\nconst moduleOrdemDeCompra = createNamespacedHelpers(\"ModuleOrdemDeCompra\");\r\n\r\nexport default {\r\n  data: () => ({\r\n    headers: [\r\n      { text: \"\", value: \"col1\", width: \"5%\" },\r\n      { text: \"Código\", value: \"col2\" },\r\n      { text: \"Pedido de Compra\", value: \"col3\" },\r\n      { text: \"Pendência\", value: \"col4\" },\r\n      { text: \"Tipo de Ordem\", value: \"col5\" },\r\n      { text: \"Cliente\", value: \"col6\" },\r\n      { text: \"Valor Total\", value: \"col7\" },\r\n      { text: \"Data do Fechamento\", value: \"col8\" },\r\n      { text: \"Situação\", value: \"col9\" },\r\n    ],\r\n    rows: [],\r\n    purchaseOrderCategories: [],\r\n    purchaseOrderLoading: [],\r\n    itemsTipoOrdemCompra: [\r\n      { text: \"Compra e Venda\", value: 1 },\r\n      { text: \"Distribuição\", value: 2 },\r\n    ],\r\n    modalAdd: false,\r\n    status: true,\r\n    dialogDeleteConfirm: false,\r\n    fechamentoPedido: \"\",\r\n    customerData: [],\r\n\r\n    enumIncoterm: [],\r\n    enumPurchaseOrder: [],\r\n  }),\r\n\r\n  watch: {\r\n    modalAdd(value) {\r\n      if (value) this.loadPurchaseOrderCategories();\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(\r\n        this.$PermissionNames.permissionPurchaseOrderEdit\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...moduleCategoriaSituacao.mapActions({ getByType: \"getByType\" }),\r\n    ...moduleOrdemDeCompra.mapActions({ create: \"create\" }),\r\n    ...moduleClientes.mapActions({\r\n      getCustomerById: \"getById\",\r\n      getCustomerByValue: \"getByValue\",\r\n    }),\r\n\r\n    checkPermissionAndAdd() {\r\n      if (this.hasPermission(this.$PermissionNames.permissionCategorySituationSee) && \r\n        this.hasPermission(this.$PermissionNames.permissionCustomerSee))\r\n        this.addNewItem(1);\r\n      else\r\n        this.$refs.missingPermissionModal.open();\r\n    },\r\n\r\n    addZeros(num, len, type) {\r\n      var numberWithZeroes = String(num);\r\n      var counter = numberWithZeroes.length;\r\n\r\n      while (counter < len) {\r\n        numberWithZeroes = \"0\" + numberWithZeroes;\r\n\r\n        counter++;\r\n      }\r\n\r\n      if (type == 1) return numberWithZeroes + \"D\";\r\n      else return numberWithZeroes + \"C\";\r\n    },\r\n\r\n    redirectToEdit(id) {\r\n      let params = {\r\n        id: id,\r\n        options: this.$refs.dataTable.options,\r\n      };\r\n      this.$router.push({ name: \"ViewOrdemCompraEdit\", params: params });\r\n    },\r\n\r\n    async loadPurchaseOrderCategories() {\r\n      this.purchaseOrderLoading = true;\r\n      this.purchaseOrderCategories = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.situaçãodaordemdecompra\r\n      );\r\n      this.purchaseOrderLoading = false;\r\n    },\r\n\r\n    async submit() {\r\n      this.loadingBtnSave = true;\r\n      if (this.$refs.form.validate()) {\r\n        this.dataNewItem.isUpdated = false;\r\n        let response = await this.create(this.dataNewItem);\r\n        if (response.status == 200) {\r\n          this.loadingBtnSave = false;\r\n          this.success = true;\r\n          this.key++;\r\n          this.$router.push({\r\n            path: `/home/ordemCompras/edit/${response.data.result.id}`,\r\n          });\r\n        } else {\r\n          this.loadingBtnSave = false;\r\n          this.errorAlertText = response.error.message;\r\n          this.errorAlert = true;\r\n          setTimeout(() => {\r\n            this.errorAlert = false;\r\n          }, 5000);\r\n        }\r\n      }\r\n      this.loadingBtnSave = false;\r\n    },\r\n\r\n    buildRows(data) {\r\n      this.rows = data.map((e) => ({\r\n        col1: e.id,\r\n        col2: this.addZeros(e.id, 4, e.purchaseOrderType),\r\n        col3: e.orderPurchase,\r\n        col4: e.isUpdated,\r\n        col5: e.purchaseOrderType,\r\n        col6: e.customerInfos,\r\n        col7: e.valueMaterials,\r\n        col8: e.closingDate,\r\n        col9: e.purchaseOrderSituationItems,\r\n      }));\r\n    },\r\n\r\n    async loadCustomer(request) {\r\n      var response = await this.getCustomerByValue(request);\r\n      response.data.result.forEach((e) => {\r\n        this.customerData.push({\r\n          text:\r\n            e.code +\r\n            \" | \" +\r\n            e.corporateName +\r\n            \" | \" +\r\n            (e.plant == null ? \"-\" : e.plant),\r\n          value: e.id,\r\n        });\r\n      });\r\n      return this.customerData;\r\n    },\r\n  },\r\n\r\n  mixins: [\r\n    getRouterData,\r\n    validationRules,\r\n    dataTable({ store: \"ModuleOrdemDeCompra\" }),\r\n    crudController({ store: \"ModuleOrdemDeCompra\" }),\r\n  ],\r\n\r\n  mounted() {\r\n    this.enumIncoterm = Object.values(enumIncotermPart);\r\n    this.enumPurchaseOrder = Object.values(enumPurchaseOrderType);\r\n  },\r\n  components: { TopSection, ActionsTable, DatePicker, AutoCompleteFilterAsync, MissingPermissionModal },\r\n};\r\n</script>\r\n"]}]}