{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ordemCompra\\coleta\\primeiraColetaInformacoesGerais.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ordemCompra\\coleta\\primeiraColetaInformacoesGerais.vue","mtime":1680609356654},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICJAL2NvbXBvbmVudHMvRGF0ZVBpY2tlciI7DQppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IHRpcG9zQ2F0ZWdvcmlhcyBmcm9tICJAL2xpYi9lbnVtVGlwb3NDYXRlZ29yaWFzLmpzIjsNCmltcG9ydCB7IHRvQmFzZTY0IH0gZnJvbSAiQC9saWIvaGVscGVycy9iYXNlNjQiOw0KaW1wb3J0IHZhbGlkYXRpb25SdWxlcyBmcm9tICIuLi8uLi8uLi9taXhpbnMvdmFsaWRhdGlvblJ1bGVzIjsNCmltcG9ydCBNaXNzaW5nUGVybWlzc2lvbk1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9NaXNzaW5nUGVybWlzc2lvbk1vZGFsLnZ1ZSI7DQoNCmNvbnN0IG1vZHVsZUNvbGV0YXMgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiTW9kdWxlQ29sZXRhcyIpOw0KY29uc3QgbW9kdWxlT3JkZW1EZUNvbXByYSA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJNb2R1bGVPcmRlbURlQ29tcHJhIik7DQpjb25zdCBtb2R1bGVDYXRlZ29yaWFTaXR1YWNhbyA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKA0KICAiTW9kdWxlQ2F0ZWdvcmlhU2l0dWFjYW8iDQopOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1peGluczogW3ZhbGlkYXRpb25SdWxlc10sDQogIHByb3BzOiBbInZhbHVlIiwgImxpc3RNYXRlcmlhbHMiLCAiaW5kZXhDb2xsZWN0aW9uIiwgImNvbGV0YXNMaXN0Il0sDQogIGRhdGE6ICgpID0+ICh7DQogICAgZGF0YUVudHJlZ2E6ICIiLA0KICAgIGluZm9HZXJhaXNMaXN0OiB7DQogICAgICBwdXJjaGFzZUNvbGxlY3Rpb25NYXRlcmlhbER0bzogW10sDQogICAgfSwNCiAgICB0aXBvU2l0dWFjYW9PcmRlbUNvbXByYTogW10sDQogICAgbG9hZGluZ1NhdmU6IG51bGwsDQogICAgaXRlbVRvRG93bmxvYWQ6IG51bGwsDQogICAgYWxlcnRFcnJvcjogbnVsbCwNCiAgICBhbGVydEVycm9yVGV4dDogbnVsbCwNCiAgICBsb2FkaW5nOiB0cnVlLA0KICAgIGRpYWxvZ0Vycm9yQ29sZXRhQ29uY2x1aWRhOiBmYWxzZSwNCiAgfSksDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1vZHVsZU9yZGVtRGVDb21wcmEubWFwQWN0aW9ucyh7DQogICAgICBzZXRJZklzVXBkYXRlZDogInNldElmSXNVcGRhdGVkIiwNCiAgICB9KSwNCg0KICAgIC4uLm1vZHVsZUNhdGVnb3JpYVNpdHVhY2FvLm1hcEFjdGlvbnMoew0KICAgICAgZ2V0QnlUeXBlOiAiZ2V0QnlUeXBlIiwNCiAgICAgIGdldEJ5SWRDYXRlZ29yaWFTaXR1YWNhbzogImdldEJ5SWQiLA0KICAgIH0pLA0KDQogICAgLi4ubW9kdWxlQ29sZXRhcy5tYXBBY3Rpb25zKHsNCiAgICAgIHVwZGF0ZTogInVwZGF0ZSIsDQogICAgICBjcmVhdGU6ICJjcmVhdGUiLA0KICAgIH0pLA0KDQogICAgYXN5bmMgc2V0Q2F0ZWdvcmllcygpIHsNCiAgICAgIHZhciBpdGVtcyA9IGF3YWl0IHRoaXMuZ2V0QnlUeXBlKA0KICAgICAgICB0aXBvc0NhdGVnb3JpYXMuZW51bVRpcG9zQ2F0ZWdvcmlhc1JlcXVlc3Quc2l0dWHDp8Ojb2RhY29sZXRhDQogICAgICApOw0KICAgICAgaXRlbXMuZm9yRWFjaCgoZWxlbWVudCkgPT4gew0KICAgICAgICB0aGlzLnRpcG9TaXR1YWNhb09yZGVtQ29tcHJhLnB1c2goew0KICAgICAgICAgIHZhbHVlOiBlbGVtZW50LmlkLA0KICAgICAgICAgIHRleHQ6IGVsZW1lbnQuZGVzY3JpcHRpb24sDQogICAgICAgICAgY29uY2x1aWRhOiBlbGVtZW50LmZsYWcsDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIHNlbGVjdFZhbHVlKGNvbGxlY3Rpb25TdGF0dXMpIHsNCiAgICAgIGlmIChjb2xsZWN0aW9uU3RhdHVzID09IDApIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy5jb2xldGFzTGlzdC5sZW5ndGggPiAxICYmIHRoaXMuaW5kZXhDb2xsZWN0aW9uICE9IDApIHsNCiAgICAgICAgbGV0IGl0ZW1BdHVhbCA9IHRoaXMuY29sZXRhc0xpc3RbdGhpcy5pbmRleENvbGxlY3Rpb25dOw0KDQogICAgICAgIGlmIChpdGVtQXR1YWwuY29sbGVjdGlvblN0YXR1c0ZsYWcpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgaXRlbUFudGVyaW9yID0gdGhpcy5jb2xldGFzTGlzdFt0aGlzLmluZGV4Q29sbGVjdGlvbiAtIDFdOw0KDQogICAgICAgIGxldCBzaXR1YWNhb0F0dWFsID0gdGhpcy50aXBvU2l0dWFjYW9PcmRlbUNvbXByYS5maW5kKA0KICAgICAgICAgIChlbGVtZW50KSA9PiBlbGVtZW50LnZhbHVlID09IGNvbGxlY3Rpb25TdGF0dXMNCiAgICAgICAgKTsNCg0KICAgICAgICBpZiAoDQogICAgICAgICAgIWl0ZW1BbnRlcmlvci5jb2xsZWN0aW9uU3RhdHVzRmxhZyAmJg0KICAgICAgICAgIHNpdHVhY2FvQXR1YWwgJiYNCiAgICAgICAgICAhc2l0dWFjYW9BdHVhbC5pZCAmIHNpdHVhY2FvQXR1YWwuY29uY2x1aWRhDQogICAgICAgICkgew0KICAgICAgICAgIHRoaXMuJHJlZnNbInNlbGVjdGVkU2l0dWFjYW8iXS5yZXNldCgpOw0KICAgICAgICAgIHRoaXMuZGlhbG9nRXJyb3JDb2xldGFDb25jbHVpZGEgPSB0cnVlOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCg0KICAgIGFzeW5jIHNhdmVJbmZvcygpIHsNCiAgICAgIGlmICgNCiAgICAgICAgIXRoaXMuaGFzUGVybWlzc2lvbigNCiAgICAgICAgICB0aGlzLiRQZXJtaXNzaW9uTmFtZXMucGVybWlzc2lvbkNhdGVnb3J5U2l0dWF0aW9uU2VlDQogICAgICAgICkgJiYNCiAgICAgICAgIXRoaXMuaW5mb0dlcmFpc0xpc3QuY29sbGVjdGlvblN0YXR1c0lkDQogICAgICApIHsNCiAgICAgICAgdGhpcy4kcmVmcy5taXNzaW5nUGVybWlzc2lvbk1vZGFsLm9wZW4oKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICB2YXIgaXRlbXMgPSB7DQogICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsDQogICAgICAgIGlzVXBkYXRlZDogdHJ1ZSwNCiAgICAgIH07DQoNCiAgICAgIGF3YWl0IHRoaXMuc2V0SWZJc1VwZGF0ZWQoaXRlbXMpOw0KICAgICAgdGhpcy5sb2FkaW5nU2F2ZSA9IHRydWU7DQoNCiAgICAgIHZhciBmaWxlcyA9IFtdOw0KICAgICAgaWYgKHRoaXMuaW5mb0dlcmFpc0xpc3QuZmlsZXMpIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZm9HZXJhaXNMaXN0LmZpbGVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaW5mb0dlcmFpc0xpc3QuZmlsZXNbaV07DQogICAgICAgICAgdmFyIHRvQmFzZSA9IGF3YWl0IHRvQmFzZTY0KGVsZW1lbnQsIGZhbHNlKTsNCiAgICAgICAgICBmaWxlcy5wdXNoKHsgRmlsZTogdG9CYXNlLCBGaWxlTmFtZTogZWxlbWVudC5uYW1lIH0pOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIHRoaXMuaW5mb0dlcmFpc0xpc3QuZmlsZXMgPSBmaWxlczsNCiAgICAgIHZhciByZXNwb25zZSA9IG51bGw7DQogICAgICBpZiAoIXRoaXMuaW5mb0dlcmFpc0xpc3QuaWQpIHsNCiAgICAgICAgdGhpcy5saXN0TWF0ZXJpYWxzLmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICB4LmlkID0gMDsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdGhpcy5pbmZvR2VyYWlzTGlzdC5wdXJjaGFzZUNvbGxlY3Rpb25NYXRlcmlhbCA9IHRoaXMubGlzdE1hdGVyaWFsczsNCiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNyZWF0ZSh0aGlzLmluZm9HZXJhaXNMaXN0KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy51cGRhdGUodGhpcy5pbmZvR2VyYWlzTGlzdCk7DQogICAgICB9DQoNCiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgIHRoaXMuJGVtaXQoInN1Y2Nlc3MiLCAiRW50cmVnYSBzYWx2YSBjb20gc3VjZXNzbyEiKTsNCiAgICAgICAgdGhpcy5sb2FkaW5nU2F2ZSA9IGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nU2F2ZSA9IGZhbHNlOw0KICAgIH0sDQoNCiAgICBkb3dubG9hZEZpbGVzKCkgew0KICAgICAgaWYgKHRoaXMuaXRlbXNUb0Rvd25sb2FkKSB7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtc1RvRG93bmxvYWQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5pdGVtc1RvRG93bmxvYWRbaV07DQogICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7DQogICAgICAgICAgYS5ocmVmID0gImRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwiICsgZWxlbWVudC5maWxlOw0KICAgICAgICAgIGEuZG93bmxvYWQgPSBlbGVtZW50LmZpbGVOYW1lOw0KICAgICAgICAgIGEuY2xpY2soKTsNCiAgICAgICAgICBhLnJlbW92ZSgpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCg0KICAgIHZhbGlkYXRlTGVuZ3RoKGZpbGVzKSB7DQogICAgICBpZiAoIWZpbGVzKSByZXR1cm47DQogICAgICB2YXIgbGVuZ3RoID0gbnVsbDsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgY29uc3QgZWxlbWVudCA9IGZpbGVzW2ldOw0KICAgICAgICBsZW5ndGggPSBsZW5ndGggKyBlbGVtZW50LnNpemU7DQogICAgICB9DQogICAgICBpZiAobGVuZ3RoID4gMjUwMDAwMDApIHsNCiAgICAgICAgdGhpcy5pbmZvR2VyYWlzTGlzdC5maWxlcyA9IFtdOw0KICAgICAgICB0aGlzLiRlbWl0KCJzZXRJbmRleCIsIHRoaXMuaW5kZXhDb2xsZWN0aW9uLCB0aGlzLmluZm9HZXJhaXNMaXN0KTsNCiAgICAgICAgdGhpcy5hbGVydEVycm9yID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5hbGVydEVycm9yVGV4dCA9ICJPIHRhbWFuaG8gZG9zIGFycXVpdm9zIGRldmUgc2VyIGluZmVyaW9yIMOgIDI1TUIiOw0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLmFsZXJ0RXJyb3IgPSBmYWxzZTsNCiAgICAgICAgfSwgNTAwMCk7DQogICAgICB9DQogICAgfSwNCg0KICAgIGJ1aWxkRmlsZXMoKSB7DQogICAgICB2YXIgdGVzdGUgPSBbXTsNCiAgICAgIGlmICghdGhpcy5pbmZvR2VyYWlzTGlzdC5maWxlcykgcmV0dXJuOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZm9HZXJhaXNMaXN0LmZpbGVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGlmICh0aGlzLmluZm9HZXJhaXNMaXN0LmZpbGVzW2ldIGluc3RhbmNlb2YgRmlsZSkgcmV0dXJuOw0KDQogICAgICAgIHRlc3RlLnB1c2goDQogICAgICAgICAgbmV3IEZpbGUoDQogICAgICAgICAgICBbdGhpcy5pbmZvR2VyYWlzTGlzdC5maWxlc1tpXS5maWxlXSwNCiAgICAgICAgICAgIHRoaXMuaW5mb0dlcmFpc0xpc3QuZmlsZXNbaV0uZmlsZU5hbWUNCiAgICAgICAgICAgICAgPyB0aGlzLmluZm9HZXJhaXNMaXN0LmZpbGVzW2ldLmZpbGVOYW1lDQogICAgICAgICAgICAgIDogdGhpcy5pbmZvR2VyYWlzTGlzdC5maWxlc1tpXS5uYW1lLA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICB0eXBlOiAiYmFzZTY0IiwNCiAgICAgICAgICAgIH0NCiAgICAgICAgICApDQogICAgICAgICk7DQogICAgICB9DQogICAgICB0aGlzLmluZm9HZXJhaXNMaXN0LmZpbGVzID0gdGVzdGU7DQogICAgfSwNCiAgfSwNCg0KICB3YXRjaDogew0KICAgIHZhbHVlKG5ld1ZhbHVlKSB7DQogICAgICB0aGlzLmluZm9HZXJhaXNMaXN0ID0gbmV3VmFsdWU7DQogICAgICB0aGlzLml0ZW1zVG9Eb3dubG9hZCA9IHRoaXMuaW5mb0dlcmFpc0xpc3QuZmlsZXM7DQogICAgICB0aGlzLmJ1aWxkRmlsZXMoKTsNCiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgIH0sDQoNCiAgICBpbmZvR2VyYWlzTGlzdDogew0KICAgICAgZGVlcDogdHJ1ZSwNCiAgICAgIGhhbmRsZXIoKSB7DQogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5pbmZvR2VyYWlzTGlzdCk7DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgfSwNCiAgICB9LA0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgZWRpdFBlcm1pc3Npb24oKSB7DQogICAgICByZXR1cm4gdGhpcy5oYXNQZXJtaXNzaW9uKA0KICAgICAgICB0aGlzLiRQZXJtaXNzaW9uTmFtZXMucGVybWlzc2lvblB1cmNoYXNlT3JkZXJFZGl0DQogICAgICApOw0KICAgIH0sDQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICBpZiAoDQogICAgICB0aGlzLmhhc1Blcm1pc3Npb24odGhpcy4kUGVybWlzc2lvbk5hbWVzLnBlcm1pc3Npb25DYXRlZ29yeVNpdHVhdGlvblNlZSkNCiAgICApDQogICAgICB0aGlzLnNldENhdGVnb3JpZXMoKTsNCiAgfSwNCg0KICBjb21wb25lbnRzOiB7DQogICAgRGF0ZVBpY2tlciwNCiAgICBNaXNzaW5nUGVybWlzc2lvbk1vZGFsLA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["primeiraColetaInformacoesGerais.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"primeiraColetaInformacoesGerais.vue","sourceRoot":"src/views/ordemCompra/coleta","sourcesContent":["<template>\r\n  <div class=\"white\">\r\n    <v-alert\r\n      type=\"error\"\r\n      transition=\"slide-y-transition\"\r\n      dismissible\r\n      v-show=\"alertError\"\r\n      dense\r\n      class=\"mt-2\"\r\n      width=\"100%\"\r\n      >{{ alertErrorText }}</v-alert\r\n    >\r\n\r\n    <v-dialog v-model=\"dialogErrorColetaConcluida\" max-width=\"350px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"asia-red\">\r\n          mdi-alert-octagon\r\n        </v-icon>\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          Para concluir essa coleta, é necessário que anterior esteja concluída\r\n          e salva!\r\n        </h4>\r\n\r\n        <v-btn\r\n          block\r\n          style=\"background: #c90c0f\"\r\n          rounded\r\n          large\r\n          text\r\n          color=\"white\"\r\n          @click=\"dialogErrorColetaConcluida = false\"\r\n          >FECHAR</v-btn\r\n        >\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <MissingPermissionModal ref=\"missingPermissionModal\" />\r\n    <!-- INFORMAÇÕES GERAIS -->\r\n    <v-form ref=\"form\">\r\n      <div class=\"d-flex\" style=\"width: 100%\">\r\n        <v-select\r\n          v-if=\"hasPermission($PermissionNames.permissionCategorySituationSee)\"\r\n          :disabled=\"!editPermission\"\r\n          clearable\r\n          style=\"width: 33%\"\r\n          class=\"mr-4\"\r\n          label=\"Situação da Coleta\"\r\n          :items=\"tipoSituacaoOrdemCompra\"\r\n          v-model=\"infoGeraisList.collectionStatusId\"\r\n          :loading=\"loading\"\r\n          validate-on-blur\r\n          ref=\"selectedSituacao\"\r\n          @change=\"selectValue(infoGeraisList.collectionStatusId)\"\r\n        ></v-select>\r\n        <v-text-field\r\n          v-else\r\n          disabled\r\n          style=\"width: 33%\"\r\n          class=\"mr-4\"\r\n          label=\"Situação da Coleta\"\r\n          :loading=\"loading\"\r\n          v-model=\"infoGeraisList.collectionStatusDescription\"\r\n          :rules=\"[rules.required]\"\r\n        >\r\n        </v-text-field>\r\n\r\n        <DatePicker\r\n          label=\"Data Coleta\"\r\n          style=\"width: 33%\"\r\n          class=\"mr-4\"\r\n          v-model=\"infoGeraisList.collectionDate\"\r\n          :disabled=\"!editPermission\"\r\n        ></DatePicker>\r\n\r\n        <v-text-field\r\n          clearable\r\n          style=\"width: 33%\"\r\n          label=\"Transportadora (opcional)\"\r\n          v-model=\"infoGeraisList.shippingCompany\"\r\n          :loading=\"loading\"\r\n          :disabled=\"!editPermission\"\r\n        ></v-text-field>\r\n      </div>\r\n    </v-form>\r\n\r\n    <div class=\"d-flex\" style=\"width: 100%\">\r\n      <v-text-field\r\n        :disabled=\"!editPermission\"\r\n        clearable\r\n        style=\"width: 33%\"\r\n        class=\"mr-4\"\r\n        label=\"Nota Fiscal (opcional)\"\r\n        v-model=\"infoGeraisList.receipt\"\r\n        :loading=\"loading\"\r\n      ></v-text-field>\r\n\r\n      <v-file-input\r\n        :disabled=\"!editPermission\"\r\n        persistent-hint\r\n        accept=\"application/pdf\"\r\n        hint=\"Formato permitido: PDF. Tamanho máximo: 25 MB\"\r\n        clearable\r\n        style=\"width: 33%\"\r\n        label=\"Nota Fiscal (opcional)\"\r\n        append-icon=\"mdi-download\"\r\n        @click:append=\"downloadFiles\"\r\n        v-model=\"infoGeraisList.files\"\r\n        multiple\r\n        :loading=\"loading\"\r\n        @change=\"validateLength(infoGeraisList.files)\"\r\n      >\r\n        <template v-slot:selection=\"{ index, text }\">\r\n          <v-chip\r\n            v-if=\"index < 1 && infoGeraisList.files.length == 1\"\r\n            color=\"red accent-4\"\r\n            dark\r\n            label\r\n            small\r\n          >\r\n            {{ text }}\r\n          </v-chip>\r\n\r\n          <span\r\n            v-else-if=\"index === 1\"\r\n            class=\"text-overline grey--text text--darken-3 mx-2\"\r\n          >\r\n            +{{ infoGeraisList.files.length }} Arquivo(s)\r\n          </span>\r\n        </template></v-file-input\r\n      >\r\n    </div>\r\n\r\n    <div class=\"d-flex flex-row justify-end\" style=\"margin-top: 68px\">\r\n      <v-btn\r\n        v-if=\"editPermission\"\r\n        rounded\r\n        class=\"asia-red white--text mb-4\"\r\n        :loading=\"loadingSave\"\r\n        @click=\"saveInfos\"\r\n        >SALVAR</v-btn\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DatePicker from \"@/components/DatePicker\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport tiposCategorias from \"@/lib/enumTiposCategorias.js\";\r\nimport { toBase64 } from \"@/lib/helpers/base64\";\r\nimport validationRules from \"../../../mixins/validationRules\";\r\nimport MissingPermissionModal from \"@/components/MissingPermissionModal.vue\";\r\n\r\nconst moduleColetas = createNamespacedHelpers(\"ModuleColetas\");\r\nconst moduleOrdemDeCompra = createNamespacedHelpers(\"ModuleOrdemDeCompra\");\r\nconst moduleCategoriaSituacao = createNamespacedHelpers(\r\n  \"ModuleCategoriaSituacao\"\r\n);\r\n\r\nexport default {\r\n  mixins: [validationRules],\r\n  props: [\"value\", \"listMaterials\", \"indexCollection\", \"coletasList\"],\r\n  data: () => ({\r\n    dataEntrega: \"\",\r\n    infoGeraisList: {\r\n      purchaseCollectionMaterialDto: [],\r\n    },\r\n    tipoSituacaoOrdemCompra: [],\r\n    loadingSave: null,\r\n    itemToDownload: null,\r\n    alertError: null,\r\n    alertErrorText: null,\r\n    loading: true,\r\n    dialogErrorColetaConcluida: false,\r\n  }),\r\n\r\n  methods: {\r\n    ...moduleOrdemDeCompra.mapActions({\r\n      setIfIsUpdated: \"setIfIsUpdated\",\r\n    }),\r\n\r\n    ...moduleCategoriaSituacao.mapActions({\r\n      getByType: \"getByType\",\r\n      getByIdCategoriaSituacao: \"getById\",\r\n    }),\r\n\r\n    ...moduleColetas.mapActions({\r\n      update: \"update\",\r\n      create: \"create\",\r\n    }),\r\n\r\n    async setCategories() {\r\n      var items = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.situaçãodacoleta\r\n      );\r\n      items.forEach((element) => {\r\n        this.tipoSituacaoOrdemCompra.push({\r\n          value: element.id,\r\n          text: element.description,\r\n          concluida: element.flag,\r\n        });\r\n      });\r\n    },\r\n\r\n    selectValue(collectionStatus) {\r\n      if (collectionStatus == 0) {\r\n        return;\r\n      }\r\n\r\n      if (this.coletasList.length > 1 && this.indexCollection != 0) {\r\n        let itemAtual = this.coletasList[this.indexCollection];\r\n\r\n        if (itemAtual.collectionStatusFlag) {\r\n          return;\r\n        }\r\n\r\n        let itemAnterior = this.coletasList[this.indexCollection - 1];\r\n\r\n        let situacaoAtual = this.tipoSituacaoOrdemCompra.find(\r\n          (element) => element.value == collectionStatus\r\n        );\r\n\r\n        if (\r\n          !itemAnterior.collectionStatusFlag &&\r\n          situacaoAtual &&\r\n          !situacaoAtual.id & situacaoAtual.concluida\r\n        ) {\r\n          this.$refs[\"selectedSituacao\"].reset();\r\n          this.dialogErrorColetaConcluida = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    async saveInfos() {\r\n      if (\r\n        !this.hasPermission(\r\n          this.$PermissionNames.permissionCategorySituationSee\r\n        ) &&\r\n        !this.infoGeraisList.collectionStatusId\r\n      ) {\r\n        this.$refs.missingPermissionModal.open();\r\n        return;\r\n      }\r\n\r\n      var items = {\r\n        id: this.$route.params.id,\r\n        isUpdated: true,\r\n      };\r\n\r\n      await this.setIfIsUpdated(items);\r\n      this.loadingSave = true;\r\n\r\n      var files = [];\r\n      if (this.infoGeraisList.files) {\r\n        for (let i = 0; i < this.infoGeraisList.files.length; i++) {\r\n          const element = this.infoGeraisList.files[i];\r\n          var toBase = await toBase64(element, false);\r\n          files.push({ File: toBase, FileName: element.name });\r\n        }\r\n      }\r\n\r\n      this.infoGeraisList.files = files;\r\n      var response = null;\r\n      if (!this.infoGeraisList.id) {\r\n        this.listMaterials.forEach((x) => {\r\n          x.id = 0;\r\n        });\r\n\r\n        this.infoGeraisList.purchaseCollectionMaterial = this.listMaterials;\r\n        response = await this.create(this.infoGeraisList);\r\n      } else {\r\n        response = await this.update(this.infoGeraisList);\r\n      }\r\n\r\n      if (response.status == 200) {\r\n        this.$emit(\"success\", \"Entrega salva com sucesso!\");\r\n        this.loadingSave = false;\r\n      }\r\n      this.loadingSave = false;\r\n    },\r\n\r\n    downloadFiles() {\r\n      if (this.itemsToDownload) {\r\n        for (let i = 0; i < this.itemsToDownload.length; i++) {\r\n          const element = this.itemsToDownload[i];\r\n          var a = document.createElement(\"a\");\r\n          a.href = \"data:image/jpg;base64,\" + element.file;\r\n          a.download = element.fileName;\r\n          a.click();\r\n          a.remove();\r\n        }\r\n      }\r\n    },\r\n\r\n    validateLength(files) {\r\n      if (!files) return;\r\n      var length = null;\r\n      for (let i = 0; i < files.length; i++) {\r\n        const element = files[i];\r\n        length = length + element.size;\r\n      }\r\n      if (length > 25000000) {\r\n        this.infoGeraisList.files = [];\r\n        this.$emit(\"setIndex\", this.indexCollection, this.infoGeraisList);\r\n        this.alertError = true;\r\n        this.alertErrorText = \"O tamanho dos arquivos deve ser inferior à 25MB\";\r\n        setTimeout(() => {\r\n          this.alertError = false;\r\n        }, 5000);\r\n      }\r\n    },\r\n\r\n    buildFiles() {\r\n      var teste = [];\r\n      if (!this.infoGeraisList.files) return;\r\n      for (let i = 0; i < this.infoGeraisList.files.length; i++) {\r\n        if (this.infoGeraisList.files[i] instanceof File) return;\r\n\r\n        teste.push(\r\n          new File(\r\n            [this.infoGeraisList.files[i].file],\r\n            this.infoGeraisList.files[i].fileName\r\n              ? this.infoGeraisList.files[i].fileName\r\n              : this.infoGeraisList.files[i].name,\r\n            {\r\n              type: \"base64\",\r\n            }\r\n          )\r\n        );\r\n      }\r\n      this.infoGeraisList.files = teste;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    value(newValue) {\r\n      this.infoGeraisList = newValue;\r\n      this.itemsToDownload = this.infoGeraisList.files;\r\n      this.buildFiles();\r\n      this.loading = false;\r\n    },\r\n\r\n    infoGeraisList: {\r\n      deep: true,\r\n      handler() {\r\n        this.$emit(\"input\", this.infoGeraisList);\r\n        this.loading = false;\r\n      },\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(\r\n        this.$PermissionNames.permissionPurchaseOrderEdit\r\n      );\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (\r\n      this.hasPermission(this.$PermissionNames.permissionCategorySituationSee)\r\n    )\r\n      this.setCategories();\r\n  },\r\n\r\n  components: {\r\n    DatePicker,\r\n    MissingPermissionModal,\r\n  },\r\n};\r\n</script>\r\n"]}]}