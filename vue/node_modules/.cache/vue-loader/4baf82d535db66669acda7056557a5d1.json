{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ncm\\ViewNCMManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ncm\\ViewNCMManagement.vue","mtime":1680609356647},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVG9wU2VjdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9wU2VjdGlvbi52dWUiOw0KaW1wb3J0IGdldFJvdXRlckRhdGEgZnJvbSAiQC9taXhpbnMvZ2V0Um91dGVyRGF0YS5qcyI7DQppbXBvcnQgdmFsaWRhdGlvblJ1bGVzIGZyb20gIi4uLy4uL21peGlucy92YWxpZGF0aW9uUnVsZXMiOw0KaW1wb3J0IG1hdGVyaWFsVHlwZXNFbnVtIGZyb20gIkAvbGliL2VudW1UaXBvc01hdGVyaWFpcy5qcyI7DQppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gInZ1ZXgiOw0KDQpjb25zdCBtb2R1bGVOQ00gPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiTW9kdWxlTkNNIik7DQpjb25zdCBtb2R1bGVNYXRlcmlhbHMgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiTW9kdWxlTWF0ZXJpYWxQcm9wcyIpOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGE6ICgpID0+ICh7DQogICAgbmFtZVJvdXRlOiAiVmlld05DTU1hbmFnZW1lbnQiLA0KICAgIG5jbURhdGE6IHsNCiAgICAgIHN0YXR1czogdHJ1ZSwNCiAgICB9LA0KICAgIHNlbGVjdGVkTWF0ZXJpYWxDYXRlZ29yeToge30sDQogICAgZGlhbG9nTkNNVmFsaWRhdGlvbjogZmFsc2UsDQogICAgbG9hZGluZ0J0blNhdmU6IGZhbHNlLA0KICAgIG1hdGVyaWFsVHlwZXM6IFtdLA0KICAgIG1hdGVyaWFsQ2F0ZWdvcnlMaXN0OiBbXSwNCiAgICBmaWVsZExvYWRpbmc6IGZhbHNlLA0KICAgIGFsZXJ0U3VjY2Vzc1RleHQ6IG51bGwsDQogICAgYWxlcnRTdWNjZXNzOiBmYWxzZSwNCiAgICBhbGVydEVycm9yVGV4dDogbnVsbCwNCiAgICBhbGVydEVycm9yOiBmYWxzZSwNCiAgfSksDQogIHByb3BzOiBbImlkIl0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1vZHVsZU5DTS5tYXBBY3Rpb25zKHsNCiAgICAgIHVwZGF0ZU5DTTogInVwZGF0ZSIsDQogICAgICBjcmVhdGVOQ006ICJjcmVhdGUiLA0KICAgICAgZ2V5QnlJZDogImdldEJ5SWQiLA0KICAgIH0pLA0KICAgIC4uLm1vZHVsZU1hdGVyaWFscy5tYXBBY3Rpb25zKHsNCiAgICAgIGdldEFsbE1hdGVyaWFsc0J5VHlwZTogImdldE1hdGVyaWFsVHlwZSIsDQogICAgICBnZXRDYXRlZ29yeUJ5SWQ6ICJnZXRCeUlkIiwNCiAgICB9KSwNCg0KICAgIG5jbVZhbGlkYXRvcigkZXZlbnQpIHsNCiAgICAgIGxldCBrZXlDb2RlID0gJGV2ZW50LmtleUNvZGUgPyAkZXZlbnQua2V5Q29kZSA6ICRldmVudC53aGljaDsNCiAgICAgIGlmIChrZXlDb2RlID09PSA0NikgcmV0dXJuIHRydWU7DQoNCiAgICAgIGlmICgoa2V5Q29kZSAhPT0gOCB8fCBrZXlDb2RlID09PSAzMikgJiYgKGtleUNvZGUgPCA0OCB8fCBrZXlDb2RlID4gNTcpKQ0KICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICB9LA0KDQogICAgYXN5bmMgcmV0dXJuTWF0ZXJpYWxDYXRlZ29yeUJ5VHlwZShtYXRlcmlhbFR5cGUpIHsNCiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0QWxsTWF0ZXJpYWxzQnlUeXBlKG1hdGVyaWFsVHlwZSk7DQogICAgICB0aGlzLnNlbGVjdGVkTWF0ZXJpYWxDYXRlZ29yeSA9IG51bGw7DQogICAgICB0aGlzLm1hdGVyaWFsQ2F0ZWdvcnlMaXN0ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQ7DQogICAgfSwNCg0KICAgIGFzeW5jIHZhbGlkYXRlQW5kU2F2ZSgpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHJldHVybjsNCiAgICAgIGxldCByZXNwb25zZSA9IG51bGw7DQoNCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsNCiAgICAgICAgdGhpcy5uY21EYXRhLm1hdGVyaWFsQ2F0ZWdvcnlJZCA9IHRoaXMuc2VsZWN0ZWRNYXRlcmlhbENhdGVnb3J5LmlkOw0KICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMudXBkYXRlTkNNKHRoaXMubmNtRGF0YSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm5jbURhdGEubWF0ZXJpYWxDYXRlZ29yeUlkID0gdGhpcy5zZWxlY3RlZE1hdGVyaWFsQ2F0ZWdvcnkuaWQ7DQogICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jcmVhdGVOQ00odGhpcy5uY21EYXRhKTsNCiAgICAgIH0NCg0KICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkNCiAgICAgICAgICB0aGlzLmN1c3RvbUFsZXJ0KCJOQ00gYXR1YWxpemFkbyBjb20gc3VjZXNzbyEiKTsNCiAgICAgICAgZWxzZSB0aGlzLmN1c3RvbUFsZXJ0KCJOQ00gY3JpYWRvIGNvbSBzdWNlc3NvISIpOw0KICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5lcnJvci5jb2RlID09IDQwNikgdGhpcy5kaWFsb2dOQ01WYWxpZGF0aW9uID0gdHJ1ZTsNCiAgICAgIGVsc2Ugew0KICAgICAgICB0aGlzLmFsZXJ0RXJyb3JUZXh0ID0NCiAgICAgICAgICAiT2NvcnJldSB1bSBlcnJvIGludGVybm8sIGVudHJlIGVtIGNvbnRhdG8gY29tIG8gYWRtaW5pc3RyYWRvciI7DQogICAgICAgIHRoaXMuYWxlcnRFcnJvciA9IHRydWU7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIHRoaXMuYWxlcnRFcnJvciA9IGZhbHNlOw0KICAgICAgICB9LCAzMDAwKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgbG9hZE5DTURhdGEoKSB7DQogICAgICB0aGlzLmZpZWxkTG9hZGluZyA9IHRydWU7DQogICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdleUJ5SWQodGhpcy5pZCk7DQoNCiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgIHRoaXMubmNtRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0Ow0KICAgICAgICB0aGlzLm5jbURhdGEubWF0ZXJpYWxUeXBlID0gdGhpcy5uY21EYXRhLm1hdGVyaWFsVHlwZS50b1N0cmluZygpOw0KICAgICAgICBhd2FpdCB0aGlzLnJldHVybk1hdGVyaWFsQ2F0ZWdvcnlCeVR5cGUodGhpcy5uY21EYXRhLm1hdGVyaWFsVHlwZSk7DQogICAgICAgIGF3YWl0IHRoaXMubG9hZE1hdGVyaWFsQ2F0ZWdvcnkodGhpcy5uY21EYXRhLm1hdGVyaWFsQ2F0ZWdvcnlJZCk7DQogICAgICAgIHRoaXMuZmllbGRMb2FkaW5nID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCg0KICAgIGFzeW5jIGxvYWRNYXRlcmlhbENhdGVnb3J5KGVudGl0eUlkKSB7DQogICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldENhdGVnb3J5QnlJZChlbnRpdHlJZCk7DQogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkNCiAgICAgICAgdGhpcy5zZWxlY3RlZE1hdGVyaWFsQ2F0ZWdvcnkgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsNCiAgICB9LA0KDQogICAgY3VzdG9tQWxlcnQoYWxlcnRUZXh0KSB7DQogICAgICB0aGlzLmFsZXJ0U3VjY2Vzc1RleHQgPSBhbGVydFRleHQ7DQogICAgICB0aGlzLmFsZXJ0U3VjY2VzcyA9IHRydWU7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5hbGVydFN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiBgL2hvbWUvbmNtYCB9KTsNCiAgICAgIH0sIDMwMDApOw0KICAgIH0sDQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICByZXR1cm5NYXRlcmlhbFR5cGVzKCkgew0KICAgICAgT2JqZWN0LmVudHJpZXMobWF0ZXJpYWxUeXBlc0VudW0pLmZvckVhY2goKHgpID0+DQogICAgICAgIHRoaXMubWF0ZXJpYWxUeXBlcy5wdXNoKHsgdmFsdWU6IHhbMF0sIHRleHQ6IHhbMV0gfSkNCiAgICAgICk7DQogICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbFR5cGVzOw0KICAgIH0sDQoNCiAgICBlZGl0UGVybWlzc2lvbigpIHsNCiAgICAgIHJldHVybiB0aGlzLmhhc1Blcm1pc3Npb24odGhpcy4kUGVybWlzc2lvbk5hbWVzLnBlcm1pc3Npb25OZXdzRWRpdCk7DQogICAgfSwNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIGlmICh0aGlzLmlkKSB0aGlzLmxvYWROQ01EYXRhKCk7DQogICAgdGhpcy4kcmVmcy5wZXJmaWxVc3VhcmlvLmdldEFsbFBlcm1pc3Npb25zKGZhbHNlKTsNCiAgfSwNCg0KICBtaXhpbnM6IFt2YWxpZGF0aW9uUnVsZXMsIGdldFJvdXRlckRhdGFdLA0KDQogIGNvbXBvbmVudHM6IHsNCiAgICBUb3BTZWN0aW9uLA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["ViewNCMManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"ViewNCMManagement.vue","sourceRoot":"src/views/ncm","sourcesContent":["<template>\r\n  <div\r\n    class=\"d-flex flex-column justify-space-between mx-10\"\r\n    style=\"width: 100%; height: 98vh\"\r\n  >\r\n    <top-section />\r\n\r\n    <!-- VALIDATION DIALOG -->\r\n    <v-dialog v-model=\"dialogNCMValidation\" persistent max-width=\"450px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"asia-red\"\r\n          >mdi-alert-octagon</v-icon\r\n        >\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          Já existe um NCM com o número informado, operação não permitida.\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            large\r\n            text\r\n            rounded\r\n            dense\r\n            class=\"asia-red white--text mr-4\"\r\n            @click=\"dialogNCMValidation = false\"\r\n            >FECHAR</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <div class=\"d-flex flex-row\">\r\n      <h2 class=\"asia-neutral--text text--var-1 mr-6\">\r\n        {{ $route.meta.title }}\r\n      </h2>\r\n\r\n      <v-switch\r\n        :label=\"ncmData.status ? 'Ativo' : 'Inativo'\"\r\n        v-model=\"ncmData.status\"\r\n        :disabled=\"!editPermission\"\r\n        class=\"mt-0\"\r\n      />\r\n    </div>\r\n\r\n    <v-alert\r\n      type=\"success\"\r\n      transition=\"slide-y-transition\"\r\n      dismissible\r\n      v-show=\"alertSuccess\"\r\n      dense\r\n      width=\"100%\"\r\n      >{{ alertSuccessText }}\r\n    </v-alert>\r\n\r\n    <v-alert\r\n      dismissible\r\n      type=\"error\"\r\n      v-show=\"alertError\"\r\n      transition=\"scroll-y-transition\"\r\n      class=\"mt-6 mb-8\"\r\n      style=\"text-align: left\"\r\n      >{{ alertErrorText }}\r\n    </v-alert>\r\n\r\n    <div\r\n      style=\"overflow-y: auto\"\r\n      class=\"flex-grow-1 rounded-lg white elevation-3\"\r\n    >\r\n      <v-form class=\"px-5 mb-2\" ref=\"form\">\r\n        <div class=\"d-flex mt-3\">\r\n          <v-text-field\r\n            label=\"NCM\"\r\n            class=\"mr-8\"\r\n            :rules=\"[rules.required]\"\r\n            :disabled=\"!editPermission\"\r\n            :loading=\"fieldLoading\"\r\n            @keypress=\"ncmValidator($event)\"\r\n            maxLength=\"10\"\r\n            validate-on-blur\r\n            v-model=\"ncmData.ncmCode\"\r\n            clearable\r\n          />\r\n          <v-select\r\n            label=\"Tipo de Material\"\r\n            v-model=\"ncmData.materialType\"\r\n            :rules=\"[rules.required]\"\r\n            :items=\"returnMaterialTypes\"\r\n            :loading=\"fieldLoading\"\r\n            :disabled=\"!editPermission\"\r\n            :menu-props=\"{ bottom: true, offsetY: true }\"\r\n            @input=\"returnMaterialCategoryByType(ncmData.materialType)\"\r\n            clearable\r\n          />\r\n        </div>\r\n\r\n        <v-autocomplete\r\n          label=\"Categoria - Material\"\r\n          class=\"mt-6\"\r\n          v-model=\"selectedMaterialCategory\"\r\n          :rules=\"[rules.required]\"\r\n          :disabled=\"ncmData.materialType == null || !editPermission\"\r\n          :items=\"materialCategoryList\"\r\n          :item-text=\"(item) => item.description + ' - ' + item.material\"\r\n          :loading=\"fieldLoading\"\r\n          :menu-props=\"{ bottom: true, offsetY: true }\"\r\n          return-object\r\n          no-data-text=\"Nenhum registro encontrado para o Tipo de Material informado\"\r\n          clearable\r\n        />\r\n\r\n        <v-text-field\r\n          label=\"Descrição\"\r\n          class=\"mt-6\"\r\n          :rules=\"[rules.required]\"\r\n          :loading=\"fieldLoading\"\r\n          :disabled=\"!editPermission\"\r\n          v-model=\"ncmData.description\"\r\n          clearable\r\n        />\r\n\r\n        <v-textarea\r\n          label=\"Detalhamento\"\r\n          class=\"mt-6\"\r\n          :disabled=\"!editPermission\"\r\n          :rules=\"[rules.required]\"\r\n          :loading=\"fieldLoading\"\r\n          v-model=\"ncmData.detailing\"\r\n          outlined\r\n          no-resize\r\n          height=\"380\"\r\n          clearable\r\n        />\r\n      </v-form>\r\n    </div>\r\n\r\n    <div\r\n      v-if=\"editPermission\"\r\n      class=\"d-flex flex-row justify-end align-end my-4\"\r\n    >\r\n      <v-btn dense rounded class=\"mr-3\" text @click=\"$router.push(`/home/ncm`)\">\r\n        CANCELAR\r\n      </v-btn>\r\n\r\n      <v-btn\r\n        rounded\r\n        dense\r\n        class=\"asia-red white--text\"\r\n        @click=\"validateAndSave()\"\r\n        :loading=\"loadingBtnSave\"\r\n        >SALVAR\r\n      </v-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport getRouterData from \"@/mixins/getRouterData.js\";\r\nimport validationRules from \"../../mixins/validationRules\";\r\nimport materialTypesEnum from \"@/lib/enumTiposMateriais.js\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\n\r\nconst moduleNCM = createNamespacedHelpers(\"ModuleNCM\");\r\nconst moduleMaterials = createNamespacedHelpers(\"ModuleMaterialProps\");\r\n\r\nexport default {\r\n  data: () => ({\r\n    nameRoute: \"ViewNCMManagement\",\r\n    ncmData: {\r\n      status: true,\r\n    },\r\n    selectedMaterialCategory: {},\r\n    dialogNCMValidation: false,\r\n    loadingBtnSave: false,\r\n    materialTypes: [],\r\n    materialCategoryList: [],\r\n    fieldLoading: false,\r\n    alertSuccessText: null,\r\n    alertSuccess: false,\r\n    alertErrorText: null,\r\n    alertError: false,\r\n  }),\r\n  props: [\"id\"],\r\n\r\n  methods: {\r\n    ...moduleNCM.mapActions({\r\n      updateNCM: \"update\",\r\n      createNCM: \"create\",\r\n      geyById: \"getById\",\r\n    }),\r\n    ...moduleMaterials.mapActions({\r\n      getAllMaterialsByType: \"getMaterialType\",\r\n      getCategoryById: \"getById\",\r\n    }),\r\n\r\n    ncmValidator($event) {\r\n      let keyCode = $event.keyCode ? $event.keyCode : $event.which;\r\n      if (keyCode === 46) return true;\r\n\r\n      if ((keyCode !== 8 || keyCode === 32) && (keyCode < 48 || keyCode > 57))\r\n        $event.preventDefault();\r\n    },\r\n\r\n    async returnMaterialCategoryByType(materialType) {\r\n      let response = await this.getAllMaterialsByType(materialType);\r\n      this.selectedMaterialCategory = null;\r\n      this.materialCategoryList = response.data.result;\r\n    },\r\n\r\n    async validateAndSave() {\r\n      if (!this.$refs.form.validate()) return;\r\n      let response = null;\r\n\r\n      if (this.$route.params.id) {\r\n        this.ncmData.materialCategoryId = this.selectedMaterialCategory.id;\r\n        response = await this.updateNCM(this.ncmData);\r\n      } else {\r\n        this.ncmData.materialCategoryId = this.selectedMaterialCategory.id;\r\n        response = await this.createNCM(this.ncmData);\r\n      }\r\n\r\n      if (response.status == 200) {\r\n        if (this.$route.params.id)\r\n          this.customAlert(\"NCM atualizado com sucesso!\");\r\n        else this.customAlert(\"NCM criado com sucesso!\");\r\n      } else if (response.error.code == 406) this.dialogNCMValidation = true;\r\n      else {\r\n        this.alertErrorText =\r\n          \"Ocorreu um erro interno, entre em contato com o administrador\";\r\n        this.alertError = true;\r\n        setTimeout(() => {\r\n          this.alertError = false;\r\n        }, 3000);\r\n      }\r\n    },\r\n\r\n    async loadNCMData() {\r\n      this.fieldLoading = true;\r\n      let response = await this.geyById(this.id);\r\n\r\n      if (response.status == 200) {\r\n        this.ncmData = response.data.result;\r\n        this.ncmData.materialType = this.ncmData.materialType.toString();\r\n        await this.returnMaterialCategoryByType(this.ncmData.materialType);\r\n        await this.loadMaterialCategory(this.ncmData.materialCategoryId);\r\n        this.fieldLoading = false;\r\n      }\r\n    },\r\n\r\n    async loadMaterialCategory(entityId) {\r\n      let response = await this.getCategoryById(entityId);\r\n      if (response.status == 200)\r\n        this.selectedMaterialCategory = response.data.result;\r\n    },\r\n\r\n    customAlert(alertText) {\r\n      this.alertSuccessText = alertText;\r\n      this.alertSuccess = true;\r\n      setTimeout(() => {\r\n        this.alertSuccess = false;\r\n        this.$router.push({ path: `/home/ncm` });\r\n      }, 3000);\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    returnMaterialTypes() {\r\n      Object.entries(materialTypesEnum).forEach((x) =>\r\n        this.materialTypes.push({ value: x[0], text: x[1] })\r\n      );\r\n      return this.materialTypes;\r\n    },\r\n\r\n    editPermission() {\r\n      return this.hasPermission(this.$PermissionNames.permissionNewsEdit);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (this.id) this.loadNCMData();\r\n    this.$refs.perfilUsuario.getAllPermissions(false);\r\n  },\r\n\r\n  mixins: [validationRules, getRouterData],\r\n\r\n  components: {\r\n    TopSection,\r\n  },\r\n};\r\n</script>"]}]}