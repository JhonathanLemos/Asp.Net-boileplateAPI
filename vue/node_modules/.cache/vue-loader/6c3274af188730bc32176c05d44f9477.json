{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\components\\ParadasCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\components\\ParadasCreate.vue","mtime":1680609356593},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IGNydWRDb250cm9sbGVyIGZyb20gIkAvbWl4aW5zL2NydWRDb250cm9sbGVyLmpzIjsNCmltcG9ydCB2YWxpZGF0aW9uUnVsZXMgZnJvbSAiQC9taXhpbnMvdmFsaWRhdGlvblJ1bGVzLmpzIjsNCmltcG9ydCBEYXRlUGlja2VyIGZyb20gIi4vRGF0ZVBpY2tlci52dWUiOw0KaW1wb3J0IHRpcG9zQ2F0ZWdvcmlhcyBmcm9tICJAL2xpYi9lbnVtVGlwb3NDYXRlZ29yaWFzLmpzIjsNCmltcG9ydCBNb2RhbFJlbGFjaW9uYXJQcm9mb3JtYXMgZnJvbSAiLi4vdmlld3MvdmlhZ2Vuc05hdmlvcy9tb2RhbFJlbGFjaW9uYXJQcm9mb3JtYXMudnVlIjsNCmNvbnN0IG1vZHVsZVBvcnRzID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoIk1vZHVsZVBvcnRvcyIpOw0KY29uc3QgbW9kdWxlQWdlbnRzID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoIk1vZHVsZUFnZW50ZXNQb3J0dWFyaW9zIik7DQpjb25zdCBtb2R1bGVTaGlwVHJpcHMgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiTW9kdWxlVmlhZ2Vuc05hdmlvcyIpOw0KY29uc3QgbW9kdWxlUGFyYWRhcyA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJNb2R1bGVQYXJhZGFzSW50ZXJtZWRpYXJpYXMiKTsNCmNvbnN0IG1vZHVsZUNhdGVnb3JpYVNpdHVhY2FvID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoDQogICJNb2R1bGVDYXRlZ29yaWFTaXR1YWNhbyINCik7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IFsidmFsdWUiLCAiZGlzYWJsZWQiLCAicmVhZG9ubHkiXSwNCiAgZGF0YTogKCkgPT4gKHsNCiAgICBzdG9wTGlzdDogW10sDQogICAgb3Blbk1vZGFsQWxlcnQ6IG51bGwsDQogICAgaW5kZXhUb1JlbW92ZTogbnVsbCwNCiAgICBoZWFkZXJzOiBbDQogICAgICB7IHRleHQ6ICIiLCB2YWx1ZTogImNvbDEiIH0sDQogICAgICB7IHRleHQ6ICJQcm9mb3JtYSIsIHZhbHVlOiAiY29sMiIgfSwNCiAgICAgIHsgdGV4dDogIkVtYmFycXVlIiwgdmFsdWU6ICJjb2wzIiB9LA0KICAgICAgeyB0ZXh0OiAiUGxhbnRhIiwgdmFsdWU6ICJjb2w0IiB9LA0KICAgICAgeyB0ZXh0OiAiUmF6w6NvIFNvY2lhbCIsIHZhbHVlOiAiY29sNSIgfSwNCiAgICBdLA0KICAgIGRhdGFOZXdJdGVtOiB7DQogICAgICBpZDogMCwNCiAgICAgIGV0ZFN0YXR1czogbnVsbCwNCiAgICAgIHN0b3BFdGREYXRlOiAiIiwNCiAgICAgIGVzdGltYXRlZERlbGl2ZXJ5RGF0ZTogbnVsbCwNCiAgICAgIGV0YVN0YXR1czogbnVsbCwNCiAgICAgIHN0b3BFdGFEYXRlOiBudWxsLA0KICAgICAgZXN0aW1hdGVkQXJyaXZhbERhdGU6IG51bGwsDQogICAgICBwb3J0QWdlbnRJZDogbnVsbCwNCiAgICAgIG9yaWdpblBvcnRJZDogbnVsbCwNCiAgICAgIGlzT3JpZ2luOiBmYWxzZSwNCiAgICB9LA0KICAgIGRpc2FibGVCdXR0b25SZWxhY2lvbmFyOiBudWxsLA0KICAgIGlzQWRkOiBudWxsLA0KICAgIGVycm9yOiBudWxsLA0KICAgIGluZGV4OiBudWxsLA0KICAgIHNlbGVjdGVkUHJvZm9ybWE6IFtdLA0KICAgIHByb2Zvcm1hczogW10sDQogICAgbWVudTM6IGZhbHNlLA0KICAgIG1lbnU0OiBmYWxzZSwNCiAgICBpdGVtc1BvcnRzOiBbXSwNCiAgICBpdGVtc0FnZW50czogW10sDQogICAgdGlwb1NpdHVhY2FvRVRBOiBbXSwNCiAgICB0aXBvU2l0dWFjYW9FVEQ6IFtdLA0KICAgIGxvYWRpbmdTdGF0dXM6IGZhbHNlLA0KICAgIGRpc3BsYXlNb2RhbDogZmFsc2UsDQogICAgaXNMaXN0aW5nOiBudWxsLA0KICB9KSwNCg0KICBtZXRob2RzOiB7DQogICAgLi4ubW9kdWxlUG9ydHMubWFwQWN0aW9ucyh7IGdldEFsbFBvcnRzOiAiZ2V0QWxsU2VsZWN0IiB9KSwNCiAgICAuLi5tb2R1bGVBZ2VudHMubWFwQWN0aW9ucyh7IGdldEFsbEFnZW50czogImdldEFsbFNlbGVjdCIgfSksDQogICAgLi4ubW9kdWxlUGFyYWRhcy5tYXBBY3Rpb25zKHsgZ2V0U3RvcEJ5U2hpcFRyaXA6ICJnZXRTdG9wQnlTaGlwVHJpcCIgfSksDQogICAgLi4ubW9kdWxlQ2F0ZWdvcmlhU2l0dWFjYW8ubWFwQWN0aW9ucyh7IGdldEJ5VHlwZTogImdldEJ5VHlwZSIgfSksDQogICAgLi4ubW9kdWxlU2hpcFRyaXBzLm1hcEFjdGlvbnMoew0KICAgICAgZ2V0QnlJZDogImdldEJ5SWQiLA0KICAgICAgZ2V0U2hpcFRyaXBCeVNoaXA6ICJnZXRTaGlwVHJpcEJ5U2hpcCIsDQogICAgfSksDQoNCiAgICBhc3luYyBnZXRQb3J0cygpIHsNCiAgICAgIHZhciByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0QWxsUG9ydHMoKTsNCiAgICAgIHJlc3BvbnNlLmRhdGEucmVzdWx0Lml0ZW1zLmZvckVhY2goKGVsZW1lbnQpID0+IHsNCiAgICAgICAgdGhpcy5pdGVtc1BvcnRzLnB1c2goew0KICAgICAgICAgIHZhbHVlOiBlbGVtZW50LmlkLA0KICAgICAgICAgIHRleHQ6IGVsZW1lbnQuYWJicmV2aWF0aW9uICsgIiB8ICIgKyBlbGVtZW50Lm5hbWUsDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIGFzeW5jIGdldEFnZW50cygpIHsNCiAgICAgIHZhciByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0QWxsQWdlbnRzKCk7DQogICAgICByZXNwb25zZS5kYXRhLnJlc3VsdC5pdGVtcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7DQogICAgICAgIHRoaXMuaXRlbXNBZ2VudHMucHVzaCh7DQogICAgICAgICAgdmFsdWU6IGVsZW1lbnQuaWQsDQogICAgICAgICAgdGV4dDogZWxlbWVudC5uYW1lLA0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBmb3JtYXREYXRlKGRhdGUpIHsNCiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7DQogICAgICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBkYXRlLnNwbGl0KCItIik7DQogICAgICByZXR1cm4gYCR7ZGF5fS8ke21vbnRofS8ke3llYXJ9YDsNCiAgICB9LA0KDQogICAgZ2VuZXJhdGVOZXdTdG9wKCkgew0KICAgICAgdGhpcy5pc0FkZCA9IHRydWU7DQogICAgICB0aGlzLnN0b3BMaXN0LnB1c2goeyAuLi50aGlzLmRhdGFOZXdJdGVtIH0pOw0KDQogICAgICBpZiAodGhpcy5zdG9wTGlzdC5sZW5ndGggPT0gMSkgdGhpcy5zdG9wTGlzdFswXS5pc09yaWdpbiA9IHRydWU7DQogICAgfSwNCg0KICAgIGFzeW5jIHZlcmlmeUlmSXNFZGl0KCkgew0KICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOw0KICAgICAgaWYgKGlkICE9IG51bGwpIHsNCiAgICAgICAgdGhpcy5zZXRQcm9mb3JtYXNJbkxpc3QoKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgdmFsaWRhdGVQcm9mb3JtYXMoaSwgc3RvcCkgew0KICAgICAgaWYgKHN0b3AucHJvZm9ybWFTaGlwVHJpcEludGVybWVkaWF0ZVN0b3AubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLm9wZW5Nb2RhbEFsZXJ0ID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pbmRleFRvUmVtb3ZlID0gaTsNCiAgICAgIH0gZWxzZSB0aGlzLnJlbW92ZVBhcmFkYUZyb21MaXN0KGkpOw0KICAgIH0sDQoNCiAgICByZW1vdmVQYXJhZGFGcm9tTGlzdChpKSB7DQogICAgICB0aGlzLm9wZW5Nb2RhbEFsZXJ0ID0gZmFsc2U7DQogICAgICB0aGlzLmlzTGlzdGluZyA9IHRydWU7DQogICAgICB0aGlzLnN0b3BMaXN0W2ldLmluZGV4ID0gaTsNCiAgICAgIHRoaXMucHJvZm9ybWFzID0gdGhpcy5wcm9mb3JtYXMuZmlsdGVyKCh4KSA9PiB4LmluZGV4ICE9IGkpOw0KICAgICAgdGhpcy5zdG9wTGlzdCA9IHRoaXMuc3RvcExpc3QuZmlsdGVyKCh4KSA9PiB4LmluZGV4ICE9IGkpOw0KICAgIH0sDQoNCiAgICBzZXRFcnJvcih2KSB7DQogICAgICB0aGlzLmVycm9yID0gdjsNCiAgICB9LA0KDQogICAgc2VsZWN0ZWRQcm9mb3JtYU1ldGhvZChhLCBpbmRleCkgew0KICAgICAgYS5pbmRleCA9IGluZGV4Ow0KICAgICAgbGV0IHZlcmlmeUlmRXhpc3RzID0gW107DQogICAgICBpZiAoYS5ib2FyZGluZ0dyb3VwKQ0KICAgICAgICB2ZXJpZnlJZkV4aXN0cyA9IHRoaXMucHJvZm9ybWFzLmZpbHRlcigNCiAgICAgICAgICAoeCkgPT4NCiAgICAgICAgICAgIHguaWQgPT0gYS5pZCAmJg0KICAgICAgICAgICAgeC5ib2FyZGluZ0dyb3VwICYmDQogICAgICAgICAgICB4LmJvYXJkaW5nR3JvdXAuaWQgPT0gYS5ib2FyZGluZ0dyb3VwLmlkDQogICAgICAgICk7DQogICAgICBlbHNlIHZlcmlmeUlmRXhpc3RzID0gdGhpcy5wcm9mb3JtYXMuZmlsdGVyKCh4KSA9PiB4LmlkID09IGEuaWQpOw0KDQogICAgICBpZiAodmVyaWZ5SWZFeGlzdHMubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICAvLyB0b2RhcyBhcyBwcm9mb3JtYXMgY2FkYXN0cmFkYXMgc2FvIGFkZHMgYXF1aQ0KICAgICAgdGhpcy5wcm9mb3JtYXMucHVzaChhKTsNCg0KICAgICAgLy9maWx0cm8gcGVsbyBpbmRleCBxdWFpcyBldSBxdWVybw0KICAgICAgdmFyIHByb2Zvcm1hcyA9IHRoaXMucHJvZm9ybWFzLmZpbHRlcigoeCkgPT4geC5pbmRleCA9PSBpbmRleCk7DQoNCiAgICAgIHRoaXMuc3RvcExpc3RbaW5kZXhdLnByb2Zvcm1hcyA9IFtdOw0KICAgICAgdGhpcy5zdG9wTGlzdFtpbmRleF0ucHJvZm9ybWFTaGlwVHJpcEludGVybWVkaWF0ZVN0b3AgPSBbXTsNCiAgICAgIHByb2Zvcm1hcy5mb3JFYWNoKChwcm9mb3JtYSkgPT4gew0KICAgICAgICB0aGlzLnN0b3BMaXN0W2luZGV4XS5wcm9mb3JtYXMucHVzaChwcm9mb3JtYSk7DQogICAgICB9KTsNCiAgICAgIHRoaXMuc3RvcExpc3RbaW5kZXhdLmluZGV4ID0gaW5kZXg7DQogICAgICB0aGlzLmRpc3BsYXlNb2RhbCA9IGZhbHNlOw0KICAgIH0sDQoNCiAgICBzZXRQcm9mb3JtYXNJbkxpc3QoKSB7DQogICAgICBpZiAodGhpcy5pc0FkZCkgcmV0dXJuOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0b3BMaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGlmICghdGhpcy5zdG9wTGlzdFtpXS5wcm9mb3JtYVNoaXBUcmlwSW50ZXJtZWRpYXRlU3RvcCkgcmV0dXJuOw0KDQogICAgICAgIHRoaXMuc3RvcExpc3RbaV0ucHJvZm9ybWFTaGlwVHJpcEludGVybWVkaWF0ZVN0b3AuZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgIHgucHJvZm9ybWEuYm9hcmRpbmdHcm91cCA9IHguYm9hcmRpbmdHcm91cDsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdmFyIHByb2Zvcm1hcyA9IHRoaXMuc3RvcExpc3RbaV0ucHJvZm9ybWFTaGlwVHJpcEludGVybWVkaWF0ZVN0b3AubWFwKA0KICAgICAgICAgICh4KSA9PiB4LnByb2Zvcm1hDQogICAgICAgICk7DQoNCiAgICAgICAgaWYgKHRoaXMuaXNMaXN0aW5nKSB7DQogICAgICAgICAgdGhpcy5wcm9mb3JtYXMgPSBbXTsNCiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcHJvZm9ybWFzLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICAgICAgcHJvZm9ybWFzW2luZGV4XS5pbmRleCA9IGk7DQogICAgICAgICAgICB0aGlzLnByb2Zvcm1hcy5wdXNoKHByb2Zvcm1hc1tpbmRleF0pOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmlzTGlzdGluZyA9IGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwcm9mb3JtYXMubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgICAgICBwcm9mb3JtYXNbaW5kZXhdLmluZGV4ID0gaTsNCiAgICAgICAgICAgIHRoaXMucHJvZm9ybWFzLnB1c2gocHJvZm9ybWFzW2luZGV4XSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLmlzQWRkID0gZmFsc2U7DQogICAgfSwNCg0KICAgIHJldHVyblByb2Zvcm1hTGlzdChpKSB7DQogICAgICB2YXIgcHJvZiA9IHRoaXMucHJvZm9ybWFzLmZpbHRlcigoeCkgPT4geC5pbmRleCA9PSBpKTsNCiAgICAgIHZhciBpdGVtID0gcHJvZi5tYXAoKHgpID0+ICh7DQogICAgICAgIGNvbDE6IHguaWQsDQogICAgICAgIGNvbDI6IHgucHJvZm9ybWFWYWx1ZSwNCiAgICAgICAgY29sMzogeC5ib2FyZGluZ0dyb3VwID8geC5ib2FyZGluZ0dyb3VwLmludm9pY2UgOiAiIiwNCiAgICAgICAgY29sNDogeC5wbGFudCwNCiAgICAgICAgY29sNTogeC5jdXN0b21lck5hbWUsDQogICAgICAgIGNvbDY6IGksDQogICAgICB9KSk7DQogICAgICByZXR1cm4gaXRlbTsNCiAgICB9LA0KDQogICAgcmVtb3ZlSXRlbUZyb21SZWxhY2FvKGl0ZW0sIGkpIHsNCiAgICAgIHZhciBhbGxQcm9mb3JtYXNXaXRob3V0SW5kZXggPSB0aGlzLnByb2Zvcm1hcy5maWx0ZXIoKHgpID0+IHguaW5kZXggIT0gaSk7DQogICAgICB2YXIgYWxsUHJvZm9ybWFzV2l0aEluZGV4ID0gdGhpcy5wcm9mb3JtYXMuZmlsdGVyKCh4KSA9PiB4LmluZGV4ID09IGkpOw0KDQogICAgICBpZiAoaXRlbS5jb2wzKSB7DQogICAgICAgIGxldCBpdGVtVG9SZW1vdmUgPSBhbGxQcm9mb3JtYXNXaXRoSW5kZXguZmlsdGVyKA0KICAgICAgICAgICh4KSA9Pg0KICAgICAgICAgICAgeC5ib2FyZGluZ0dyb3VwICYmDQogICAgICAgICAgICB4LmJvYXJkaW5nR3JvdXAuaW52b2ljZSA9PSBpdGVtLmNvbDMgJiYNCiAgICAgICAgICAgIHguaWQgPT0gaXRlbS5jb2wxDQogICAgICAgIClbMF07DQoNCiAgICAgICAgYWxsUHJvZm9ybWFzV2l0aEluZGV4ID0gYWxsUHJvZm9ybWFzV2l0aEluZGV4LmZpbHRlcigNCiAgICAgICAgICAoeCkgPT4geCAhPSBpdGVtVG9SZW1vdmUNCiAgICAgICAgKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBpdGVtVG9SZW1vdmUgPSBhbGxQcm9mb3JtYXNXaXRoSW5kZXguZmlsdGVyKA0KICAgICAgICAgICh4KSA9PiAheC5ib2FyZGluZ0dyb3VwICYmIHguaWQgPT0gaXRlbS5jb2wxDQogICAgICAgIClbMF07DQoNCiAgICAgICAgYWxsUHJvZm9ybWFzV2l0aEluZGV4ID0gYWxsUHJvZm9ybWFzV2l0aEluZGV4LmZpbHRlcigNCiAgICAgICAgICAoeCkgPT4geCAhPSBpdGVtVG9SZW1vdmUNCiAgICAgICAgKTsNCiAgICAgIH0NCg0KICAgICAgdGhpcy5wcm9mb3JtYXMgPSBbXTsNCiAgICAgIHRoaXMuc3RvcExpc3RbaV0ucHJvZm9ybWFzID0gW107DQogICAgICB0aGlzLnN0b3BMaXN0W2ldLnByb2Zvcm1hU2hpcFRyaXBJbnRlcm1lZGlhdGVTdG9wID0gW107DQoNCiAgICAgIGFsbFByb2Zvcm1hc1dpdGhJbmRleC5mb3JFYWNoKCh4KSA9PiB7DQogICAgICAgIHRoaXMucHJvZm9ybWFzLnB1c2goeCk7DQogICAgICAgIHRoaXMuc3RvcExpc3RbaV0ucHJvZm9ybWFzLnB1c2goeCk7DQogICAgICB9KTsNCg0KICAgICAgYWxsUHJvZm9ybWFzV2l0aG91dEluZGV4LmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgdGhpcy5wcm9mb3JtYXMucHVzaCh4KTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBzZXRJbmRleEZvclN0b3AoaW5kZXgpIHsNCiAgICAgIHRoaXMuaW5kZXggPSBpbmRleDsNCiAgICB9LA0KDQogICAgY2xvc2VNb2RhbFJlbGF0aW9uU2hpcChib29sKSB7DQogICAgICB0aGlzLmRpc3BsYXlNb2RhbCA9IGJvb2w7DQogICAgfSwNCg0KICAgIGFzeW5jIGxvYWRTdGF0dXMoKSB7DQogICAgICB0aGlzLmxvYWRpbmdTdGF0dXMgPSB0cnVlOw0KICAgICAgdGhpcy50aXBvU2l0dWFjYW9FVEEgPSBhd2FpdCB0aGlzLmdldEJ5VHlwZSgNCiAgICAgICAgdGlwb3NDYXRlZ29yaWFzLmVudW1UaXBvc0NhdGVnb3JpYXNSZXF1ZXN0LnNpdHVhY2FvRVRBDQogICAgICApOw0KICAgICAgdGhpcy50aXBvU2l0dWFjYW9FVEQgPSBhd2FpdCB0aGlzLmdldEJ5VHlwZSgNCiAgICAgICAgdGlwb3NDYXRlZ29yaWFzLmVudW1UaXBvc0NhdGVnb3JpYXNSZXF1ZXN0LnNpdHVhY2FvRVREDQogICAgICApOw0KICAgICAgdGhpcy5sb2FkaW5nU3RhdHVzID0gZmFsc2U7DQogICAgfSwNCiAgfSwNCg0KICB3YXRjaDogew0KICAgIHN0b3BMaXN0OiB7DQogICAgICBpbW1lZGlhdGU6IHRydWUsDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaGFuZGxlcihuZXdWYWx1ZSkgew0KICAgICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIG5ld1ZhbHVlKTsNCiAgICAgIH0sDQogICAgfSwNCg0KICAgIHZhbHVlKCkgew0KICAgICAgaWYgKHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZS5sZW5ndGggPiAwKSB7DQogICAgICAgIHRoaXMuc3RvcExpc3QgPSB0aGlzLnZhbHVlOw0KICAgICAgICB0aGlzLnZlcmlmeUlmSXNFZGl0KCk7DQogICAgICB9DQogICAgfSwNCiAgICBzdWNjZXNzKCkgew0KICAgICAgaWYgKHRoaXMuc3VjY2VzcykgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiBgL2hvbWUvdmlhZ2Vuc05hdmlvc2AgfSk7DQogICAgfSwNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIGlmICh0aGlzLmhhc1Blcm1pc3Npb24odGhpcy4kUGVybWlzc2lvbk5hbWVzLnBlcm1pc3Npb25Qb3J0U2VlKSkNCiAgICAgIHRoaXMuZ2V0UG9ydHMoKTsNCiAgICBpZiAodGhpcy5oYXNQZXJtaXNzaW9uKHRoaXMuJFBlcm1pc3Npb25OYW1lcy5wZXJtaXNzaW9uTmFtZWRQb3J0QWdlbnRTZWUpKQ0KICAgICAgdGhpcy5nZXRBZ2VudHMoKTsNCiAgICBpZiAodGhpcy5oYXNQZXJtaXNzaW9uKHRoaXMuJFBlcm1pc3Npb25OYW1lcy5wZXJtaXNzaW9uQ2F0ZWdvcnlTaXR1YXRpb25TZWUpKQ0KICAgICAgdGhpcy5sb2FkU3RhdHVzKCk7DQogIH0sDQogIG1peGluczogWw0KICAgIGNydWRDb250cm9sbGVyKHsgc3RvcmU6ICJNb2R1bGVQYXJhZGFzSW50ZXJtZWRpYXJpYXMiIH0pLA0KICAgIHZhbGlkYXRpb25SdWxlcywNCiAgXSwNCg0KICBjb21wb25lbnRzOiB7IERhdGVQaWNrZXIsIE1vZGFsUmVsYWNpb25hclByb2Zvcm1hcyB9LA0KfTsNCg=="},{"version":3,"sources":["ParadasCreate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ParadasCreate.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <v-dialog v-model=\"openModalAlert\" persistent max-width=\"450px\">\r\n      <div\r\n        class=\"white pa-8 d-flex flex-column align-center text-center\"\r\n        style=\"overflow: auto\"\r\n      >\r\n        <v-icon style=\"font-size: 60px\" color=\"warning\">mdi-alert</v-icon>\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          Esta parada da viagem do navio possui proforma(s) vinculada(s). Deseja\r\n          excluir a parada?\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn rounded large text class=\"mr-4\" @click=\"openModalAlert = false\"\r\n            >Não</v-btn\r\n          >\r\n\r\n          <v-btn\r\n            rounded\r\n            large\r\n            class=\"warning white--text\"\r\n            @click=\"removeParadaFromList(indexToRemove)\"\r\n            >Sim</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n    <ModalRelacionarProformas\r\n      @selectedProforma=\"selectedProformaMethod\"\r\n      @closeModalRelationShip=\"closeModalRelationShip\"\r\n      :display=\"displayModal\"\r\n      :index=\"index\"\r\n      @setError=\"setError\"\r\n      :error=\"error\"\r\n    ></ModalRelacionarProformas>\r\n    <h1 class=\"mt-3\" style=\"font-size: 45px\">\r\n      Paradas\r\n      <v-btn\r\n        v-if=\"!readonly\"\r\n        fab\r\n        small\r\n        class=\"mx-3 asia-red white--text elevation-0\"\r\n        :disabled=\"disabled\"\r\n        @click=\"generateNewStop\"\r\n      >\r\n        <v-icon>mdi-plus</v-icon>\r\n      </v-btn>\r\n    </h1>\r\n    <v-card class=\"d-flex mt-4\" style=\"width: 80%; height: auto\">\r\n      <v-expansion-panels>\r\n        <v-expansion-panel v-for=\"(stop, i) in stopList\" :key=\"i\">\r\n          <v-expansion-panel-header v-if=\"stop.id != 0\">\r\n            <span class=\"span\">\r\n              <h5 v-if=\"stop.isOrigin\" style=\"width: auto !important\">\r\n                ORIGEM {{ stop.originPortName }}\r\n              </h5>\r\n              <h5 v-else style=\"width: auto !important\">\r\n                {{ stop.originPortName }}\r\n              </h5>\r\n              <p class=\"paradasText\">\r\n                ETA {{ stop.estimatedArrivalDate | dateFormat }}\r\n              </p>\r\n              <p class=\"paradasText\">\r\n                ETD {{ stop.estimatedDeliveryDate | dateFormat }}\r\n              </p>\r\n            </span>\r\n          </v-expansion-panel-header>\r\n          <v-expansion-panel-header v-else-if=\"stop.id == 0\">\r\n            <span\r\n              v-if=\"stop.isOrigin\"\r\n              class=\"span\"\r\n              style=\"font-size: 12px; font-weight: bold\"\r\n              >ORIGEM</span\r\n            >\r\n            <span v-else class=\"span\" style=\"font-size: 12px; font-weight: bold\"\r\n              >NOVA PARADA</span\r\n            >\r\n          </v-expansion-panel-header>\r\n          <v-expansion-panel-content>\r\n            <div class=\"d-flex\" style=\"width: 100%\">\r\n              <v-text-field v-show=\"false\" v-model=\"stop.id\"></v-text-field>\r\n              <v-select\r\n                v-if=\"hasPermission($PermissionNames.permissionPortSee)\"\r\n                :disabled=\"readonly\"\r\n                :items=\"itemsPorts\"\r\n                v-model=\"stopList[i].originPortId\"\r\n                label=\"Porto de origem\"\r\n                style=\"width: 50%\"\r\n                :rules=\"[rules.required]\"\r\n              >\r\n              </v-select>\r\n              <v-text-field\r\n                v-else\r\n                disabled\r\n                style=\"width: 50%\"\r\n                label=\"Porto de origem\"\r\n                v-model=\"stopList[i].originPortName\"\r\n              >\r\n              </v-text-field>\r\n              <v-select\r\n                v-if=\"hasPermission($PermissionNames.permissionNamedPortAgentSee)\"\r\n                :disabled=\"readonly\"\r\n                v-model=\"stopList[i].portAgentId\"\r\n                :items=\"itemsAgents\"\r\n                label=\"Agente Portuário\"\r\n                class=\"ml-4\"\r\n                style=\"width: 50%\"\r\n              ></v-select>\r\n              <v-text-field\r\n                v-else\r\n                disabled\r\n                class=\"ml-4\"\r\n                style=\"width: 50%\"\r\n                label=\"Agente portuário\"\r\n                v-model=\"stopList[i].portAgentName\"\r\n              >\r\n              </v-text-field>\r\n            </div>\r\n            <div class=\"d-flex\">\r\n              <DatePicker\r\n                :disabled=\"readonly\"\r\n                v-model=\"stopList[i].estimatedArrivalDate\"\r\n                label=\"ETA\"\r\n                style=\"width: 25%\"\r\n                :required=\"true\"\r\n              ></DatePicker>\r\n              <v-autocomplete\r\n                v-if=\"hasPermission($PermissionNames.permissionCategorySituationSee)\"\r\n                :disabled=\"readonly\"\r\n                label=\"Situação ETA\"\r\n                :loading=\"loadingStatus\"\r\n                v-model=\"stopList[i].etaStatus\"\r\n                :items=\"tipoSituacaoETA\"\r\n                :rules=\"[rules.required]\"\r\n                style=\"width: 25%\"\r\n                class=\"ml-4\"\r\n                item-text=\"description\"\r\n                return-object\r\n              >\r\n                <template v-slot:no-data>\r\n                  <div class=\"px-4\">Sem dados disponíveis</div>\r\n                </template>\r\n              </v-autocomplete>\r\n              <v-text-field\r\n                v-else\r\n                disabled\r\n                class=\"ml-4\"\r\n                label=\"Situação ETA\"\r\n                style=\"width: 25%\"\r\n                v-model=\"stopList[i].etaStatusName\"\r\n              >\r\n              </v-text-field>\r\n              <DatePicker\r\n                :disabled=\"readonly\"\r\n                v-model=\"stopList[i].estimatedDeliveryDate\"\r\n                class=\"ml-4\"\r\n                label=\"ETD\"\r\n                style=\"width: 25%\"\r\n                :required=\"true\"\r\n              ></DatePicker>\r\n              <v-autocomplete\r\n                v-if=\"hasPermission($PermissionNames.permissionCategorySituationSee)\"\r\n                :disabled=\"readonly\"\r\n                label=\"Situação ETD\"\r\n                :loading=\"loadingStatus\"\r\n                v-model=\"stopList[i].etdStatus\"\r\n                :items=\"tipoSituacaoETD\"\r\n                :rules=\"[rules.required]\"\r\n                style=\"width: 25%\"\r\n                class=\"ml-4\"\r\n                item-text=\"description\"\r\n                return-object\r\n              >\r\n                <template v-slot:no-data>\r\n                  <div class=\"px-4\">Sem dados disponíveis</div>\r\n                </template>\r\n              </v-autocomplete>\r\n              <v-text-field\r\n                v-else\r\n                disabled\r\n                class=\"ml-4\"\r\n                label=\"Situação ETD\"\r\n                style=\"width: 25%\"\r\n                v-model=\"stopList[i].etdStatusName\"\r\n              >\r\n              </v-text-field>\r\n            </div>\r\n            <h5 class=\"mt-4\">\r\n              Relacionar Proforma\r\n              <v-btn\r\n                v-if=\"!readonly && hasPermission($PermissionNames.permissionProformaSee)\"\r\n                fab\r\n                small\r\n                :disabled=\"disabled\"\r\n                class=\"mx-3 asia-red white--text elevation-0\"\r\n                @click=\"setIndexForStop(i), (displayModal = true)\"\r\n              >\r\n                <v-icon>mdi-plus</v-icon>\r\n              </v-btn>\r\n            </h5>\r\n            <div class=\"d-flex justify-space-between\">\r\n              <v-data-table\r\n                class=\"ml-4\"\r\n                disable-sort\r\n                :headers=\"\r\n                  readonly ? headers.filter((x) => x.value != 'col1') : headers\r\n                \"\r\n                hide-default-footer\r\n                :items=\"returnProformaList(i)\"\r\n                noDataText=\"Nenhum registro encontrado\"\r\n                loading-text=\"Aguarde, carregando viagens...\"\r\n                style=\"font-size: 10px; width: 50%; height: auto\"\r\n              >\r\n                <template v-slot:[`item.col1`]=\"{ item }\">\r\n                  <v-btn\r\n                    v-if=\"hasPermission($PermissionNames.permissionProformaSee)\"\r\n                    @click=\"removeItemFromRelacao(item, i)\"\r\n                    class=\"ma-2\"\r\n                    text\r\n                    icon\r\n                  >\r\n                    <v-icon class=\"mr-1\">mdi-link-variant-remove</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n              </v-data-table>\r\n\r\n              <v-btn\r\n                v-if=\"!stop.isOrigin && !readonly\"\r\n                @click=\"validateProformas(i, stop)\"\r\n                text\r\n                class=\"removeItem mt-auto\"\r\n                :disabled=\"disabled\"\r\n              >\r\n                <v-icon color=\"error\"> mdi-delete </v-icon>Excluir Parada</v-btn\r\n              >\r\n            </div>\r\n          </v-expansion-panel-content>\r\n        </v-expansion-panel>\r\n      </v-expansion-panels>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport crudController from \"@/mixins/crudController.js\";\r\nimport validationRules from \"@/mixins/validationRules.js\";\r\nimport DatePicker from \"./DatePicker.vue\";\r\nimport tiposCategorias from \"@/lib/enumTiposCategorias.js\";\r\nimport ModalRelacionarProformas from \"../views/viagensNavios/modalRelacionarProformas.vue\";\r\nconst modulePorts = createNamespacedHelpers(\"ModulePortos\");\r\nconst moduleAgents = createNamespacedHelpers(\"ModuleAgentesPortuarios\");\r\nconst moduleShipTrips = createNamespacedHelpers(\"ModuleViagensNavios\");\r\nconst moduleParadas = createNamespacedHelpers(\"ModuleParadasIntermediarias\");\r\nconst moduleCategoriaSituacao = createNamespacedHelpers(\r\n  \"ModuleCategoriaSituacao\"\r\n);\r\n\r\nexport default {\r\n  props: [\"value\", \"disabled\", \"readonly\"],\r\n  data: () => ({\r\n    stopList: [],\r\n    openModalAlert: null,\r\n    indexToRemove: null,\r\n    headers: [\r\n      { text: \"\", value: \"col1\" },\r\n      { text: \"Proforma\", value: \"col2\" },\r\n      { text: \"Embarque\", value: \"col3\" },\r\n      { text: \"Planta\", value: \"col4\" },\r\n      { text: \"Razão Social\", value: \"col5\" },\r\n    ],\r\n    dataNewItem: {\r\n      id: 0,\r\n      etdStatus: null,\r\n      stopEtdDate: \"\",\r\n      estimatedDeliveryDate: null,\r\n      etaStatus: null,\r\n      stopEtaDate: null,\r\n      estimatedArrivalDate: null,\r\n      portAgentId: null,\r\n      originPortId: null,\r\n      isOrigin: false,\r\n    },\r\n    disableButtonRelacionar: null,\r\n    isAdd: null,\r\n    error: null,\r\n    index: null,\r\n    selectedProforma: [],\r\n    proformas: [],\r\n    menu3: false,\r\n    menu4: false,\r\n    itemsPorts: [],\r\n    itemsAgents: [],\r\n    tipoSituacaoETA: [],\r\n    tipoSituacaoETD: [],\r\n    loadingStatus: false,\r\n    displayModal: false,\r\n    isListing: null,\r\n  }),\r\n\r\n  methods: {\r\n    ...modulePorts.mapActions({ getAllPorts: \"getAllSelect\" }),\r\n    ...moduleAgents.mapActions({ getAllAgents: \"getAllSelect\" }),\r\n    ...moduleParadas.mapActions({ getStopByShipTrip: \"getStopByShipTrip\" }),\r\n    ...moduleCategoriaSituacao.mapActions({ getByType: \"getByType\" }),\r\n    ...moduleShipTrips.mapActions({\r\n      getById: \"getById\",\r\n      getShipTripByShip: \"getShipTripByShip\",\r\n    }),\r\n\r\n    async getPorts() {\r\n      var response = await this.getAllPorts();\r\n      response.data.result.items.forEach((element) => {\r\n        this.itemsPorts.push({\r\n          value: element.id,\r\n          text: element.abbreviation + \" | \" + element.name,\r\n        });\r\n      });\r\n    },\r\n\r\n    async getAgents() {\r\n      var response = await this.getAllAgents();\r\n      response.data.result.items.forEach((element) => {\r\n        this.itemsAgents.push({\r\n          value: element.id,\r\n          text: element.name,\r\n        });\r\n      });\r\n    },\r\n\r\n    formatDate(date) {\r\n      if (!date) return null;\r\n      const [year, month, day] = date.split(\"-\");\r\n      return `${day}/${month}/${year}`;\r\n    },\r\n\r\n    generateNewStop() {\r\n      this.isAdd = true;\r\n      this.stopList.push({ ...this.dataNewItem });\r\n\r\n      if (this.stopList.length == 1) this.stopList[0].isOrigin = true;\r\n    },\r\n\r\n    async verifyIfIsEdit() {\r\n      var id = this.$route.params.id;\r\n      if (id != null) {\r\n        this.setProformasInList();\r\n      }\r\n    },\r\n\r\n    validateProformas(i, stop) {\r\n      if (stop.proformaShipTripIntermediateStop.length > 0) {\r\n        this.openModalAlert = true;\r\n        this.indexToRemove = i;\r\n      } else this.removeParadaFromList(i);\r\n    },\r\n\r\n    removeParadaFromList(i) {\r\n      this.openModalAlert = false;\r\n      this.isListing = true;\r\n      this.stopList[i].index = i;\r\n      this.proformas = this.proformas.filter((x) => x.index != i);\r\n      this.stopList = this.stopList.filter((x) => x.index != i);\r\n    },\r\n\r\n    setError(v) {\r\n      this.error = v;\r\n    },\r\n\r\n    selectedProformaMethod(a, index) {\r\n      a.index = index;\r\n      let verifyIfExists = [];\r\n      if (a.boardingGroup)\r\n        verifyIfExists = this.proformas.filter(\r\n          (x) =>\r\n            x.id == a.id &&\r\n            x.boardingGroup &&\r\n            x.boardingGroup.id == a.boardingGroup.id\r\n        );\r\n      else verifyIfExists = this.proformas.filter((x) => x.id == a.id);\r\n\r\n      if (verifyIfExists.length > 0) {\r\n        this.error = true;\r\n        return;\r\n      }\r\n\r\n      // todas as proformas cadastradas sao adds aqui\r\n      this.proformas.push(a);\r\n\r\n      //filtro pelo index quais eu quero\r\n      var proformas = this.proformas.filter((x) => x.index == index);\r\n\r\n      this.stopList[index].proformas = [];\r\n      this.stopList[index].proformaShipTripIntermediateStop = [];\r\n      proformas.forEach((proforma) => {\r\n        this.stopList[index].proformas.push(proforma);\r\n      });\r\n      this.stopList[index].index = index;\r\n      this.displayModal = false;\r\n    },\r\n\r\n    setProformasInList() {\r\n      if (this.isAdd) return;\r\n      for (let i = 0; i < this.stopList.length; i++) {\r\n        if (!this.stopList[i].proformaShipTripIntermediateStop) return;\r\n\r\n        this.stopList[i].proformaShipTripIntermediateStop.forEach((x) => {\r\n          x.proforma.boardingGroup = x.boardingGroup;\r\n        });\r\n\r\n        var proformas = this.stopList[i].proformaShipTripIntermediateStop.map(\r\n          (x) => x.proforma\r\n        );\r\n\r\n        if (this.isListing) {\r\n          this.proformas = [];\r\n          for (let index = 0; index < proformas.length; index++) {\r\n            proformas[index].index = i;\r\n            this.proformas.push(proformas[index]);\r\n          }\r\n          this.isListing = false;\r\n        } else {\r\n          for (let index = 0; index < proformas.length; index++) {\r\n            proformas[index].index = i;\r\n            this.proformas.push(proformas[index]);\r\n          }\r\n        }\r\n      }\r\n      this.isAdd = false;\r\n    },\r\n\r\n    returnProformaList(i) {\r\n      var prof = this.proformas.filter((x) => x.index == i);\r\n      var item = prof.map((x) => ({\r\n        col1: x.id,\r\n        col2: x.proformaValue,\r\n        col3: x.boardingGroup ? x.boardingGroup.invoice : \"\",\r\n        col4: x.plant,\r\n        col5: x.customerName,\r\n        col6: i,\r\n      }));\r\n      return item;\r\n    },\r\n\r\n    removeItemFromRelacao(item, i) {\r\n      var allProformasWithoutIndex = this.proformas.filter((x) => x.index != i);\r\n      var allProformasWithIndex = this.proformas.filter((x) => x.index == i);\r\n\r\n      if (item.col3) {\r\n        let itemToRemove = allProformasWithIndex.filter(\r\n          (x) =>\r\n            x.boardingGroup &&\r\n            x.boardingGroup.invoice == item.col3 &&\r\n            x.id == item.col1\r\n        )[0];\r\n\r\n        allProformasWithIndex = allProformasWithIndex.filter(\r\n          (x) => x != itemToRemove\r\n        );\r\n      } else {\r\n        let itemToRemove = allProformasWithIndex.filter(\r\n          (x) => !x.boardingGroup && x.id == item.col1\r\n        )[0];\r\n\r\n        allProformasWithIndex = allProformasWithIndex.filter(\r\n          (x) => x != itemToRemove\r\n        );\r\n      }\r\n\r\n      this.proformas = [];\r\n      this.stopList[i].proformas = [];\r\n      this.stopList[i].proformaShipTripIntermediateStop = [];\r\n\r\n      allProformasWithIndex.forEach((x) => {\r\n        this.proformas.push(x);\r\n        this.stopList[i].proformas.push(x);\r\n      });\r\n\r\n      allProformasWithoutIndex.forEach((x) => {\r\n        this.proformas.push(x);\r\n      });\r\n    },\r\n\r\n    setIndexForStop(index) {\r\n      this.index = index;\r\n    },\r\n\r\n    closeModalRelationShip(bool) {\r\n      this.displayModal = bool;\r\n    },\r\n\r\n    async loadStatus() {\r\n      this.loadingStatus = true;\r\n      this.tipoSituacaoETA = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.situacaoETA\r\n      );\r\n      this.tipoSituacaoETD = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.situacaoETD\r\n      );\r\n      this.loadingStatus = false;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    stopList: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(newValue) {\r\n        this.$emit(\"input\", newValue);\r\n      },\r\n    },\r\n\r\n    value() {\r\n      if (this.value && this.value.length > 0) {\r\n        this.stopList = this.value;\r\n        this.verifyIfIsEdit();\r\n      }\r\n    },\r\n    success() {\r\n      if (this.success) this.$router.push({ path: `/home/viagensNavios` });\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (this.hasPermission(this.$PermissionNames.permissionPortSee))\r\n      this.getPorts();\r\n    if (this.hasPermission(this.$PermissionNames.permissionNamedPortAgentSee))\r\n      this.getAgents();\r\n    if (this.hasPermission(this.$PermissionNames.permissionCategorySituationSee))\r\n      this.loadStatus();\r\n  },\r\n  mixins: [\r\n    crudController({ store: \"ModuleParadasIntermediarias\" }),\r\n    validationRules,\r\n  ],\r\n\r\n  components: { DatePicker, ModalRelacionarProformas },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.paradasText {\r\n  color: #8c8c8c !important;\r\n  font-size: 12px !important;\r\n  margin-left: 8px !important;\r\n}\r\n\r\n.v-expansion-panel-header {\r\n  height: 40px !important;\r\n  margin: auto;\r\n}\r\n\r\n.span {\r\n  display: flex;\r\n  margin: auto;\r\n  padding: 5px;\r\n  height: 30px;\r\n}\r\n\r\n.removeItem {\r\n  width: 160px;\r\n  float: right;\r\n  margin-top: 8%;\r\n  padding: 0;\r\n}\r\n</style>\r\n"]}]}