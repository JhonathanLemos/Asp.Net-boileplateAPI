{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\proformas\\followUp\\FollowUpGeneral.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\proformas\\followUp\\FollowUpGeneral.vue","mtime":1680609356664},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdGlwb3NDYXRlZ29yaWFzIGZyb20gIkAvbGliL2VudW1UaXBvc0NhdGVnb3JpYXMuanMiOw0KaW1wb3J0IGVudW1UaXBvc0VtYmFycXVlIGZyb20gIkAvbGliL2VudW1UaXBvc0VtYmFycXVlLmpzIjsNCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAidnVleCI7DQpjb25zdCBtb2R1bGVDYXRlZ29yaWFTaXR1YWNhbyA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKA0KICAiTW9kdWxlQ2F0ZWdvcmlhU2l0dWFjYW8iDQopOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogWyJ2YWx1ZSIsICJyZWFkb25seSJdLA0KICBkYXRhOiAoKSA9PiAoew0KICAgIGNvbWVyY2lhbEludm9pY2VDYXRlZ29yaWVzOiBbXSwNCiAgICBsb2FkaW5nQ29tSW52b2ljZXNDYXRlZ29yaWVzOiBmYWxzZSwNCiAgICBkYXRhRm9sbG93VXA6IHt9LA0KICB9KSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBpbnZvaWNlRmlsZTogew0KICAgICAgZ2V0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5idWlsZEludm9pY2VGaWxlKCk7DQogICAgICB9LA0KICAgICAgc2V0KG5ld1ZhbHVlKSB7DQogICAgICAgIHRoaXMuZGF0YUZvbGxvd1VwLmludm9pY2VGaWxlID0gbmV3VmFsdWU7DQogICAgICAgIHRoaXMuZGF0YUZvbGxvd1VwLmludm9pY2VGaWxlTmFtZSA9IG5ld1ZhbHVlID8gbmV3VmFsdWUubmFtZSA6IG51bGw7DQogICAgICB9LA0KICAgIH0sDQogICAgc2hpcG1lbnRUeXBlcygpIHsNCiAgICAgIGxldCBzaGlwbWVudFByb2Zvcm1hVHlwZSA9IFtdOw0KICAgICAgT2JqZWN0LnZhbHVlcyhlbnVtVGlwb3NFbWJhcnF1ZSkuZm9yRWFjaCgoeCwgaSkgPT4gew0KICAgICAgICBzaGlwbWVudFByb2Zvcm1hVHlwZS5wdXNoKHsgdmFsdWU6IGkgKyAxLCB0ZXh0OiB4IH0pOw0KICAgICAgfSk7DQogICAgICByZXR1cm4gc2hpcG1lbnRQcm9mb3JtYVR5cGU7DQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZShuZXdWYWx1ZSkgew0KICAgICAgdGhpcy5kYXRhRm9sbG93VXAgPSBuZXdWYWx1ZTsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubW9kdWxlQ2F0ZWdvcmlhU2l0dWFjYW8ubWFwQWN0aW9ucyhbImdldEJ5VHlwZSJdKSwNCiAgICBhc3luYyBsb2FkQ29tZXJjaWFsSW52b2ljZUNhdGVnb3JpZXMoKSB7DQogICAgICB0aGlzLmxvYWRpbmdDb21JbnZvaWNlc0NhdGVnb3JpZXMgPSB0cnVlOw0KICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0QnlUeXBlKA0KICAgICAgICB0aXBvc0NhdGVnb3JpYXMuZW51bVRpcG9zQ2F0ZWdvcmlhc1JlcXVlc3Quc2l0dWHDp8Ojb2RvY29tbWVyY2lhbGludm9pY2UNCiAgICAgICk7DQogICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggIT0gMCkNCiAgICAgICAgcmVzdWx0LmZvckVhY2goKHgpID0+IHsNCiAgICAgICAgICB0aGlzLmNvbWVyY2lhbEludm9pY2VDYXRlZ29yaWVzLnB1c2goew0KICAgICAgICAgICAgdmFsdWU6IHguaWQsDQogICAgICAgICAgICB0ZXh0OiB4LmRlc2NyaXB0aW9uLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIHRoaXMubG9hZGluZ0NvbUludm9pY2VzQ2F0ZWdvcmllcyA9IGZhbHNlOw0KICAgIH0sDQogICAgYnVpbGRJbnZvaWNlRmlsZSgpIHsNCiAgICAgIGlmICh0aGlzLmRhdGFGb2xsb3dVcC5pbnZvaWNlRmlsZSB8fCB0aGlzLmRhdGFGb2xsb3dVcC5pbnZvaWNlRmlsZU5hbWUpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKA0KICAgICAgICAgIFt0aGlzLmRhdGFGb2xsb3dVcC5pbnZvaWNlRmlsZV0sDQogICAgICAgICAgdGhpcy5kYXRhRm9sbG93VXAuaW52b2ljZUZpbGVOYW1lLA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJiYXNlNjQiLA0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgZG93bmxvYWQoKSB7DQogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsNCiAgICAgIGEuaHJlZiA9ICJkYXRhOmltYWdlL2pwZztiYXNlNjQsIiArIHRoaXMuaW52b2ljZUZpbGU7DQogICAgICBhLmRvd25sb2FkID0gdGhpcy5kYXRhRm9sbG93VXAuaW52b2ljZUZpbGVOYW1lOw0KICAgICAgYS5jbGljaygpOw0KICAgICAgYS5yZW1vdmUoKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGlmICh0aGlzLmhhc1Blcm1pc3Npb24odGhpcy4kUGVybWlzc2lvbk5hbWVzLnBlcm1pc3Npb25DYXRlZ29yeVNpdHVhdGlvblNlZSkpDQogICAgICB0aGlzLmxvYWRDb21lcmNpYWxJbnZvaWNlQ2F0ZWdvcmllcygpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["FollowUpGeneral.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FollowUpGeneral.vue","sourceRoot":"src/views/proformas/followUp","sourcesContent":["<template>\r\n  <div>\r\n    <v-row>\r\n      <v-col cols=\"4\">\r\n        <v-autocomplete\r\n          v-if=\"hasPermission($PermissionNames.permissionCategorySituationSee)\"\r\n          label=\"Situação do Comercial Invoice\"\r\n          :loading=\"loadingComInvoicesCategories\"\r\n          v-model=\"dataFollowUp.comercialInvoiceStatusId\"\r\n          :items=\"comercialInvoiceCategories\"\r\n          :disabled=\"readonly\"\r\n        >\r\n          <template v-slot:no-data>\r\n            <div class=\"px-4\">Sem dados disponíveis</div>\r\n          </template>\r\n        </v-autocomplete>\r\n        <v-text-field\r\n          v-else\r\n          v-model=\"dataFollowUp.comercialInvoiceStatusDescription\"\r\n          disabled\r\n          label=\"Situação do Comercial Invoice\"\r\n        >\r\n        </v-text-field>\r\n      </v-col>\r\n      <v-col cols=\"4\">\r\n        <v-autocomplete\r\n          label=\"Tipo de Embarque\"\r\n          :items=\"shipmentTypes\"\r\n          v-model=\"dataFollowUp.shipmentType\"\r\n          :disabled=\"readonly\"\r\n        >\r\n          <template v-slot:no-data>\r\n            <div class=\"px-4\">Sem dados disponíveis</div>\r\n          </template>\r\n        </v-autocomplete>\r\n      </v-col>\r\n      <v-col cols=\"4\">\r\n        <v-file-input\r\n          v-model=\"invoiceFile\"\r\n          label=\"Adicione aqui o arquivo Invoice\"\r\n          accept=\"image/png, image/jpeg, application/pdf\"\r\n          append-icon=\"mdi-download\"\r\n          @click:append=\"download\"\r\n          :disabled=\"readonly\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"8\">\r\n        <v-textarea\r\n          outlined\r\n          label=\"Observações internas\"\r\n          no-resize\r\n          rows=\"3\"\r\n          v-model=\"dataFollowUp.observations\"\r\n          :disabled=\"readonly\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport tiposCategorias from \"@/lib/enumTiposCategorias.js\";\r\nimport enumTiposEmbarque from \"@/lib/enumTiposEmbarque.js\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst moduleCategoriaSituacao = createNamespacedHelpers(\r\n  \"ModuleCategoriaSituacao\"\r\n);\r\nexport default {\r\n  props: [\"value\", \"readonly\"],\r\n  data: () => ({\r\n    comercialInvoiceCategories: [],\r\n    loadingComInvoicesCategories: false,\r\n    dataFollowUp: {},\r\n  }),\r\n  computed: {\r\n    invoiceFile: {\r\n      get() {\r\n        return this.buildInvoiceFile();\r\n      },\r\n      set(newValue) {\r\n        this.dataFollowUp.invoiceFile = newValue;\r\n        this.dataFollowUp.invoiceFileName = newValue ? newValue.name : null;\r\n      },\r\n    },\r\n    shipmentTypes() {\r\n      let shipmentProformaType = [];\r\n      Object.values(enumTiposEmbarque).forEach((x, i) => {\r\n        shipmentProformaType.push({ value: i + 1, text: x });\r\n      });\r\n      return shipmentProformaType;\r\n    },\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      this.dataFollowUp = newValue;\r\n    },\r\n  },\r\n  methods: {\r\n    ...moduleCategoriaSituacao.mapActions([\"getByType\"]),\r\n    async loadComercialInvoiceCategories() {\r\n      this.loadingComInvoicesCategories = true;\r\n      let result = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.situaçãodocommercialinvoice\r\n      );\r\n      if (result && result.length != 0)\r\n        result.forEach((x) => {\r\n          this.comercialInvoiceCategories.push({\r\n            value: x.id,\r\n            text: x.description,\r\n          });\r\n        });\r\n      this.loadingComInvoicesCategories = false;\r\n    },\r\n    buildInvoiceFile() {\r\n      if (this.dataFollowUp.invoiceFile || this.dataFollowUp.invoiceFileName) {\r\n        return new File(\r\n          [this.dataFollowUp.invoiceFile],\r\n          this.dataFollowUp.invoiceFileName,\r\n          {\r\n            type: \"base64\",\r\n          }\r\n        );\r\n      }\r\n    },\r\n\r\n    async download() {\r\n      var a = document.createElement(\"a\");\r\n      a.href = \"data:image/jpg;base64,\" + this.invoiceFile;\r\n      a.download = this.dataFollowUp.invoiceFileName;\r\n      a.click();\r\n      a.remove();\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.hasPermission(this.$PermissionNames.permissionCategorySituationSee))\r\n      this.loadComercialInvoiceCategories();\r\n  },\r\n};\r\n</script>"]}]}