{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\clientes\\grupoClientes\\ViewGrupoClientes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\clientes\\grupoClientes\\ViewGrupoClientes.vue","mtime":1680609356639},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVG9wU2VjdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9wU2VjdGlvbi52dWUiOw0KaW1wb3J0IEFjdGlvbnNUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvQWN0aW9uc1RhYmxlLnZ1ZSI7DQppbXBvcnQgZ2V0Um91dGVyRGF0YSBmcm9tICJAL21peGlucy9nZXRSb3V0ZXJEYXRhLmpzIjsNCmltcG9ydCBkYXRhVGFibGUgZnJvbSAiQC9taXhpbnMvZGF0YVRhYmxlLmpzIjsNCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsNCmltcG9ydCB2YWxpZGF0aW9uUnVsZXMgZnJvbSAiLi4vLi4vLi4vbWl4aW5zL3ZhbGlkYXRpb25SdWxlcyI7DQppbXBvcnQgY3J1ZENvbnRyb2xsZXIgZnJvbSAiLi4vLi4vLi4vbWl4aW5zL2NydWRDb250cm9sbGVyIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhOiAoKSA9PiAoew0KICAgIGhlYWRlcnM6IFsNCiAgICAgIHsgdGV4dDogIiIsIHZhbHVlOiAiY29sMSIsIHdpZHRoOiAiMTAlIiB9LA0KICAgICAgeyB0ZXh0OiAiTm9tZSBkbyBHcnVwbyIsIHZhbHVlOiAiY29sMiIgfSwNCiAgICAgIHsgdGV4dDogIkNsaWVudGVzIFZpbmN1bGFkb3MiLCB2YWx1ZTogImNvbDMiLCBhbGlnbjogImNlbnRlciIgfSwNCiAgICAgIHsgdGV4dDogIlN0YXR1cyIsIHZhbHVlOiAiY29sNSIsIHdpZHRoOiAiIiwgYWxpZ246ICJjZW50ZXIiIH0sDQogICAgXSwNCiAgICByb3dzOiBbXSwNCiAgICBkaWFsb2dEZWxldGVDb25maXJtOiBmYWxzZSwNCiAgICBkYXRhRGVsZXRlSXRlbTogbnVsbCwNCiAgICBrZXk6IDEsDQogICAgbG9hZGluZ0J0blNhdmU6IGZhbHNlLA0KICB9KSwNCg0KICBjb21wdXRlZDogew0KICAgIGVkaXRQZXJtaXNzaW9uKCkgew0KICAgICAgcmV0dXJuIHRoaXMuaGFzUGVybWlzc2lvbih0aGlzLiRQZXJtaXNzaW9uTmFtZXMucGVybWlzc2lvbkN1c3RvbWVyR3JvdXBFZGl0KQ0KICAgIH0sDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcEFjdGlvbnMoIk1vZHVsZUdydXBvQ2xpZW50ZXMiLCB7IGRlbGV0ZTogImRlbGV0ZSIgfSksDQoNCiAgICBidWlsZFJvd3MoZGF0YSkgew0KICAgICAgdGhpcy5yb3dzID0gZGF0YS5tYXAoKGUpID0+ICh7DQogICAgICAgIGNvbDE6IGUuaWQsDQogICAgICAgIGNvbDI6IGUubmFtZSwNCiAgICAgICAgY29sMzogZS50b3RhbEN1c3RvbWVycywNCiAgICAgICAgY29sNDogZS50b3RhbFVzZXJzLA0KICAgICAgICBjb2w1OiB7DQogICAgICAgICAgdGV4dDogZS5zdGF0dXMsDQogICAgICAgICAgY29sb3I6IGUuc3RhdHVzID09PSB0cnVlID8gInN1Y2Nlc3MiIDogImdyZXkiLA0KICAgICAgICB9LA0KICAgICAgfSkpOw0KICAgIH0sDQoNCiAgICBhc3luYyBzdWNjZXNzVXBkYXRlKCkgew0KICAgICAgdGhpcy5hbGVydFN1Y2Nlc3NUZXh0ID0gIkdydXBvIGRlIENsaWVudGVzIGF0dWFsaXphZG8gY29tIHN1Y2Vzc28hIjsNCiAgICAgIHRoaXMuYWxlcnRTdWNjZXNzID0gdHJ1ZTsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLmFsZXJ0U3VjY2VzcyA9IGZhbHNlOw0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUvZ3J1cG9DbGllbnRlcyIpOw0KICAgICAgfSwgMTAwMCk7DQogICAgfSwNCg0KICAgIGFzeW5jIGRlbGV0ZUl0ZW0oc3RhZ2UsIGlkKSB7DQogICAgICBpZiAoc3RhZ2UgPT0gMSkgew0KICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZUNvbmZpcm0gPSB0cnVlOw0KICAgICAgICB0aGlzLmRhdGFEZWxldGVJdGVtID0gaWQ7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgaWYgKHN0YWdlID09IDIpIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nQnRuU2F2ZSA9IHRydWU7DQoNCiAgICAgICAgdGhpcy5kZWxldGUodGhpcy5kYXRhRGVsZXRlSXRlbSkNCiAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmtleSsrOw0KICAgICAgICAgICAgdGhpcy5kaWFsb2dEZWxldGVDb25maXJtID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmRhdGFEZWxldGVJdGVtID0gbnVsbDsNCiAgICAgICAgICAgIHRoaXMubG9hZGluZ0J0blNhdmUgPSBmYWxzZTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmdCdG5TYXZlID0gZmFsc2U7DQogICAgICAgICAgICAvLyBDQVBUVVJBUiBFIFRSQVRBUiBPIEVSUk8gREEgQVBJDQogICAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgbWl4aW5zOiBbDQogICAgZ2V0Um91dGVyRGF0YSwNCiAgICB2YWxpZGF0aW9uUnVsZXMsDQogICAgZGF0YVRhYmxlKHsgc3RvcmU6ICJNb2R1bGVHcnVwb0NsaWVudGVzIiB9KSwNCiAgICBjcnVkQ29udHJvbGxlcih7IHN0b3JlOiAiTW9kdWxlR3J1cG9DbGllbnRlcyIgfSksDQogIF0sDQogIGNvbXBvbmVudHM6IHsgVG9wU2VjdGlvbiwgQWN0aW9uc1RhYmxlIH0sDQp9Ow0K"},{"version":3,"sources":["ViewGrupoClientes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewGrupoClientes.vue","sourceRoot":"src/views/clientes/grupoClientes","sourcesContent":["<template>\r\n  <div\r\n    class=\"d-flex flex-column justify-space-between mx-10\"\r\n    style=\"width: 100%; height: 98vh\"\r\n  >\r\n    <!-- DIALOG CONFIRM DELETE -->\r\n    <v-dialog v-model=\"dialogDeleteConfirm\" max-width=\"450px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"asia-red\"\r\n          >mdi-alert-circle-outline</v-icon\r\n        >\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          Ao excluir um grupo de clientes os clientes e usuários vinculados irão\r\n          perder o vínculo, sendo necessário fazer uma revisão.<br />\r\n          Deseja excluir?\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            rounded\r\n            large\r\n            text\r\n            class=\"mr-4\"\r\n            @click=\"dialogDeleteConfirm = false\"\r\n            >CANCELAR</v-btn\r\n          >\r\n\r\n          <v-btn\r\n            rounded\r\n            large\r\n            class=\"asia-red white--text\"\r\n            @click=\"deleteItem(2)\"\r\n            :loading=\"loadingBtnSave\"\r\n            >EXCLUIR</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <top-section></top-section>\r\n\r\n    <actions-table\r\n      :params=\"getRouterData\"\r\n      :disableButton=\"!editPermission\"\r\n      v-on:clickAdd=\"$router.push(`/home/grupoClientes/create/`)\"\r\n      labelSearch=\"Pesquisar por Nome do Grupo\"\r\n    ></actions-table>\r\n\r\n    <v-alert\r\n      type=\"success\"\r\n      transition=\"slide-y-transition\"\r\n      dismissible\r\n      v-show=\"alertSuccess\"\r\n      @success=\"successUpdate\"\r\n      dense\r\n      >{{ alertSuccessText }}</v-alert\r\n    >\r\n\r\n    <div\r\n      style=\"overflow-y: auto\"\r\n      class=\"flex-grow-1 rounded-lg pa-4 white elevation-5\"\r\n    >\r\n      <v-data-table\r\n        :key=\"key\"\r\n        disable-sort\r\n        :headers=\"headers\"\r\n        :items=\"rows\"\r\n        :options.sync=\"options\"\r\n        :page=\"page\"\r\n        :server-items-length=\"totalItems\"\r\n        noDataText=\"Nenhum registro encontrado\"\r\n        :loading=\"tableLoading\"\r\n        loading-text=\"Aguarde, carregando grupos de clientes...\"\r\n        :footer-props=\"{\r\n          itemsPerPageOptions: [10, 50, 100],\r\n          itemsPerPageText: 'Itens por Página',\r\n        }\"\r\n      >\r\n        <!-- Icone Manutenção -->\r\n        <template v-slot:[`item.col1`]=\"{ item }\">\r\n          <div v-if=\"editPermission\" class=\"d-flex flex-nowrap\">\r\n            <v-btn\r\n              icon\r\n              @click=\"$router.push(`/home/grupoClientes/edit/${item.col1}`)\"\r\n            >\r\n              <v-icon> mdi-pencil </v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn icon @click=\"deleteItem(1, item.col1)\">\r\n              <v-icon> mdi-delete </v-icon>\r\n            </v-btn>\r\n          </div>\r\n          <div v-else class=\"d-flex flex-nowrap\">\r\n            <v-btn icon @click=\"$router.push(`/home/grupoClientes/edit/${item.col1}`)\">\r\n              <v-icon> mdi-eye </v-icon>\r\n            </v-btn>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- Status -->\r\n        <template v-slot:[`item.col5`]=\"{ item }\">\r\n          <v-chip :color=\"item.col5.color\" outlined style=\"font-weight: 500\">\r\n            {{ item.col5.text | AtivoInativo }}\r\n          </v-chip>\r\n        </template>\r\n      </v-data-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport ActionsTable from \"@/components/ActionsTable.vue\";\r\nimport getRouterData from \"@/mixins/getRouterData.js\";\r\nimport dataTable from \"@/mixins/dataTable.js\";\r\nimport { mapActions } from \"vuex\";\r\nimport validationRules from \"../../../mixins/validationRules\";\r\nimport crudController from \"../../../mixins/crudController\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    headers: [\r\n      { text: \"\", value: \"col1\", width: \"10%\" },\r\n      { text: \"Nome do Grupo\", value: \"col2\" },\r\n      { text: \"Clientes Vinculados\", value: \"col3\", align: \"center\" },\r\n      { text: \"Status\", value: \"col5\", width: \"\", align: \"center\" },\r\n    ],\r\n    rows: [],\r\n    dialogDeleteConfirm: false,\r\n    dataDeleteItem: null,\r\n    key: 1,\r\n    loadingBtnSave: false,\r\n  }),\r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(this.$PermissionNames.permissionCustomerGroupEdit)\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(\"ModuleGrupoClientes\", { delete: \"delete\" }),\r\n\r\n    buildRows(data) {\r\n      this.rows = data.map((e) => ({\r\n        col1: e.id,\r\n        col2: e.name,\r\n        col3: e.totalCustomers,\r\n        col4: e.totalUsers,\r\n        col5: {\r\n          text: e.status,\r\n          color: e.status === true ? \"success\" : \"grey\",\r\n        },\r\n      }));\r\n    },\r\n\r\n    async successUpdate() {\r\n      this.alertSuccessText = \"Grupo de Clientes atualizado com sucesso!\";\r\n      this.alertSuccess = true;\r\n      setTimeout(() => {\r\n        this.alertSuccess = false;\r\n        this.$router.push(\"/home/grupoClientes\");\r\n      }, 1000);\r\n    },\r\n\r\n    async deleteItem(stage, id) {\r\n      if (stage == 1) {\r\n        this.dialogDeleteConfirm = true;\r\n        this.dataDeleteItem = id;\r\n        return;\r\n      }\r\n\r\n      if (stage == 2) {\r\n        this.loadingBtnSave = true;\r\n\r\n        this.delete(this.dataDeleteItem)\r\n          .then(() => {\r\n            this.key++;\r\n            this.dialogDeleteConfirm = false;\r\n            this.dataDeleteItem = null;\r\n            this.loadingBtnSave = false;\r\n          })\r\n          .catch(() => {\r\n            this.loadingBtnSave = false;\r\n            // CAPTURAR E TRATAR O ERRO DA API\r\n          });\r\n      }\r\n    },\r\n  },\r\n  mixins: [\r\n    getRouterData,\r\n    validationRules,\r\n    dataTable({ store: \"ModuleGrupoClientes\" }),\r\n    crudController({ store: \"ModuleGrupoClientes\" }),\r\n  ],\r\n  components: { TopSection, ActionsTable },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}