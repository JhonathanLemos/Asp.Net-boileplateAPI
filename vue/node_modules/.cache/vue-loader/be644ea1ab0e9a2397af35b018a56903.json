{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\usuarios\\customersDialog.vue?vue&type=style&index=0&id=554fdf8d&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\usuarios\\customersDialog.vue","mtime":1683311429860},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1683229778387},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1683229781560},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1683229779724},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZ3J1cG9zIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFlN2U3OwogIGJvcmRlci1sZWZ0OiAycHggc29saWQgI2ExMGEwYzsKICBiYWNrZ3JvdW5kLWltYWdlOiBtZGktbWVudS1yaWdodDsKfQo="},{"version":3,"sources":["customersDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8PA;AACA;AACA;AACA;AACA","file":"customersDialog.vue","sourceRoot":"src/views/usuarios","sourcesContent":["<template>\n  <div>\n    <!-- DIALOG VINCULAR CLIENTE-->\n    <v-dialog v-model=\"dialog\" max-width=\"900px\" max-heigth=\"500px\">\n      <div class=\"white pa-4 d-flex flex-column\">\n        <div class=\"d-flex align-center justify-space-between\">\n          <h4 class=\"myApi-neutral--text text--var-1 pb-4 pt-5\">\n            Vincular Cliente ao Usuário\n          </h4>\n\n          <v-btn text rounded @click=\"dialog = false\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </div>\n\n        <v-divider></v-divider>\n\n        <div class=\"d-flex my-3\" style=\"width: 100%\">\n          <div\n            class=\"d-flex mr-3 my-3\"\n            style=\"background: #fae7e7; width: 25%; height: 50px\"\n          >\n            <div style=\"background: #a10a0c; width: 2px; height: 50px\"></div>\n            <div\n              class=\"d-flex align-center justify-space-between pa-3\"\n              style=\"width: 50px\"\n            >\n              <h3 style=\"margin-right: 100px\">Cliente</h3>\n              <v-icon color=\"#A10A0C\">mdi-menu-right</v-icon>\n            </div>\n          </div>\n\n          <div style=\"background: #a10a0c; width: 2px; height: 400px\"></div>\n\n          <div class=\"d-flex flex-column\" style=\"max-width: 35%\">\n            <div style=\"width: 100%\">\n              <v-text-field\n                clearable\n                solo\n                @click:clear=\"searchOnlyCustomersOnClean\"\n                label=\"Pesquisar por Cliente...\"\n                persistent-hint\n                class=\"mx-3 my-3\"\n                v-model=\"search\"\n                prepend-inner-icon=\"mdi-magnify\"\n              ></v-text-field>\n            </div>\n\n            <div style=\"height: 300px; overflow: scroll\">\n              <div\n                class=\"d-flex flex-column align-start mx-3\"\n                style=\"background: #fae7e7\"\n              ></div>\n              <h3\n                :class=\"normalClass\"\n                style=\"cursor: pointer\"\n                v-if=\"onlyCustomersList.length > 0\"\n                @click=\"selectAllCustomersOnly\"\n              >\n                {{\n                  onlyCustomersSelected.length > 0\n                    ? \"Limpar seleção\"\n                    : \"Selecionar Todos\"\n                }}\n              </h3>\n              <h3\n                @click=\"setOnlyCustomersInList(item)\"\n                v-for=\"(item, i) in onlyCustomersList\"\n                :key=\"i\"\n                style=\"cursor: pointer\"\n                :class=\"[\n                  validateOnlyCustomersClass.filter((x) => x == item.id)[0] ==\n                  item.id\n                    ? clickedClass\n                    : normalClass,\n                ]\"\n              >\n                {{ item.corporateName }}\n              </h3>\n              <span v-if=\"hideOnlyCustomers\" class=\"normalClass ml-4\"\n                >Nenhum cliente encontrado</span\n              >\n            </div>\n          </div>\n\n          <div style=\"background: #a10a0c; width: 2px; height: 400px\"></div>\n        </div>\n        <div style=\"width: 35%\"></div>\n\n        <v-divider></v-divider>\n\n        <div class=\"d-flex flex-row justify-end pt-5\">\n          <v-btn rounded large class=\"mr-3\" text @click=\"dialog = false\">\n            CANCELAR\n          </v-btn>\n\n          <v-btn\n            rounded\n            large\n            class=\"myApi-red white--text\"\n            :disabled=\"onlyCustomersSelected.length == 0\"\n            @click=\"saveOnlyCustomers\"\n            >SALVAR</v-btn\n          >\n        </div>\n      </div>\n    </v-dialog>\n    <!--FIM-->\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nexport default {\n  props: { dialogVincularCliente: null, value: null },\n  data: () => ({\n    search: \"\",\n    normalClass: \"d-flex align-center pa-4 mx-3 my-3\",\n    clickedClass: \"d-flex align-center pa-4 mx-3 my-3 grupos\",\n    onlyCustomersList: [],\n    hideOnlyCustomers: null,\n    onlyCustomersSelected: [],\n    validateOnlyCustomersClass: [],\n  }),\n  computed: {\n    customersData: {\n      get() {\n        return this.value;\n      },\n      set(v) {\n        this.$emit(\"input\", v);\n      },\n    },\n    dialog: {\n      get() {\n        return this.dialogVincularCliente;\n      },\n      set() {\n        this.onlyCustomersList = [];\n        this.searchOnlyCustomer = \"\";\n        this.$emit(\"dialogVincularCliente\", false);\n      },\n    },\n  },\n\n  watch: {\n    search() {\n      this.searchOnlyCustomers();\n    },\n\n    customersData() {\n      if (this.customersData) {\n        if (this.$route.params.id) {\n          this.validateOnlyCustomersClass = [];\n          this.customersData.forEach((x) => {\n            this.validateOnlyCustomersClass.push(x.id);\n          });\n        }\n      }\n    },\n    dialog() {\n      if (this.dialog) this.searchOnlyCustomers();\n    },\n  },\n\n  methods: {\n    ...mapActions(\"ModuleClientes\", {\n      getAllSelectCustomers: \"getAll\",\n      searchAndGetCustomersWithoutId: \"searchAndGetCustomersWithoutId\",\n      getCustomersByGroup: \"getCustomersByGroup\",\n      getCustomerById: \"getById\",\n    }),\n\n    async searchOnlyCustomersOnClean() {\n      this.search = \"\";\n      this.searchOnlyCustomers();\n    },\n\n    async searchOnlyCustomers() {\n      this.hideOnlyCustomers = false;\n      var page = [\n        {\n          search: this.search,\n        },\n      ];\n      var result = await this.searchAndGetCustomersWithoutId(page[0]);\n      var filteredList = result.data.result;\n\n      if (this.customersData && this.customersData.length > 0) {\n        this.customersData.forEach((v) => {\n          filteredList = filteredList.filter((x) => x.id != v.customerId);\n        });\n      }\n\n      this.onlyCustomersList = filteredList;\n      if (this.onlyCustomersList.length == 0) this.hideOnlyCustomers = true;\n    },\n\n    setOnlyCustomersInList(item) {\n      var alreadyInList = this.validateOnlyCustomersClass.filter(\n        (x) => x == item.id\n      )[0];\n      if (alreadyInList) {\n        this.onlyCustomersSelected = this.onlyCustomersSelected.filter(\n          (x) => x.id != item.id\n        );\n        this.validateOnlyCustomersClass =\n          this.validateOnlyCustomersClass.filter((x) => x != item.id);\n      } else {\n        this.onlyCustomersSelected.push(item);\n        this.validateOnlyCustomersClass.push(item.id);\n      }\n    },\n\n    saveOnlyCustomers() {\n      var customers = [];\n\n      if (this.customersData)\n        this.customersData.forEach((x) => [customers.push(x)]);\n\n      if (this.onlyCustomersSelected) {\n        this.onlyCustomersSelected.forEach((element) => {\n          var objectCustomer = { userId: 0, customerId: element.id };\n          customers.push(objectCustomer);\n        });\n\n        this.customersData = [];\n        this.customersData = customers;\n        this.customers = customers;\n        this.onlyCustomersSelected = [];\n      }\n      this.dialog = false;\n    },\n    selectAllCustomersOnly() {\n      if (this.validateOnlyCustomersClass.length > 0) {\n        this.validateOnlyCustomersClass = [];\n        this.onlyCustomersSelected = [];\n        return;\n      }\n\n      this.onlyCustomersList.forEach((x) => {\n        this.onlyCustomersSelected.push(x);\n        this.validateOnlyCustomersClass.push(x.id);\n      });\n    },\n  },\n\n  mounted() {\n    if (!this.onlyCustomersList) this.onlyCustomersList = [];\n    this.searchOnlyCustomers();\n  },\n};\n</script>\n<style scoped>\n.grupos {\n  background-color: #fae7e7;\n  border-left: 2px solid #a10a0c;\n  background-image: mdi-menu-right;\n}\n</style>\n"]}]}