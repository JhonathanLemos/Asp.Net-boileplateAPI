{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\agentesPortuarios\\ViewAgentesPortuarios.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\agentesPortuarios\\ViewAgentesPortuarios.vue","mtime":1680609356636},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVG9wU2VjdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9wU2VjdGlvbi52dWUiOw0KaW1wb3J0IEFjdGlvbnNUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvQWN0aW9uc1RhYmxlLnZ1ZSI7DQppbXBvcnQgQ2F0ZWdvcnlCb29sZWFuQ2hpcCBmcm9tICJAL2NvbXBvbmVudHMvQ2F0ZWdvcnlCb29sZWFuQ2hpcC52dWUiOw0KaW1wb3J0IGdldFJvdXRlckRhdGEgZnJvbSAiQC9taXhpbnMvZ2V0Um91dGVyRGF0YS5qcyI7DQppbXBvcnQgZGF0YVRhYmxlIGZyb20gIkAvbWl4aW5zL2RhdGFUYWJsZS5qcyI7DQppbXBvcnQgY3J1ZENvbnRyb2xsZXIgZnJvbSAiQC9taXhpbnMvY3J1ZENvbnRyb2xsZXIuanMiOw0KaW1wb3J0IHZhbGlkYXRpb25SdWxlcyBmcm9tICIuLi8uLi9taXhpbnMvdmFsaWRhdGlvblJ1bGVzIjsNCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgRGlhbG9nRGVsZXRlIGZyb20gIkAvY29tcG9uZW50cy9EaWFsb2dEZWxldGUudnVlIjsNCg0KY29uc3QgbW9kdWxlQWdlbnRlc1BvcnR1YXJpb3MgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygNCiAgIk1vZHVsZUFnZW50ZXNQb3J0dWFyaW9zIg0KKTsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhOiAoKSA9PiAoew0KICAgIGhlYWRlcnM6IFsNCiAgICAgIHsgdGV4dDogIiIsIHZhbHVlOiAiaWQiLCBzb3J0YWJsZTogZmFsc2UsIHdpZHRoOiAiMTAlIiB9LA0KICAgICAgeyB0ZXh0OiAiTm9tZSIsIHZhbHVlOiAibmFtZSIsIHdpZHRoOiAiOTAlIiB9LA0KICAgICAgeyB0ZXh0OiAiU3RhdHVzIiwgdmFsdWU6ICJzdGF0dXMiLCB3aWR0aDogIiIgfSwNCiAgICBdLA0KICAgIHJvd3M6IFtdLA0KICAgIG1vZGFsQWRkOiBmYWxzZSwNCiAgICBtb2RhbEVkaXQ6IGZhbHNlLA0KICAgIHNob3dCdXR0b25JbmFjdGl2ZTogZmFsc2UsDQogICAgY3VycmVudFBvcnRBZ2VudDoge30sDQogICAgb3BlbkR5bmFtaWNEaWFsb2dGb3JEZWxldGU6IFtdLA0KICAgIG1lc3NhZ2VEaWFsb2c6ICIiLA0KICAgIGVuYWJsZUJ0bkRlbGV0ZTogZmFsc2UsDQogICAgbG9hZGluZ1Byb2dyZXNzQmFyOiBmYWxzZSwNCiAgICBsb2FkaW5nQnV0dG9uOiBmYWxzZSwNCiAgfSksDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICBlZGl0UGVybWlzc2lvbigpIHsNCiAgICAgIHJldHVybiB0aGlzLmhhc1Blcm1pc3Npb24oDQogICAgICAgIHRoaXMuJFBlcm1pc3Npb25OYW1lcy5wZXJtaXNzaW9uTmFtZWRQb3J0QWdlbnRFZGl0DQogICAgICApOw0KICAgIH0sDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1vZHVsZUFnZW50ZXNQb3J0dWFyaW9zLm1hcEFjdGlvbnMoWyJkZWxldGUiLCAidXBkYXRlIl0pLA0KDQogICAgYnVpbGRSb3dzKGRhdGEpIHsNCiAgICAgIHRoaXMucm93cyA9IGRhdGE7DQogICAgfSwNCg0KICAgIGVkaXRSb3coaXRlbSkgew0KICAgICAgaWYgKHRoaXMuZWRpdFBlcm1pc3Npb24pIHsNCiAgICAgICAgdGhpcy51cGRhdGVJdGVtKDEsIGl0ZW0uaWQpOw0KICAgICAgICB0aGlzLnRyaWdnZXIrKzsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgdmFsaWRhdGVQb3J0QWdlbnRPbkRlbGV0ZShpdGVtKSB7DQogICAgICB0aGlzLmN1cnJlbnRQb3J0QWdlbnQgPSBpdGVtOw0KICAgICAgdGhpcy5lbmFibGVCdG5EZWxldGUgPSBmYWxzZTsNCiAgICAgIHRoaXMubG9hZGluZ1Byb2dyZXNzQmFyID0gdHJ1ZTsNCiAgICAgIHRoaXMub3BlbkR5bmFtaWNEaWFsb2dGb3JEZWxldGUgPSBbdHJ1ZV07DQogICAgICB0aGlzLm1lc3NhZ2VEaWFsb2cgPSAiIjsNCg0KICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGVsZXRlKGl0ZW0uaWQpOw0KDQogICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgdGhpcy5lbmFibGVCdG5EZWxldGUgPSB0cnVlOw0KICAgICAgICB0aGlzLnNob3dCdXR0b25JbmFjdGl2ZSA9IGZhbHNlOw0KICAgICAgICB0aGlzLm1lc3NhZ2VEaWFsb2cgPQ0KICAgICAgICAgICJEZXNlamEgcmVhbG1lbnRlIGV4Y2x1aXIgZXN0ZSBBZ2VudGUgUG9ydHXDoXJpbyBOb21lYWRvPyI7DQogICAgICB9IGVsc2UgaWYgKHJlc3VsdC5yZXN1bHQgPT0gbnVsbCB8fCByZXN1bHQuc3RhdHVzID09IDQwMCkgew0KICAgICAgICB0aGlzLmxvYWRNZXNzYWdlRm9ySXRlbnNXaXRoRGVwZW5kZW5jeShpdGVtLCByZXN1bHQpOw0KICAgICAgfQ0KDQogICAgICB0aGlzLmxvYWRpbmdQcm9ncmVzc0JhciA9IGZhbHNlOw0KICAgIH0sDQoNCiAgICBsb2FkTWVzc2FnZUZvckl0ZW5zV2l0aERlcGVuZGVuY3koaXRlbSwgcmVzdWx0KSB7DQogICAgICBpZiAocmVzdWx0LmVycm9yLmNvZGUgIT0gNTQ3KSB7DQogICAgICAgIHRoaXMubG9hZE1lc3NhZ2VJZkVycm9yKHJlc3VsdCk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgaWYgKGl0ZW0uc3RhdHVzKSB7DQogICAgICAgIHRoaXMuc2hvd0J1dHRvbkluYWN0aXZlID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5tZXNzYWdlRGlhbG9nID0NCiAgICAgICAgICAiRXhpc3RlbSByZWdpc3Ryb3MgdmluY3VsYWRvcyBhIGVzc2UgQWdlbnRlIFBvcnR1w6FyaW8gTm9tZWFkbyBlIHBvciBpc3NvIGVsZSBuw6NvIHBvZGUgc2VyIGV4Y2x1w61kbywgc29tZW50ZSBpbmF0aXZhZG8uIERlc2VqYSBpbmF0aXZhciBvIEFnZW50ZSBQb3J0dcOhcmlvIE5vbWVhZG8/IjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2hvd0J1dHRvbkluYWN0aXZlID0gZmFsc2U7DQogICAgICAgIHRoaXMubWVzc2FnZURpYWxvZyA9DQogICAgICAgICAgIkV4aXN0ZW0gcmVnaXN0cm9zIHZpbmN1bGFkb3MgYSBlc3NlIEFnZW50ZSBQb3J0dcOhcmlvIE5vbWVhZG8gZSBwb3IgaXNzbyBlbGUgbsOjbyBwb2RlIHNlciBleGNsdcOtZG8hIjsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgbG9hZE1lc3NhZ2VJZkVycm9yKHJlc3VsdCkgew0KICAgICAgdGhpcy5tZXNzYWdlRGlhbG9nID0gcmVzdWx0LmVycm9yLm1lc3NhZ2U7DQogICAgICB0aGlzLnNob3dCdXR0b25JbmFjdGl2ZSA9IGZhbHNlOw0KICAgIH0sDQoNCiAgICBhc3luYyBpbmFjdGl2YXRlZFBvcnRBZ2VudCgpIHsNCiAgICAgIHRoaXMuY3VycmVudFBvcnRBZ2VudC5zdGF0dXMgPSBmYWxzZTsNCiAgICAgIHRoaXMubG9hZGluZ0J1dHRvbiA9IHRydWU7DQogICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh0aGlzLmN1cnJlbnRQb3J0QWdlbnQpOw0KICAgICAgdGhpcy5sb2FkaW5nQnV0dG9uID0gZmFsc2U7DQogICAgICB0aGlzLmxvYWRFZGl0aW9uRGF0YSA9IGZhbHNlOw0KDQogICAgICB0aGlzLnNob3dBbGVydFN1Y2Nlc3MoIlJlZ2lzdHJvIGluYXRpdmFkbyBjb20gc3VjZXNzbyEiKTsNCiAgICB9LA0KDQogICAgYXN5bmMgZGVsZXRlUG9ydEFnZW50KCkgew0KICAgICAgdGhpcy5sb2FkaW5nQnV0dG9uID0gdHJ1ZTsNCiAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmRlbGV0ZSh0aGlzLmN1cnJlbnRQb3J0QWdlbnQuaWQpOw0KICAgICAgdGhpcy5sb2FkaW5nQnV0dG9uID0gZmFsc2U7DQoNCiAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09IDIwMCkgew0KICAgICAgICB0aGlzLnNob3dBbGVydFN1Y2Nlc3MoIlJlZ2lzdHJvIGV4Y2x1aWRvIGNvbSBzdWNlc3NvISIpOw0KICAgICAgICB0aGlzLmtleSsrOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBzaG93QWxlcnRTdWNjZXNzKG1lc3NhZ2UpIHsNCiAgICAgIHRoaXMuYWxlcnRTdWNjZXNzID0gdHJ1ZTsNCiAgICAgIHRoaXMuYWxlcnRTdWNjZXNzVGV4dCA9IG1lc3NhZ2U7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5hbGVydFN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgIH0sIDMwMDApOw0KICAgIH0sDQoNCiAgICBsb2FkRWRpdGlvbkRhdGEoZGF0YSkgew0KICAgICAgdGhpcy5kYXRhU2VsZWN0ZWRJdGVtID0gZGF0YTsNCiAgICB9LA0KICB9LA0KICBtaXhpbnM6IFsNCiAgICB2YWxpZGF0aW9uUnVsZXMsDQogICAgZ2V0Um91dGVyRGF0YSwNCiAgICBkYXRhVGFibGUoeyBzdG9yZTogIk1vZHVsZUFnZW50ZXNQb3J0dWFyaW9zIiB9KSwNCiAgICBjcnVkQ29udHJvbGxlcih7IHN0b3JlOiAiTW9kdWxlQWdlbnRlc1BvcnR1YXJpb3MiIH0pLA0KICBdLA0KICBjb21wb25lbnRzOiB7IFRvcFNlY3Rpb24sIEFjdGlvbnNUYWJsZSwgQ2F0ZWdvcnlCb29sZWFuQ2hpcCwgRGlhbG9nRGVsZXRlIH0sDQp9Ow0K"},{"version":3,"sources":["ViewAgentesPortuarios.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewAgentesPortuarios.vue","sourceRoot":"src/views/agentesPortuarios","sourcesContent":["<template>\r\n  <div\r\n    class=\"d-flex flex-column justify-space-between mx-10\"\r\n    style=\"width: 100%; height: 98vh\"\r\n  >\r\n    <top-section></top-section>\r\n\r\n    <actions-table\r\n      :params=\"getRouterData\"\r\n      :disableButton=\"!editPermission\"\r\n      v-on:clickAdd=\"addNewItem(1)\"\r\n      labelSearch=\"Pesquisar por Nome...\"\r\n    ></actions-table>\r\n\r\n    <v-alert\r\n      type=\"success\"\r\n      transition=\"slide-y-transition\"\r\n      dismissible\r\n      v-show=\"alertSuccess\"\r\n      dense\r\n      >{{ alertSuccessText }}</v-alert\r\n    >\r\n\r\n    <div\r\n      style=\"overflow-y: auto\"\r\n      class=\"flex-grow-1 rounded-lg pa-4 white elevation-5\"\r\n    >\r\n      <!-- DATA TABLE -->\r\n      <v-data-table\r\n        @click:row=\"editRow\"\r\n        :key=\"key\"\r\n        :headers=\"\r\n          editPermission ? headers : headers.filter((x) => x.value != 'id')\r\n        \"\r\n        :items=\"rows\"\r\n        :options.sync=\"options\"\r\n        :page=\"page\"\r\n        :server-items-length=\"totalItems\"\r\n        noDataText=\"Nenhum registro encontrado\"\r\n        :loading=\"tableLoading\"\r\n        loading-text=\"Aguarde, carregando agentes portuários...\"\r\n        :footer-props=\"{\r\n          itemsPerPageOptions: [10, 50, 100],\r\n          itemsPerPageText: 'Itens por Página',\r\n        }\"\r\n      >\r\n        <!-- Icone Manutenção -->\r\n        <template v-slot:[`item.id`]=\"{ item }\">\r\n          <div>\r\n            <v-btn icon @click=\"updateItem(1, item.id)\">\r\n              <v-icon> mdi-pencil </v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn\r\n              icon\r\n              @click=\"validatePortAgentOnDelete(item)\"\r\n              @click.stop.self.prevent=\"editRow\"\r\n            >\r\n              <v-icon> mdi-delete </v-icon>\r\n            </v-btn>\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.status`]=\"{ item }\">\r\n          <category-boolean-chip :status=\"item.status\" />\r\n        </template>\r\n      </v-data-table>\r\n    </div>\r\n\r\n    <dialog-delete\r\n      :message=\"messageDialog\"\r\n      :showButtonInactive=\"showButtonInactive\"\r\n      :loadingButton=\"loadingButton\"\r\n      :showBtnDelete=\"enableBtnDelete\"\r\n      v-model=\"openDynamicDialogForDelete\"\r\n      :loading=\"loadingProgressBar\"\r\n      @inativar=\"inactivatedPortAgent()\"\r\n      @excluir=\"deletePortAgent()\"\r\n    />\r\n\r\n    <!-- MODAL DE ADIÇÃO -->\r\n    <v-dialog v-model=\"modalAdd\" persistent max-width=\"600px\">\r\n      <v-form v-on:submit.prevent ref=\"form\" v-model=\"valid\">\r\n        <div class=\"white pa-8 d-flex flex-column\">\r\n          <div\r\n            class=\"d-flex justify-space-between\"\r\n            style=\"border-bottom: 1px solid #e1e1e1\"\r\n          >\r\n            <h2 class=\"asia-neutral--text text--var-1 pb-2\">\r\n              Adicionar Agente Portuário\r\n            </h2>\r\n\r\n            <v-btn icon @click=\"closeModal()\">\r\n              <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n          </div>\r\n\r\n          <v-alert\r\n            type=\"error\"\r\n            dense\r\n            class=\"mt-1\"\r\n            outlined\r\n            v-show=\"errorAlert\"\r\n            transition=\"fade-transition\"\r\n            >{{ errorAlertText }}</v-alert\r\n          >\r\n\r\n          <div class=\"d-flex flex-row mt-4\">\r\n            <v-switch\r\n              class=\"mr-10\"\r\n              v-model=\"dataNewItem.status\"\r\n              :label=\"dataNewItem.status == true ? 'Ativo' : 'Inativo'\"\r\n            />\r\n\r\n            <v-text-field\r\n              v-model=\"dataNewItem.name\"\r\n              label=\"Nome\"\r\n              :rules=\"[rules.required]\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"d-flex flex-row justify-end pt-5\">\r\n            <v-btn\r\n              rounded\r\n              large\r\n              class=\"asia-red white--text\"\r\n              @click=\"addNewItem(2)\"\r\n              :loading=\"loadingBtnSave\"\r\n              >SALVAR</v-btn\r\n            >\r\n          </div>\r\n        </div>\r\n      </v-form>\r\n    </v-dialog>\r\n\r\n    <!-- MODAL DE EDIÇÃO -->\r\n    <v-dialog v-model=\"modalEdit\" persistent max-width=\"600px\">\r\n      <v-form v-on:submit.prevent ref=\"form\" v-model=\"valid\">\r\n        <div class=\"white pa-8 d-flex flex-column\">\r\n          <div class=\"d-flex justify-space-between\">\r\n            <h2\r\n              class=\"asia-neutral--text text--var-1 pb-2 mb-4\"\r\n              style=\"border-bottom: 1px solid #e1e1e1\"\r\n            >\r\n              Editar Agente Portuário\r\n            </h2>\r\n            <v-btn icon text @click=\"closeModal()\">\r\n              <v-icon> mdi-close </v-icon>\r\n            </v-btn>\r\n          </div>\r\n\r\n          <v-alert\r\n            type=\"error\"\r\n            dense\r\n            class=\"mt-1\"\r\n            outlined\r\n            v-show=\"errorAlert\"\r\n            transition=\"fade-transition\"\r\n            >{{ errorAlertText }}</v-alert\r\n          >\r\n\r\n          <div class=\"d-flex flex-row mt-4\">\r\n            <v-switch\r\n              class=\"mr-10\"\r\n              v-model=\"dataSelectedItem.status\"\r\n              :label=\"dataSelectedItem.status == true ? 'Ativo' : 'Inativo'\"\r\n              :loading=\"fieldLoading\"\r\n            ></v-switch>\r\n\r\n            <v-text-field\r\n              v-model=\"dataSelectedItem.name\"\r\n              label=\"Nome\"\r\n              :rules=\"[rules.required]\"\r\n              :loading=\"fieldLoading\"\r\n            ></v-text-field>\r\n          </div>\r\n\r\n          <div class=\"d-flex flex-row justify-end pt-5\">\r\n            <v-btn\r\n              rounded\r\n              large\r\n              class=\"asia-red white--text\"\r\n              @click=\"updateItem(2)\"\r\n              :loading=\"loadingBtnSave\"\r\n              >SALVAR</v-btn\r\n            >\r\n          </div>\r\n        </div>\r\n      </v-form>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport ActionsTable from \"@/components/ActionsTable.vue\";\r\nimport CategoryBooleanChip from \"@/components/CategoryBooleanChip.vue\";\r\nimport getRouterData from \"@/mixins/getRouterData.js\";\r\nimport dataTable from \"@/mixins/dataTable.js\";\r\nimport crudController from \"@/mixins/crudController.js\";\r\nimport validationRules from \"../../mixins/validationRules\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport DialogDelete from \"@/components/DialogDelete.vue\";\r\n\r\nconst moduleAgentesPortuarios = createNamespacedHelpers(\r\n  \"ModuleAgentesPortuarios\"\r\n);\r\n\r\nexport default {\r\n  data: () => ({\r\n    headers: [\r\n      { text: \"\", value: \"id\", sortable: false, width: \"10%\" },\r\n      { text: \"Nome\", value: \"name\", width: \"90%\" },\r\n      { text: \"Status\", value: \"status\", width: \"\" },\r\n    ],\r\n    rows: [],\r\n    modalAdd: false,\r\n    modalEdit: false,\r\n    showButtonInactive: false,\r\n    currentPortAgent: {},\r\n    openDynamicDialogForDelete: [],\r\n    messageDialog: \"\",\r\n    enableBtnDelete: false,\r\n    loadingProgressBar: false,\r\n    loadingButton: false,\r\n  }),\r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(\r\n        this.$PermissionNames.permissionNamedPortAgentEdit\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...moduleAgentesPortuarios.mapActions([\"delete\", \"update\"]),\r\n\r\n    buildRows(data) {\r\n      this.rows = data;\r\n    },\r\n\r\n    editRow(item) {\r\n      if (this.editPermission) {\r\n        this.updateItem(1, item.id);\r\n        this.trigger++;\r\n      }\r\n    },\r\n\r\n    async validatePortAgentOnDelete(item) {\r\n      this.currentPortAgent = item;\r\n      this.enableBtnDelete = false;\r\n      this.loadingProgressBar = true;\r\n      this.openDynamicDialogForDelete = [true];\r\n      this.messageDialog = \"\";\r\n\r\n      var result = await this.delete(item.id);\r\n\r\n      if (result.status == 200) {\r\n        this.enableBtnDelete = true;\r\n        this.showButtonInactive = false;\r\n        this.messageDialog =\r\n          \"Deseja realmente excluir este Agente Portuário Nomeado?\";\r\n      } else if (result.result == null || result.status == 400) {\r\n        this.loadMessageForItensWithDependency(item, result);\r\n      }\r\n\r\n      this.loadingProgressBar = false;\r\n    },\r\n\r\n    loadMessageForItensWithDependency(item, result) {\r\n      if (result.error.code != 547) {\r\n        this.loadMessageIfError(result);\r\n        return;\r\n      }\r\n\r\n      if (item.status) {\r\n        this.showButtonInactive = true;\r\n        this.messageDialog =\r\n          \"Existem registros vinculados a esse Agente Portuário Nomeado e por isso ele não pode ser excluído, somente inativado. Deseja inativar o Agente Portuário Nomeado?\";\r\n      } else {\r\n        this.showButtonInactive = false;\r\n        this.messageDialog =\r\n          \"Existem registros vinculados a esse Agente Portuário Nomeado e por isso ele não pode ser excluído!\";\r\n      }\r\n    },\r\n\r\n    loadMessageIfError(result) {\r\n      this.messageDialog = result.error.message;\r\n      this.showButtonInactive = false;\r\n    },\r\n\r\n    async inactivatedPortAgent() {\r\n      this.currentPortAgent.status = false;\r\n      this.loadingButton = true;\r\n      await this.update(this.currentPortAgent);\r\n      this.loadingButton = false;\r\n      this.loadEditionData = false;\r\n\r\n      this.showAlertSuccess(\"Registro inativado com sucesso!\");\r\n    },\r\n\r\n    async deletePortAgent() {\r\n      this.loadingButton = true;\r\n      var result = await this.delete(this.currentPortAgent.id);\r\n      this.loadingButton = false;\r\n\r\n      if (result.status == 200) {\r\n        this.showAlertSuccess(\"Registro excluido com sucesso!\");\r\n        this.key++;\r\n      }\r\n    },\r\n\r\n    showAlertSuccess(message) {\r\n      this.alertSuccess = true;\r\n      this.alertSuccessText = message;\r\n      setTimeout(() => {\r\n        this.alertSuccess = false;\r\n      }, 3000);\r\n    },\r\n\r\n    loadEditionData(data) {\r\n      this.dataSelectedItem = data;\r\n    },\r\n  },\r\n  mixins: [\r\n    validationRules,\r\n    getRouterData,\r\n    dataTable({ store: \"ModuleAgentesPortuarios\" }),\r\n    crudController({ store: \"ModuleAgentesPortuarios\" }),\r\n  ],\r\n  components: { TopSection, ActionsTable, CategoryBooleanChip, DialogDelete },\r\n};\r\n</script>"]}]}