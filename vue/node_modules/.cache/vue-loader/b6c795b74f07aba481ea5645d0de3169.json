{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\proformas\\financeiro\\FinancialModalUpdateCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\proformas\\financeiro\\FinancialModalUpdateCreate.vue","mtime":1680609356662},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTW9uZXkgZnJvbSAnQC9jb21wb25lbnRzL01vbmV5Jw0KaW1wb3J0IHZhbGlkYXRpb25SdWxlcyBmcm9tICdAL21peGlucy92YWxpZGF0aW9uUnVsZXMnDQppbXBvcnQgdGlwb3NDYXRlZ29yaWFzIGZyb20gJ0AvbGliL2VudW1UaXBvc0NhdGVnb3JpYXMuanMnDQppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICdAL2NvbXBvbmVudHMvRGF0ZVBpY2tlcicNCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAndnVleCcNCmNvbnN0IG1vZHVsZUNhdGVnb3JpYVNpdHVhY2FvID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoDQogICdNb2R1bGVDYXRlZ29yaWFTaXR1YWNhbycNCikNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnUHJvZm9ybWFGaW5hbmNpYWxNb2RhbCcsDQoNCiAgcHJvcHM6IFsnc2hvd01vZGFsJywgJ3ZhbHVlJ10sDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZWRpdE1vZGU6IGZhbHNlLA0KICAgICAgbW9kYWxWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGRhdGFJdGVtOiB7DQogICAgICAgIHBheW1lbnRDYXRlZ29yeToge30sDQogICAgICAgIHBheW1lbnRTaXR1YXRpb246IHt9LA0KICAgICAgfSwNCiAgICAgIHBheW1lbnRDYXRlZ29yaWVzOiBbXSwNCiAgICAgIHBheW1lbnRTaXR1YXRpb25DYXRlZ29yaWVzOiBbXSwNCiAgICAgIGxvYWRpbmdQYXltZW50Q2F0ZWdvcmllczogZmFsc2UsDQogICAgICBsb2FkaW5nUGF5bWVudFNpdHVhdGlvbkNhdGVnb3JpZXM6IGZhbHNlLA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC4uLm1vZHVsZUNhdGVnb3JpYVNpdHVhY2FvLm1hcEFjdGlvbnMoWydnZXRCeVR5cGUnXSksDQogICAgYXN5bmMgc2hvd0RpYWxvZyhjdXJyZW50RGF0YSkgew0KICAgICAgdGhpcy5lZGl0TW9kZSA9IE9iamVjdC5rZXlzKGN1cnJlbnREYXRhKS5sZW5ndGggIT09IDANCg0KICAgICAgaWYgKHRoaXMuaGFzUGVybWlzc2lvbih0aGlzLiRQZXJtaXNzaW9uTmFtZXMucGVybWlzc2lvbkNhdGVnb3J5U2l0dWF0aW9uU2VlKSkgew0KICAgICAgICB0aGlzLmxvYWRQYXltZW50Q2F0ZWdvcmllcygpOw0KICAgICAgICB0aGlzLmxvYWRQYXltZW50U2l0dWF0aW9uQ2F0ZWdvcmllcygpOw0KICAgICAgfQ0KDQogICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IHRydWUNCiAgICAgIGlmICghdGhpcy5lZGl0TW9kZSkgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCkNCiAgICAgIHRoaXMuZGF0YUl0ZW0gPSBjdXJyZW50RGF0YQ0KICAgIH0sDQogICAgYXN5bmMgbG9hZFBheW1lbnRDYXRlZ29yaWVzKCkgew0KICAgICAgdGhpcy5sb2FkaW5nUGF5bWVudENhdGVnb3JpZXMgPSB0cnVlDQogICAgICB0aGlzLnBheW1lbnRDYXRlZ29yaWVzID0gYXdhaXQgdGhpcy5nZXRCeVR5cGUoDQogICAgICAgIHRpcG9zQ2F0ZWdvcmlhcy5lbnVtVGlwb3NDYXRlZ29yaWFzUmVxdWVzdC5jYXRlZ29yaWFQYWdhbWVudG8NCiAgICAgICkNCiAgICAgIHRoaXMubG9hZGluZ1BheW1lbnRDYXRlZ29yaWVzID0gZmFsc2UNCiAgICB9LA0KICAgIGFzeW5jIGxvYWRQYXltZW50U2l0dWF0aW9uQ2F0ZWdvcmllcygpIHsNCiAgICAgIHRoaXMubG9hZGluZ1BheW1lbnRTaXR1YXRpb25DYXRlZ29yaWVzID0gdHJ1ZQ0KICAgICAgdGhpcy5wYXltZW50U2l0dWF0aW9uQ2F0ZWdvcmllcyA9IGF3YWl0IHRoaXMuZ2V0QnlUeXBlKA0KICAgICAgICB0aXBvc0NhdGVnb3JpYXMuZW51bVRpcG9zQ2F0ZWdvcmlhc1JlcXVlc3Quc2l0dWHDp8Ojb1BhZ2FtZW50bw0KICAgICAgKQ0KICAgICAgdGhpcy5sb2FkaW5nUGF5bWVudFNpdHVhdGlvbkNhdGVnb3JpZXMgPSBmYWxzZQ0KICAgIH0sDQogICAgc2F2ZUl0ZW0oKSB7DQogICAgICBpZiAodGhpcy5kYXRhSXRlbS5pZFZpcnR1YWwgPT09IHVuZGVmaW5lZCkgdGhpcy5kYXRhSXRlbS5pZFZpcnR1YWwgPSAtMQ0KICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ29uLXNhdmUnLCB0aGlzLmRhdGFJdGVtKQ0KICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgY2xvc2VNb2RhbCgpIHsNCiAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gZmFsc2UNCiAgICB9LA0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgRGF0ZVBpY2tlciwNCiAgICBNb25leSwNCiAgfSwNCg0KICBtaXhpbnM6IFt2YWxpZGF0aW9uUnVsZXNdLA0KfQ0K"},{"version":3,"sources":["FinancialModalUpdateCreate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"FinancialModalUpdateCreate.vue","sourceRoot":"src/views/proformas/financeiro","sourcesContent":["<template>\r\n  <v-dialog v-model=\"modalVisible\" persistent max-width=\"800px\">\r\n    <v-form ref=\"form\">\r\n      <div class=\"white pa-8 d-flex flex-column\">\r\n        <div\r\n          class=\"d-flex justify-space-between\"\r\n          style=\"border-bottom: 1px solid #e1e1e1\"\r\n        >\r\n          <h2 class=\"asia-neutral--text text--var-1\">\r\n            {{ editMode ? 'Editar Pagamento' : 'Adicionar Pagamento' }}\r\n          </h2>\r\n\r\n          <v-btn icon @click=\"closeModal()\">\r\n            <v-icon>mdi-close</v-icon>\r\n          </v-btn>\r\n        </div>\r\n        <div class=\"d-flex flex-row mt-8 mb-4\">\r\n          <v-autocomplete\r\n            v-if=\"hasPermission($PermissionNames.permissionCategorySituationSee)\"\r\n            label=\"Categoria de Pagamento\"\r\n            :loading=\"loadingPaymentCategories\"\r\n            v-model=\"dataItem.paymentCategory\"\r\n            :items=\"paymentCategories\"\r\n            :rules=\"[rules.required]\"\r\n            class=\"mr-3\"\r\n            item-text=\"description\"\r\n            return-object\r\n          >\r\n            <template v-slot:no-data>\r\n              <div class=\"px-4\">Sem dados disponíveis</div>\r\n            </template>\r\n          </v-autocomplete>\r\n          <v-text-field\r\n            v-else\r\n            v-model=\"dataItem.paymentCategory.description\"\r\n            disabled\r\n            label=\"Categoria de Pagamento\"\r\n            :rules=\"[rules.required]\"\r\n            class=\"mr-3\"\r\n          >\r\n          </v-text-field>\r\n\r\n          <date-picker\r\n            class=\"ml-3 mr-3\"\r\n            label=\"Data Prevista\"\r\n            v-model=\"dataItem.expectedDate\"\r\n            :required=\"true\"\r\n          ></date-picker>\r\n\r\n          <date-picker\r\n            class=\"ml-3\"\r\n            label=\"Data Realizada\"\r\n            v-model=\"dataItem.date\"\r\n            :required=\"true\"\r\n          ></date-picker>\r\n        </div>\r\n\r\n        <div class=\"d-flex flex-row mb-8\">\r\n          <!-- <v-text-field\r\n            v-model=\"dataItem.value\"\r\n            label=\"Valor\"\r\n            class=\"mr-3\"\r\n            :rules=\"[rules.required]\"\r\n            type=\"number\"\r\n          ></v-text-field> -->\r\n\r\n          <Money\r\n            class=\"mr-3\"\r\n            v-model=\"dataItem.value\"\r\n            :notZero=\"true\"\r\n            label=\"Valor\"\r\n            :required=\"true\"\r\n            :properties=\"{\r\n              prefix: '$',\r\n            }\"\r\n            :options=\"{\r\n              locale: 'pt-BR',\r\n              length: 12,\r\n              precision: 2,\r\n              empty: '0,00',\r\n            }\"\r\n          ></Money>\r\n\r\n          <v-autocomplete\r\n            v-if=\"hasPermission($PermissionNames.permissionCategorySituationSee)\"\r\n            label=\"Situação do Pagamento\"\r\n            :loading=\"loadingPaymentSituationCategories\"\r\n            v-model=\"dataItem.paymentSituation\"\r\n            :items=\"paymentSituationCategories\"\r\n            class=\"ml-3\"\r\n            item-text=\"description\"\r\n            return-object\r\n            :rules=\"[rules.required]\"\r\n          >\r\n            <template v-slot:no-data>\r\n              <div class=\"px-4\">Sem dados disponíveis</div>\r\n            </template>\r\n          </v-autocomplete>\r\n          <v-text-field\r\n            v-else\r\n            v-model=\"dataItem.paymentSituation.description\"\r\n            disabled\r\n            label=\"Situação do Pagamento\"\r\n            :rules=\"[rules.required]\"\r\n            class=\"ml-3\"\r\n          >\r\n          </v-text-field>\r\n        </div>\r\n\r\n        <div\r\n          class=\"d-flex flex-row justify-end pt-5\"\r\n          style=\"border-top: 1px solid #e1e1e1\"\r\n        >\r\n          <v-btn rounded large class=\"mr-3\" text @click=\"closeModal()\"\r\n            >CANCELAR</v-btn\r\n          >\r\n          <v-btn rounded large class=\"asia-red white--text\" @click=\"saveItem()\"\r\n            >SALVAR</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-form>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Money from '@/components/Money'\r\nimport validationRules from '@/mixins/validationRules'\r\nimport tiposCategorias from '@/lib/enumTiposCategorias.js'\r\nimport DatePicker from '@/components/DatePicker'\r\nimport { createNamespacedHelpers } from 'vuex'\r\nconst moduleCategoriaSituacao = createNamespacedHelpers(\r\n  'ModuleCategoriaSituacao'\r\n)\r\n\r\nexport default {\r\n  name: 'ProformaFinancialModal',\r\n\r\n  props: ['showModal', 'value'],\r\n\r\n  data() {\r\n    return {\r\n      editMode: false,\r\n      modalVisible: false,\r\n      dataItem: {\r\n        paymentCategory: {},\r\n        paymentSituation: {},\r\n      },\r\n      paymentCategories: [],\r\n      paymentSituationCategories: [],\r\n      loadingPaymentCategories: false,\r\n      loadingPaymentSituationCategories: false,\r\n    }\r\n  },\r\n  methods: {\r\n    ...moduleCategoriaSituacao.mapActions(['getByType']),\r\n    async showDialog(currentData) {\r\n      this.editMode = Object.keys(currentData).length !== 0\r\n\r\n      if (this.hasPermission(this.$PermissionNames.permissionCategorySituationSee)) {\r\n        this.loadPaymentCategories();\r\n        this.loadPaymentSituationCategories();\r\n      }\r\n\r\n      this.modalVisible = true\r\n      if (!this.editMode) this.$refs.form.reset()\r\n      this.dataItem = currentData\r\n    },\r\n    async loadPaymentCategories() {\r\n      this.loadingPaymentCategories = true\r\n      this.paymentCategories = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.categoriaPagamento\r\n      )\r\n      this.loadingPaymentCategories = false\r\n    },\r\n    async loadPaymentSituationCategories() {\r\n      this.loadingPaymentSituationCategories = true\r\n      this.paymentSituationCategories = await this.getByType(\r\n        tiposCategorias.enumTiposCategoriasRequest.situaçãoPagamento\r\n      )\r\n      this.loadingPaymentSituationCategories = false\r\n    },\r\n    saveItem() {\r\n      if (this.dataItem.idVirtual === undefined) this.dataItem.idVirtual = -1\r\n      if (this.$refs.form.validate()) {\r\n        this.$emit('on-save', this.dataItem)\r\n        this.closeModal()\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.modalVisible = false\r\n    },\r\n  },\r\n  components: {\r\n    DatePicker,\r\n    Money,\r\n  },\r\n\r\n  mixins: [validationRules],\r\n}\r\n</script>"]}]}