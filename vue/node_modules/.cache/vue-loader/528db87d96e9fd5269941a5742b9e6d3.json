{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\clientes\\grupoClientes\\ViewGrupoClientesCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\clientes\\grupoClientes\\ViewGrupoClientesCreate.vue","mtime":1680609356639},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVG9wU2VjdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvVG9wU2VjdGlvbi52dWUiOw0KaW1wb3J0IGdldFJvdXRlckRhdGEgZnJvbSAiQC9taXhpbnMvZ2V0Um91dGVyRGF0YS5qcyI7DQppbXBvcnQgZ3J1cG9DbGllbnRlcyBmcm9tICJAL21peGlucy9ncnVwb0NsaWVudGVzL2dydXBvQ2xpZW50ZXMuanMiOw0KaW1wb3J0IHZhbGlkYXRpb25SdWxlcyBmcm9tICIuLi8uLi8uLi9taXhpbnMvdmFsaWRhdGlvblJ1bGVzIjsNCmltcG9ydCBDdXN0b21lckxpc3RDb21wb25lbnQgZnJvbSAiLi92aW5jdWxvQ2xpZW50ZXMvQ3VzdG9tZXJMaXN0Q29tcG9uZW50LnZ1ZSI7DQppbXBvcnQgeyBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IFVzZXJMaW5rVmlldyBmcm9tICIuL3ZpbmN1bG9Vc3Vhcmlvcy9Vc2VyTGlua1ZpZXcudnVlIjsNCg0KY29uc3QgbW9kdWxlR3J1cG9DbGllbnRlcyA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJNb2R1bGVHcnVwb0NsaWVudGVzIik7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YTogKCkgPT4gKHsNCiAgICBsb2FkaW5nU2F2ZTogZmFsc2UsDQogICAgYWxlcnRTdWNjZXNzVGV4dDogIiIsDQogICAgYWxlcnRTdWNjZXNzOiBmYWxzZSwNCiAgICB0YWJzOiBudWxsLA0KICAgIGN1c3RvbWVyR3JvdXBEYXRhOiB7fSwNCiAgfSksDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICBlZGl0UGVybWlzc2lvbigpIHsNCiAgICAgIHJldHVybiB0aGlzLmhhc1Blcm1pc3Npb24oDQogICAgICAgIHRoaXMuJFBlcm1pc3Npb25OYW1lcy5wZXJtaXNzaW9uQ3VzdG9tZXJHcm91cEVkaXQNCiAgICAgICk7DQogICAgfSwNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgLi4ubW9kdWxlR3J1cG9DbGllbnRlcy5tYXBBY3Rpb25zKHsNCiAgICAgIGNyZWF0ZUdyb3VwOiAiY3JlYXRlIiwNCiAgICAgIGdldEJ5SWQ6ICJnZXRCeUlkIiwNCiAgICAgIHVwZGF0ZUdyb3VwOiAidXBkYXRlIiwNCiAgICB9KSwNCg0KICAgIGFzeW5jIGNyZWF0ZUN1c3RvbWVyR3JvdXAoKSB7DQogICAgICB0aGlzLmxvYWRpbmdTYXZlID0gdHJ1ZTsNCiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmNyZWF0ZUdyb3VwKHRoaXMuY3VzdG9tZXJHcm91cERhdGEpOw0KDQogICAgICBpZiAocmVzdWx0LmRhdGEuc3VjY2Vzcykgew0KICAgICAgICB0aGlzLmFsZXJ0U3VjY2Vzc1RleHQgPSAiR3J1cG8gZGUgQ2xpZW50ZXMgY3JpYWRvIGNvbSBzdWNlc3NvISI7DQogICAgICAgIHRoaXMuYWxlcnRTdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgdGhpcy5hbGVydFN1Y2Nlc3MgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUvZ3J1cG9DbGllbnRlcyIpOw0KICAgICAgICB9LCAxODAwKTsNCiAgICAgIH0NCiAgICAgIHRoaXMubG9hZGluZ1NhdmUgPSBmYWxzZTsNCiAgICB9LA0KDQogICAgYXN5bmMgdXBkYXRlQ3VzdG9tZXJHcm91cCgpIHsNCiAgICAgIHRoaXMubG9hZGluZ1NhdmUgPSB0cnVlOw0KICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy51cGRhdGVHcm91cCh0aGlzLmN1c3RvbWVyR3JvdXBEYXRhKTsNCg0KICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykgew0KICAgICAgICB0aGlzLmFsZXJ0U3VjY2Vzc1RleHQgPSAiR3J1cG8gZGUgQ2xpZW50ZXMgYXR1YWxpemFkbyBjb20gc3VjZXNzbyEiOw0KICAgICAgICB0aGlzLmFsZXJ0U3VjY2VzcyA9IHRydWU7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIHRoaXMuYWxlcnRTdWNjZXNzID0gZmFsc2U7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ob21lL2dydXBvQ2xpZW50ZXMiKTsNCiAgICAgICAgfSwgMTgwMCk7DQogICAgICB9DQogICAgICB0aGlzLmxvYWRpbmdTYXZlID0gZmFsc2U7DQogICAgfSwNCg0KICAgIGFzeW5jIGxvYWRDdXN0b21lckdyb3VwKCkgew0KICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRCeUlkKHRoaXMuaWQpOw0KICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgdGhpcy5jdXN0b21lckdyb3VwRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0Ow0KICAgICAgfQ0KICAgIH0sDQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICBpZiAodGhpcy5pZCkgew0KICAgICAgdGhpcy5sb2FkQ3VzdG9tZXJHcm91cCgpOw0KICAgIH0NCiAgfSwNCg0KICBwcm9wczogWyJpZCJdLA0KDQogIG1peGluczogW3ZhbGlkYXRpb25SdWxlcywgZ2V0Um91dGVyRGF0YSwgZ3J1cG9DbGllbnRlc10sDQoNCiAgY29tcG9uZW50czogew0KICAgIFRvcFNlY3Rpb24sDQogICAgQ3VzdG9tZXJMaXN0Q29tcG9uZW50LA0KICAgIFVzZXJMaW5rVmlldywNCiAgfSwNCn07DQo="},{"version":3,"sources":["ViewGrupoClientesCreate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ViewGrupoClientesCreate.vue","sourceRoot":"src/views/clientes/grupoClientes","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column flex-grow-1 mx-10\">\r\n    <top-section></top-section>\r\n\r\n    <h2 class=\"asia-neutral--text text--var-1 mb-2\">\r\n      {{ this.$route.meta.title }}\r\n    </h2>\r\n\r\n    <v-alert\r\n      type=\"success\"\r\n      transition=\"slide-y-transition\"\r\n      dismissible\r\n      v-show=\"alertSuccess\"\r\n      dense\r\n      >{{ alertSuccessText }}</v-alert\r\n    >\r\n\r\n    <div class=\"white rounded-lg elevation-3\">\r\n      <v-tabs class=\"rounded-lg\" background-color=\"#A00C0F\" dark v-model=\"tabs\">\r\n        <v-tab href=\"#tab-1\">Clientes Vinculados</v-tab>\r\n        <v-tab v-if=\"id\" href=\"#tab-2\">Usu√°rios Vinculados</v-tab>\r\n      </v-tabs>\r\n\r\n      <v-tabs-items v-model=\"tabs\" class=\"pa-4 rounded-lg\">\r\n        <v-tab-item value=\"tab-1\">\r\n          <customer-list-component\r\n            v-model=\"customerGroupData\"\r\n            :readonly=\"!editPermission\"\r\n          />\r\n        </v-tab-item>\r\n\r\n        <v-tab-item value=\"tab-2\">\r\n          <user-link-view :id=\"id\" />\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n    </div>\r\n    <div v-if=\"editPermission\" class=\"d-flex flex-row justify-end pt-5\">\r\n      <v-btn\r\n        rounded\r\n        large\r\n        class=\"mr-3\"\r\n        text\r\n        @click=\"$router.push('/home/grupoClientes')\"\r\n      >\r\n        CANCELAR\r\n      </v-btn>\r\n\r\n      <v-btn\r\n        rounded\r\n        large\r\n        class=\"asia-red white--text\"\r\n        v-if=\"this.id\"\r\n        @click=\"updateCustomerGroup()\"\r\n        :loading=\"loadingSave\"\r\n        >SALVAR</v-btn\r\n      >\r\n\r\n      <v-btn\r\n        rounded\r\n        large\r\n        class=\"asia-red white--text\"\r\n        v-else\r\n        @click=\"createCustomerGroup()\"\r\n        :loading=\"loadingSave\"\r\n        >SALVAR</v-btn\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport getRouterData from \"@/mixins/getRouterData.js\";\r\nimport grupoClientes from \"@/mixins/grupoClientes/grupoClientes.js\";\r\nimport validationRules from \"../../../mixins/validationRules\";\r\nimport CustomerListComponent from \"./vinculoClientes/CustomerListComponent.vue\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport UserLinkView from \"./vinculoUsuarios/UserLinkView.vue\";\r\n\r\nconst moduleGrupoClientes = createNamespacedHelpers(\"ModuleGrupoClientes\");\r\n\r\nexport default {\r\n  data: () => ({\r\n    loadingSave: false,\r\n    alertSuccessText: \"\",\r\n    alertSuccess: false,\r\n    tabs: null,\r\n    customerGroupData: {},\r\n  }),\r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(\r\n        this.$PermissionNames.permissionCustomerGroupEdit\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...moduleGrupoClientes.mapActions({\r\n      createGroup: \"create\",\r\n      getById: \"getById\",\r\n      updateGroup: \"update\",\r\n    }),\r\n\r\n    async createCustomerGroup() {\r\n      this.loadingSave = true;\r\n      let result = await this.createGroup(this.customerGroupData);\r\n\r\n      if (result.data.success) {\r\n        this.alertSuccessText = \"Grupo de Clientes criado com sucesso!\";\r\n        this.alertSuccess = true;\r\n        setTimeout(() => {\r\n          this.alertSuccess = false;\r\n          this.$router.push(\"/home/grupoClientes\");\r\n        }, 1800);\r\n      }\r\n      this.loadingSave = false;\r\n    },\r\n\r\n    async updateCustomerGroup() {\r\n      this.loadingSave = true;\r\n      let response = await this.updateGroup(this.customerGroupData);\r\n\r\n      if (response.data.success) {\r\n        this.alertSuccessText = \"Grupo de Clientes atualizado com sucesso!\";\r\n        this.alertSuccess = true;\r\n        setTimeout(() => {\r\n          this.alertSuccess = false;\r\n          this.$router.push(\"/home/grupoClientes\");\r\n        }, 1800);\r\n      }\r\n      this.loadingSave = false;\r\n    },\r\n\r\n    async loadCustomerGroup() {\r\n      let response = await this.getById(this.id);\r\n      if (response.status == 200) {\r\n        this.customerGroupData = response.data.result;\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (this.id) {\r\n      this.loadCustomerGroup();\r\n    }\r\n  },\r\n\r\n  props: [\"id\"],\r\n\r\n  mixins: [validationRules, getRouterData, grupoClientes],\r\n\r\n  components: {\r\n    TopSection,\r\n    CustomerListComponent,\r\n    UserLinkView,\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.v-tab {\r\n  text-transform: none !important;\r\n}\r\n</style>"]}]}