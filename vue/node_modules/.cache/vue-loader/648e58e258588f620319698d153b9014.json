{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ordemCompra\\materiais.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\ordemCompra\\materiais.vue","mtime":1680609356659},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdmFsaWRhdGlvblJ1bGVzIGZyb20gIi4uLy4uL21peGlucy92YWxpZGF0aW9uUnVsZXMiOw0KaW1wb3J0IE1vZGFsQWRkQW5kVXBkYXRlTWF0ZXJpYWxzIGZyb20gIi4vTW9kYWxBZGRBbmRVcGRhdGVNYXRlcmlhbHMudnVlIjsNCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAidnVleCI7DQoNCmNvbnN0IG1vZHVsZU1hdGVyaWFscyA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJNb2R1bGVPcmRlbURlQ29tcHJhTWF0ZXJpYWxzIik7DQpjb25zdCBtb2R1bGVEZWxpdmVyeSA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJNb2R1bGVEZWxpdmVyeSIpOw0KY29uc3QgbW9kdWxlQ29sbGVjdGlvbiA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJNb2R1bGVDb2xldGFzIik7DQpjb25zdCBtb2R1bGVDb2xldGFzTWF0ZXJpYWlzID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoDQogICJNb2R1bGVDb2xldGFzTWF0ZXJpYWxzIg0KKTsNCmNvbnN0IG1vZHVsZU9yZGVtRGVDb21wcmFNYXRlcmlhbHMgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygNCiAgIk1vZHVsZU9yZGVtRGVDb21wcmFNYXRlcmlhbHMiDQopOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiBbDQogICAgImdldE1hdGVyaWFscyIsDQogICAgImlzRGVsaXZlcnkiLA0KICAgICJpc0Rpc3RyaWJ1dGlvbiIsDQogICAgInB1cmNoYXNlT3JkZXIiLA0KICAgICJjdXJyZW5jeSIsDQogIF0sDQogIGRhdGE6ICgpID0+ICh7DQogICAgaGVhZGVyc0Rpc3RyaWJ1dGlvbjogWw0KICAgICAgeyB0ZXh0OiAiIiwgdmFsdWU6ICJjb2wxIiwgd2lkdGg6ICI1JSIgfSwNCiAgICAgIHsgdGV4dDogIkPDs2RpZ28iLCB2YWx1ZTogImNvbDIiIH0sDQogICAgICB7IHRleHQ6ICJEZXNjcmnDp8OjbyIsIHZhbHVlOiAiY29sMyIgfSwNCiAgICAgIHsgdGV4dDogIlByb3Zpc2lvbmFkYSIsIHZhbHVlOiAiY29sNCIgfSwNCiAgICAgIHsgdGV4dDogIkZhdHVyYWRhIiwgdmFsdWU6ICJjb2w2IiB9LA0KICAgICAgeyB0ZXh0OiAiVmFsb3IgVW5pdMOhcmlvIChzZW0gSVBJKSIsIHZhbHVlOiAiY29sNyIgfSwNCiAgICAgIHsgdGV4dDogIlZhbG9yIFRvdGFsIiwgdmFsdWU6ICJjb2w4IiB9LA0KICAgIF0sDQogICAgaGVhZGVyczogWw0KICAgICAgeyB0ZXh0OiAiIiwgdmFsdWU6ICJjb2wxIiwgd2lkdGg6ICI1JSIgfSwNCiAgICAgIHsgdGV4dDogIkPDs2RpZ28iLCB2YWx1ZTogImNvbDIiIH0sDQogICAgICB7IHRleHQ6ICJEZXNjcmnDp8OjbyIsIHZhbHVlOiAiY29sMyIgfSwNCiAgICAgIHsgdGV4dDogIlByb3Zpc2lvbmFkbyBPLkMuIiwgdmFsdWU6ICJjb2w0IiB9LA0KICAgICAgeyB0ZXh0OiAiRW1iYXJjYWRvIiwgdmFsdWU6ICJjb2w1IiB9LA0KICAgICAgeyB0ZXh0OiAiRmF0dXJhZG8iLCB2YWx1ZTogImNvbDYiIH0sDQogICAgICB7IHRleHQ6ICJWYWxvciBVbml0w6FyaW8iLCB2YWx1ZTogImNvbDciIH0sDQogICAgICB7IHRleHQ6ICJWYWxvciBUb3RhbCIsIHZhbHVlOiAiY29sOCIgfSwNCiAgICBdLA0KICAgIHJvd3M6IFtdLA0KICAgIGlkOiBudWxsLA0KICAgIHZhbG9yVG90YWxNYXRlcmlhbDogbnVsbCwNCiAgICB2YWxvclRvdGFsTWF0ZXJpYWxJUEk6IG51bGwsDQogICAgZGlhbG9nRGVsZXRlQ29uZmlybTogZmFsc2UsDQogICAgbWF0ZXJpYWxUb0RlbGV0ZUlkOiBudWxsLA0KICAgIGRpYWxvZ0F2aXNvRGVsZXRlOiBmYWxzZSwNCiAgICB0YWJsZUxvYWRpbmc6IHRydWUsDQogICAgZGlhbG9nRXJyb3JEZWxldGVNYXRlcmlhbDogZmFsc2UsDQogICAgbGlzdEFsbE1hdGVyaWFsOiBbXSwNCiAgICBtZXNzYWdlRGlhbG9nRXJyb3I6IG51bGwsDQogIH0pLA0KDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tb2R1bGVNYXRlcmlhbHMubWFwQWN0aW9ucyh7DQogICAgICBnZXRBbGxCeVB1cmNoYXNlOiAiZ2V0QWxsQnlQdXJjaGFzZSIsDQogICAgICBkZWxldGU6ICJkZWxldGUiLA0KICAgIH0pLA0KDQogICAgLi4ubW9kdWxlRGVsaXZlcnkubWFwQWN0aW9ucyh7DQogICAgICBnZXRBbGxCeVB1cmNoYXNlRGVsaXZlcnk6ICJnZXRBbGxCeVB1cmNoYXNlIiwNCiAgICB9KSwNCg0KICAgIC4uLm1vZHVsZUNvbGxlY3Rpb24ubWFwQWN0aW9ucyh7DQogICAgICBnZXRBbGxCeVB1cmNoYXNlQ29sbGVjdGlvbjogImdldEFsbEJ5UHVyY2hhc2UiLA0KICAgIH0pLA0KDQogICAgLi4ubW9kdWxlQ29sZXRhc01hdGVyaWFpcy5tYXBBY3Rpb25zKHsNCiAgICAgIGlzTWF0ZXJpYWxEZWxpdmVyZWQ6ICJpc01hdGVyaWFsRGVsaXZlcmVkIiwNCiAgICAgIGRlbGV0ZUJ5TWF0ZXJpYWw6ICJkZWxldGVCeU1hdGVyaWFsIiwNCiAgICAgIGlzTWF0ZXJpYWxQcmVzZW50SW5Db25jbHVkZWRDb2xsZWN0Og0KICAgICAgICAiaXNNYXRlcmlhbFByZXNlbnRJbkNvbmNsdWRlZENvbGxlY3QiLA0KICAgIH0pLA0KDQogICAgLi4ubW9kdWxlT3JkZW1EZUNvbXByYU1hdGVyaWFscy5tYXBBY3Rpb25zKHsNCiAgICAgIGdldE9yZGVtQ29tcHJhTWF0ZXJpYWxCeUlkOiAiZ2V0QnlJZCIsDQogICAgfSksDQoNCiAgICBhc3luYyB2ZXJpZnlNYXRlcmlhbChpZCwgbWF0ZXJpYWxJZCwgcHJvdmlzaW9uZWRRdGQpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIGlkT3JkZXI6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwNCiAgICAgICAgbWF0ZXJpYWxJZDogbWF0ZXJpYWxJZCwNCiAgICAgICAgcHJvdmlzaW9uZWRRdWFudGl0eTogcHJvdmlzaW9uZWRRdGQsDQogICAgICB9Ow0KDQogICAgICBsZXQgaXNEZWxpdmVyeSA9IGF3YWl0IHRoaXMuaXNNYXRlcmlhbERlbGl2ZXJlZChwYXJhbXMpOw0KDQogICAgICBpZiAoaXNEZWxpdmVyeS5kYXRhLnJlc3VsdCkgew0KICAgICAgICB0aGlzLm1lc3NhZ2VEaWFsb2dFcnJvciA9DQogICAgICAgICAgIk7Do28gw6kgcG9zc8OtdmVsIGV4Y2x1aXIgZXN0ZSBtYXRlcmlhbCwgcG9pcyBqw6EgZm9pIGZhdHVyYWRvLiI7DQogICAgICAgIHRoaXMuZGlhbG9nRXJyb3JEZWxldGVNYXRlcmlhbCA9IHRydWU7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgbGV0IGlzRW1VbWFDb2xldGFDb25jbHVpZGEgPQ0KICAgICAgICBhd2FpdCB0aGlzLmlzTWF0ZXJpYWxQcmVzZW50SW5Db25jbHVkZWRDb2xsZWN0KHBhcmFtcyk7DQoNCiAgICAgIGlmIChpc0VtVW1hQ29sZXRhQ29uY2x1aWRhLmRhdGEucmVzdWx0KSB7DQogICAgICAgIHRoaXMubWVzc2FnZURpYWxvZ0Vycm9yID0NCiAgICAgICAgICAiTsOjbyDDqSBwb3Nzw612ZWwgZXhjbHVpciBlc3RlIG1hdGVyaWFsLCBwb2lzIGVsZSBlc3TDoSBwcmVzZW50ZSBlbSB1bWEgY29sZXRhIGrDoSBjb25jbHXDrWRhLiI7DQogICAgICAgIHRoaXMuZGlhbG9nRXJyb3JEZWxldGVNYXRlcmlhbCA9IHRydWU7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgdGhpcy5kaWFsb2dEZWxldGVDb25maXJtID0gdHJ1ZTsNCiAgICAgIHRoaXMubWF0ZXJpYWxUb0RlbGV0ZUlkID0gaWQ7DQogICAgfSwNCg0KICAgIGFzeW5jIGRlbGV0ZU1hdGVyaWFsRnJvbUxpc3QoKSB7DQogICAgICB2YXIgb3JkZW1Db21wcmFNYXRlcmlhbCA9IGF3YWl0IHRoaXMuZ2V0T3JkZW1Db21wcmFNYXRlcmlhbEJ5SWQoDQogICAgICAgIHRoaXMubWF0ZXJpYWxUb0RlbGV0ZUlkDQogICAgICApOw0KICAgICAgdmFyIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5kZWxldGUodGhpcy5tYXRlcmlhbFRvRGVsZXRlSWQpOw0KDQogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgew0KICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgIGlkTWF0ZXJpYWw6IG9yZGVtQ29tcHJhTWF0ZXJpYWwuZGF0YS5yZXN1bHQubWF0ZXJpYWxJZCwNCiAgICAgICAgICBwcm92aXNpb25lZFF0ZDogb3JkZW1Db21wcmFNYXRlcmlhbC5kYXRhLnJlc3VsdC5wcm92aXNpb25lZFF0ZCwNCiAgICAgICAgfTsNCiAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVCeU1hdGVyaWFsKHBhcmFtcyk7DQoNCiAgICAgICAgdGhpcy5nZXRBbGxNYXRlcmlhbHMoKTsNCiAgICAgICAgdGhpcy5kaWFsb2dEZWxldGVDb25maXJtID0gZmFsc2U7DQogICAgICAgIHRoaXMuJGVtaXQoInNldFN1Y2Nlc3NPblJlbW92ZU1lc3NhZ2UiKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuJGVtaXQoInJlbG9hZEJ1dHRvbiIpOw0KICAgIH0sDQoNCiAgICBidWlsZFJvd3MoZGF0YSkgew0KICAgICAgdGhpcy52YWxvclRvdGFsTWF0ZXJpYWwgPSAwOw0KICAgICAgdGhpcy52YWxvclRvdGFsTWF0ZXJpYWxJUEkgPSAwOw0KICAgICAgZGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7DQogICAgICAgIHZhciB0ZXN0ZSA9IGVsZW1lbnQucHJvdmlzaW9uZWRRdGQgKiBlbGVtZW50LnVuaXRhcnlWYWx1ZTsNCiAgICAgICAgdGhpcy52YWxvclRvdGFsTWF0ZXJpYWwgPSB0aGlzLnZhbG9yVG90YWxNYXRlcmlhbCArIHRlc3RlOw0KICAgICAgfSk7DQogICAgICB0aGlzLnZhbG9yVG90YWxNYXRlcmlhbElQSSA9DQogICAgICAgIHRoaXMudmFsb3JUb3RhbE1hdGVyaWFsICsgKHRoaXMudmFsb3JUb3RhbE1hdGVyaWFsICogMy4yNSkgLyAxMDA7DQogICAgICB0aGlzLnJvd3MgPSBkYXRhLm1hcCgoZSkgPT4gKHsNCiAgICAgICAgY29sMTogZS5pZCwNCiAgICAgICAgY29sMjogZS5tYXRlcmlhbENvZGUsDQogICAgICAgIGNvbDM6IGUubWF0ZXJpYWxOYW1lLA0KICAgICAgICBjb2w0OiBlLnByb3Zpc2lvbmVkUXRkLA0KICAgICAgICBjb2w1OiBlLnNoaXBwZWRRdWFudGl0eSwNCiAgICAgICAgY29sNjogZS5iaWxsZWRBbW91bnQgPyBlLmJpbGxlZEFtb3VudCArICIga2ciIDogbnVsbCwNCiAgICAgICAgY29sNzogZS51bml0YXJ5VmFsdWUsDQogICAgICAgIGNvbDg6IGUucHJvdmlzaW9uZWRRdGQgKiBlLnVuaXRhcnlWYWx1ZSwNCiAgICAgICAgY29sOTogZS5tYXRlcmlhbElkLA0KICAgICAgfSkpOw0KICAgIH0sDQoNCiAgICBzZXRFZGl0aW9uKGlkKSB7DQogICAgICB0aGlzLiRyZWZzLm1vZGFsRWRpdE1hdGVyaWFsLmVkaXRNYXRlcmlhbChpZCk7DQogICAgICB0aGlzLmlkID0gaWQ7DQogICAgfSwNCg0KICAgIGFzeW5jIGdldEFsbE1hdGVyaWFscygpIHsNCiAgICAgIGxldCBpdGVtID0gew0KICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLA0KICAgICAgICBpc0RlbGl2ZXJ5OiB0aGlzLmlzRGVsaXZlcnkgPyB0cnVlIDogZmFsc2UsDQogICAgICB9Ow0KICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRBbGxCeVB1cmNoYXNlKGl0ZW0pOw0KICAgICAgdGhpcy5saXN0QWxsTWF0ZXJpYWwgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsNCiAgICAgIHRoaXMuYnVpbGRSb3dzKHJlc3BvbnNlLmRhdGEucmVzdWx0KTsNCiAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gZmFsc2U7DQogICAgICB0aGlzLiRlbWl0KCJzZXRMaXN0c1RvVHJ1ZSIsIHRydWUpOw0KICAgICAgdGhpcy4kZW1pdCgic2V0TGlzdFRvRmFsc2UiLCBmYWxzZSk7DQogICAgfSwNCg0KICAgIHNldFN1Y2Nlc3NNZXNzYWdlKCkgew0KICAgICAgdGhpcy4kZW1pdCgic2V0U3VjY2Vzc01lc3NhZ2UiLCB0cnVlKTsNCiAgICB9LA0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRBbGxNYXRlcmlhbHMoKTsNCiAgfSwNCg0KICB3YXRjaDogew0KICAgIGdldE1hdGVyaWFscygpIHsNCiAgICAgIHRoaXMuZ2V0QWxsTWF0ZXJpYWxzKCk7DQogICAgfSwNCiAgfSwNCg0KICBjb21wdXRlZDogew0KICAgIGVkaXRQZXJtaXNzaW9uKCkgew0KICAgICAgcmV0dXJuIHRoaXMuaGFzUGVybWlzc2lvbigNCiAgICAgICAgdGhpcy4kUGVybWlzc2lvbk5hbWVzLnBlcm1pc3Npb25QdXJjaGFzZU9yZGVyRWRpdA0KICAgICAgKTsNCiAgICB9LA0KICB9LA0KICBjb21wb25lbnRzOiB7IE1vZGFsQWRkQW5kVXBkYXRlTWF0ZXJpYWxzIH0sDQoNCiAgbWl4aW5zOiBbdmFsaWRhdGlvblJ1bGVzXSwNCn07DQo="},{"version":3,"sources":["materiais.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"materiais.vue","sourceRoot":"src/views/ordemCompra","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column justify-space-between\">\r\n    <v-row\r\n      v-if=\"purchaseOrder.hasDeletedMaterials || isDistribution\"\r\n      class=\"mr-0 mt-0 mb-3\"\r\n      justify=\"end\"\r\n    >\r\n      <v-btn\r\n        v-if=\"editPermission\"\r\n        rounded\r\n        small\r\n        color=\"#FEE066\"\r\n        class=\"asia-neutral--text mr-2 button align-items-center\"\r\n        @click=\"$emit('addMaterial')\"\r\n      >\r\n        <v-icon small icon class=\"mr-2\">mdi-plus</v-icon>\r\n        <div class=\"buttonText\">ADICIONAR MATERIAL</div>\r\n      </v-btn>\r\n    </v-row>\r\n    <div class=\"flex-grow-1 rounded-lg pa-4 white elevation-5\">\r\n      <v-data-table\r\n        disable-sort\r\n        :headers=\"\r\n          isDistribution\r\n            ? editPermission\r\n              ? headersDistribution\r\n              : headersDistribution.filter((x) => x.value != 'col1')\r\n            : editPermission\r\n            ? headers\r\n            : headers.filter((x) => x.value != 'col1')\r\n        \"\r\n        :items=\"rows\"\r\n        noDataText=\"Nenhum registro encontrado\"\r\n        loading-text=\"Aguarde, carregando Materiais...\"\r\n        :loading=\"tableLoading\"\r\n        :footer-props=\"{\r\n          itemsPerPageOptions: [10, 50, 100],\r\n          itemsPerPageText: 'Itens por Página',\r\n        }\"\r\n        :expanded=\"['Valor total dos materiais sem IPI']\"\r\n      >\r\n        <!-- Icone Edição -->\r\n        <template v-slot:[`item.col1`]=\"{ item }\">\r\n          <div v-if=\"editPermission\" class=\"d-flex flex-nowrap\">\r\n            <v-btn icon @click=\"setEdition(item.col1)\">\r\n              <v-icon>mdi-pencil</v-icon>\r\n            </v-btn>\r\n\r\n            <v-btn\r\n              icon\r\n              @click=\"verifyMaterial(item.col1, item.col9, item.col4)\"\r\n            >\r\n              <v-icon> mdi-delete </v-icon>\r\n            </v-btn>\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.col4`]=\"{ item }\">\r\n          <div v-if=\"item.col4\">\r\n            {{ `${item.col4} kg` }}\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.col5`]=\"{ item }\">\r\n          <div v-if=\"item.col5\">\r\n            {{ `${item.col5} kg` }}\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.col7`]=\"{ item }\">\r\n          <div v-if=\"item.col7 && currency == 'R$'\">\r\n            {{ item.col7 | currencyFormatReal }}\r\n          </div>\r\n\r\n          <div v-else-if=\"item.col7 && currency == 'USD'\">\r\n            {{ item.col7 | currencyFormat }}\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.col8`]=\"{ item }\">\r\n          <div v-if=\"item.col8 && currency == 'R$'\">\r\n            {{ item.col8 | currencyFormatReal }}\r\n          </div>\r\n\r\n          <div v-else-if=\"item.col8 && currency == 'USD'\">\r\n            {{ item.col8 | currencyFormat }}\r\n          </div>\r\n        </template>\r\n\r\n        <template v-slot:[`body.append`]>\r\n          <div class=\"d-flex align-center pa-2\" style=\"width: 350%\">\r\n            <span class=\"flex-nowrap mr-2\" style=\"font-size: 12px\"\r\n              >Valor total dos materiais sem IPI</span\r\n            >\r\n            <span style=\"font-size: 14px\">\r\n              <b v-if=\"currency == 'R$'\">{{\r\n                valorTotalMaterial | currencyFormatReal\r\n              }}</b>\r\n\r\n              <b v-else-if=\"currency == 'USD'\">{{\r\n                valorTotalMaterial | currencyFormat\r\n              }}</b>\r\n            </span>\r\n          </div>\r\n\r\n          <div class=\"d-flex align-center ml-2 mb-2\" style=\"width: 350%\">\r\n            <span class=\"flex-nowrap mr-2\" style=\"font-size: 12px\"\r\n              >Valor total dos materiais com IPI (3,25%)</span\r\n            >\r\n            <span style=\"font-size: 14px\">\r\n              <b v-if=\"currency == 'R$'\">{{\r\n                valorTotalMaterialIPI | currencyFormatReal\r\n              }}</b>\r\n\r\n              <b v-else-if=\"currency == 'USD'\">{{\r\n                valorTotalMaterialIPI | currencyFormat\r\n              }}</b>\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </v-data-table>\r\n    </div>\r\n\r\n    <!-- DIALOG CONFIRM DELETE -->\r\n    <v-dialog v-model=\"dialogDeleteConfirm\" max-width=\"360px\">\r\n      <div class=\"white pa-5 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"#F75A02\"> mdi-alert </v-icon>\r\n\r\n        <h4\r\n          class=\"asia-neutral--text text--var-1 mb-8 mt-8\"\r\n          style=\"font-size: 15px\"\r\n        >\r\n          Deseja <b>remover</b> o <b>material?</b> <br />\r\n          Esta ação <b>não</b> pode ser <b>desfeita.</b>\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            rounded\r\n            large\r\n            text\r\n            class=\"mr-4\"\r\n            @click=\"dialogDeleteConfirm = false\"\r\n            >CANCELAR</v-btn\r\n          >\r\n\r\n          <v-btn\r\n            rounded\r\n            large\r\n            color=\"#F75A02\"\r\n            class=\"white--text\"\r\n            @click=\"deleteMaterialFromList\"\r\n            >REMOVER</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <!-- DIALOG NÃO PODE SER REMOVIDO -->\r\n    <v-dialog v-model=\"dialogAvisoDelete\" max-width=\"360px\">\r\n      <div class=\"white pa-5 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"#E10000\">\r\n          mdi-alert-octagon\r\n        </v-icon>\r\n\r\n        <h4\r\n          class=\"asia-neutral--text text--var-1 mb-8 mt-8\"\r\n          style=\"font-size: 15px\"\r\n        >\r\n          Este material já possui entregas ou coletas <br />\r\n          realizadas. Por este motivo não pode ser <br />\r\n          removido.\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            style=\"background: #e10000\"\r\n            dark\r\n            rounded\r\n            large\r\n            text\r\n            class=\"mr-4\"\r\n            @click=\"dialogAvisoDelete = false\"\r\n            >FECHAR MENSAGEM</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <!-- Modal Edit Material-->\r\n    <modal-add-and-update-materials\r\n      ref=\"modalEditMaterial\"\r\n      :currency=\"currency\"\r\n      :isDistribution=\"isDistribution\"\r\n      @setListsToTrue=\"getAllMaterials\"\r\n      @setSuccessMessage=\"setSuccessMessage\"\r\n      @reloadButton=\"$emit('reloadButton')\"\r\n    ></modal-add-and-update-materials>\r\n\r\n    <v-dialog v-model=\"dialogErrorDeleteMaterial\" max-width=\"350px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"asia-red\">\r\n          mdi-alert-octagon\r\n        </v-icon>\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          {{ messageDialogError }}\r\n        </h4>\r\n\r\n        <v-btn\r\n          block\r\n          style=\"background: #c90c0f\"\r\n          rounded\r\n          large\r\n          text\r\n          color=\"white\"\r\n          @click=\"dialogErrorDeleteMaterial = false\"\r\n          >FECHAR</v-btn\r\n        >\r\n      </div>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport validationRules from \"../../mixins/validationRules\";\r\nimport ModalAddAndUpdateMaterials from \"./ModalAddAndUpdateMaterials.vue\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\n\r\nconst moduleMaterials = createNamespacedHelpers(\"ModuleOrdemDeCompraMaterials\");\r\nconst moduleDelivery = createNamespacedHelpers(\"ModuleDelivery\");\r\nconst moduleCollection = createNamespacedHelpers(\"ModuleColetas\");\r\nconst moduleColetasMateriais = createNamespacedHelpers(\r\n  \"ModuleColetasMaterials\"\r\n);\r\nconst moduleOrdemDeCompraMaterials = createNamespacedHelpers(\r\n  \"ModuleOrdemDeCompraMaterials\"\r\n);\r\n\r\nexport default {\r\n  props: [\r\n    \"getMaterials\",\r\n    \"isDelivery\",\r\n    \"isDistribution\",\r\n    \"purchaseOrder\",\r\n    \"currency\",\r\n  ],\r\n  data: () => ({\r\n    headersDistribution: [\r\n      { text: \"\", value: \"col1\", width: \"5%\" },\r\n      { text: \"Código\", value: \"col2\" },\r\n      { text: \"Descrição\", value: \"col3\" },\r\n      { text: \"Provisionada\", value: \"col4\" },\r\n      { text: \"Faturada\", value: \"col6\" },\r\n      { text: \"Valor Unitário (sem IPI)\", value: \"col7\" },\r\n      { text: \"Valor Total\", value: \"col8\" },\r\n    ],\r\n    headers: [\r\n      { text: \"\", value: \"col1\", width: \"5%\" },\r\n      { text: \"Código\", value: \"col2\" },\r\n      { text: \"Descrição\", value: \"col3\" },\r\n      { text: \"Provisionado O.C.\", value: \"col4\" },\r\n      { text: \"Embarcado\", value: \"col5\" },\r\n      { text: \"Faturado\", value: \"col6\" },\r\n      { text: \"Valor Unitário\", value: \"col7\" },\r\n      { text: \"Valor Total\", value: \"col8\" },\r\n    ],\r\n    rows: [],\r\n    id: null,\r\n    valorTotalMaterial: null,\r\n    valorTotalMaterialIPI: null,\r\n    dialogDeleteConfirm: false,\r\n    materialToDeleteId: null,\r\n    dialogAvisoDelete: false,\r\n    tableLoading: true,\r\n    dialogErrorDeleteMaterial: false,\r\n    listAllMaterial: [],\r\n    messageDialogError: null,\r\n  }),\r\n\r\n  methods: {\r\n    ...moduleMaterials.mapActions({\r\n      getAllByPurchase: \"getAllByPurchase\",\r\n      delete: \"delete\",\r\n    }),\r\n\r\n    ...moduleDelivery.mapActions({\r\n      getAllByPurchaseDelivery: \"getAllByPurchase\",\r\n    }),\r\n\r\n    ...moduleCollection.mapActions({\r\n      getAllByPurchaseCollection: \"getAllByPurchase\",\r\n    }),\r\n\r\n    ...moduleColetasMateriais.mapActions({\r\n      isMaterialDelivered: \"isMaterialDelivered\",\r\n      deleteByMaterial: \"deleteByMaterial\",\r\n      isMaterialPresentInConcludedCollect:\r\n        \"isMaterialPresentInConcludedCollect\",\r\n    }),\r\n\r\n    ...moduleOrdemDeCompraMaterials.mapActions({\r\n      getOrdemCompraMaterialById: \"getById\",\r\n    }),\r\n\r\n    async verifyMaterial(id, materialId, provisionedQtd) {\r\n      let params = {\r\n        idOrder: this.$route.params.id,\r\n        materialId: materialId,\r\n        provisionedQuantity: provisionedQtd,\r\n      };\r\n\r\n      let isDelivery = await this.isMaterialDelivered(params);\r\n\r\n      if (isDelivery.data.result) {\r\n        this.messageDialogError =\r\n          \"Não é possível excluir este material, pois já foi faturado.\";\r\n        this.dialogErrorDeleteMaterial = true;\r\n        return;\r\n      }\r\n\r\n      let isEmUmaColetaConcluida =\r\n        await this.isMaterialPresentInConcludedCollect(params);\r\n\r\n      if (isEmUmaColetaConcluida.data.result) {\r\n        this.messageDialogError =\r\n          \"Não é possível excluir este material, pois ele está presente em uma coleta já concluída.\";\r\n        this.dialogErrorDeleteMaterial = true;\r\n        return;\r\n      }\r\n\r\n      this.dialogDeleteConfirm = true;\r\n      this.materialToDeleteId = id;\r\n    },\r\n\r\n    async deleteMaterialFromList() {\r\n      var ordemCompraMaterial = await this.getOrdemCompraMaterialById(\r\n        this.materialToDeleteId\r\n      );\r\n      var response = await this.delete(this.materialToDeleteId);\r\n\r\n      if (response.status == 200) {\r\n        let params = {\r\n          idMaterial: ordemCompraMaterial.data.result.materialId,\r\n          provisionedQtd: ordemCompraMaterial.data.result.provisionedQtd,\r\n        };\r\n        await this.deleteByMaterial(params);\r\n\r\n        this.getAllMaterials();\r\n        this.dialogDeleteConfirm = false;\r\n        this.$emit(\"setSuccessOnRemoveMessage\");\r\n      }\r\n      this.$emit(\"reloadButton\");\r\n    },\r\n\r\n    buildRows(data) {\r\n      this.valorTotalMaterial = 0;\r\n      this.valorTotalMaterialIPI = 0;\r\n      data.forEach((element) => {\r\n        var teste = element.provisionedQtd * element.unitaryValue;\r\n        this.valorTotalMaterial = this.valorTotalMaterial + teste;\r\n      });\r\n      this.valorTotalMaterialIPI =\r\n        this.valorTotalMaterial + (this.valorTotalMaterial * 3.25) / 100;\r\n      this.rows = data.map((e) => ({\r\n        col1: e.id,\r\n        col2: e.materialCode,\r\n        col3: e.materialName,\r\n        col4: e.provisionedQtd,\r\n        col5: e.shippedQuantity,\r\n        col6: e.billedAmount ? e.billedAmount + \" kg\" : null,\r\n        col7: e.unitaryValue,\r\n        col8: e.provisionedQtd * e.unitaryValue,\r\n        col9: e.materialId,\r\n      }));\r\n    },\r\n\r\n    setEdition(id) {\r\n      this.$refs.modalEditMaterial.editMaterial(id);\r\n      this.id = id;\r\n    },\r\n\r\n    async getAllMaterials() {\r\n      let item = {\r\n        id: this.$route.params.id,\r\n        isDelivery: this.isDelivery ? true : false,\r\n      };\r\n      let response = await this.getAllByPurchase(item);\r\n      this.listAllMaterial = response.data.result;\r\n      this.buildRows(response.data.result);\r\n      this.tableLoading = false;\r\n      this.$emit(\"setListsToTrue\", true);\r\n      this.$emit(\"setListToFalse\", false);\r\n    },\r\n\r\n    setSuccessMessage() {\r\n      this.$emit(\"setSuccessMessage\", true);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllMaterials();\r\n  },\r\n\r\n  watch: {\r\n    getMaterials() {\r\n      this.getAllMaterials();\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    editPermission() {\r\n      return this.hasPermission(\r\n        this.$PermissionNames.permissionPurchaseOrderEdit\r\n      );\r\n    },\r\n  },\r\n  components: { ModalAddAndUpdateMaterials },\r\n\r\n  mixins: [validationRules],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.buttonText {\r\n  font-family: \"Inter\";\r\n  font-style: normal;\r\n  font-weight: 800;\r\n  font-size: 15px;\r\n  line-height: 21px;\r\n}\r\n\r\n.button {\r\n  width: 289px;\r\n  height: 40px;\r\n}\r\n</style>\r\n"]}]}