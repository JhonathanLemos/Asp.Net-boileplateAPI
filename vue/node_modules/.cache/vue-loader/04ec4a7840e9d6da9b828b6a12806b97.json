{"remainingRequest":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\tabelaPreco\\ViewTabelaPrecoAdd.vue?vue&type=style&index=0&id=797e03db&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\src\\views\\tabelaPreco\\ViewTabelaPrecoAdd.vue","mtime":1680609356668},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1683229778387},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1683229781560},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1683229779724},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683229777571},{"path":"C:\\Users\\lemos\\OneDrive\\Documentos\\My Web Sites\\7.3.0\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1683229780390}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZWRpdG9yID4+PiAucWwtZWRpdG9yIHsNCiAgbWluLWhlaWdodDogNDM4cHggIWltcG9ydGFudDsNCn0NCg0KLmVkaXRvciA+Pj4gLnFsLWNvbnRhaW5lci5xbC1zbm93IHsNCiAgYm9yZGVyOiAxcHggc29saWQgI2NjYyAhaW1wb3J0YW50Ow0KICBib3JkZXItcmFkaXVzOiA2cHggIWltcG9ydGFudDsNCiAgbWFyZ2luLXRvcDogMTBweCAhaW1wb3J0YW50Ow0KfQ0KDQouZWRpdG9yID4+PiAucWwtc25vdy5xbC10b29sYmFyIHsNCiAgbWFyZ2luLXRvcDogMTBweCAhaW1wb3J0YW50Ow0KICBib3JkZXItcmFkaXVzOiA2cHggIWltcG9ydGFudDsNCiAgYmFja2dyb3VuZDogI2U2ZTZlNiAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["ViewTabelaPrecoAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmTA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ViewTabelaPrecoAdd.vue","sourceRoot":"src/views/tabelaPreco","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column flex-grow-1 ml-8\" style=\"overflow: auto\">\r\n    <top-section class=\"mr-6\"></top-section>\r\n\r\n    <v-alert\r\n      type=\"error\"\r\n      dense\r\n      class=\"mt-1\"\r\n      outlined\r\n      v-show=\"errorAlert\"\r\n      transition=\"fade-transition\"\r\n      >{{ errorAlertText }}</v-alert\r\n    >\r\n\r\n    <v-dialog v-model=\"alreadyExistsClientAndCoin\" max-width=\"450px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"#F75A02\">mdi-alert</v-icon>\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          Já existe uma tabela de preços ativa para esse\r\n          <span style=\"font-weight: bold\">tipo de cliente</span> e\r\n          <span style=\"font-weight: bold\">moeda</span>. Ao salvar essa tabela\r\n          como Ativa, a previamente cadastrada será Inativada, deseja continuar?\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            rounded\r\n            large\r\n            text\r\n            class=\"mr-4\"\r\n            @click=\"alreadyExistsClientAndCoin = false\"\r\n            >CANCELAR</v-btn\r\n          >\r\n\r\n          <v-btn\r\n            rounded\r\n            large\r\n            class=\"white--text\"\r\n            color=\"#F75A02\"\r\n            :loading=\"loadBtnContinue\"\r\n            @click=\"setFalseStatusPriceTable\"\r\n            >CONTINUAR</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <v-dialog v-model=\"openModalStatus\" max-width=\"450px\">\r\n      <div class=\"white pa-8 d-flex flex-column align-center text-center\">\r\n        <v-icon style=\"font-size: 60px\" color=\"#F75A02\">mdi-alert</v-icon>\r\n\r\n        <h4 class=\"asia-neutral--text text--var-1 pb-5 pt-5\">\r\n          Ao inativar a tabela a mesma não estará mais visível no aplicativo até\r\n          que outra tabela de preços seja ativada. Deseja inativar a tabela?\r\n        </h4>\r\n\r\n        <div class=\"d-flex flex-row justify-end\">\r\n          <v-btn\r\n            rounded\r\n            large\r\n            text\r\n            class=\"mr-4\"\r\n            @click=\"(openModalStatus = false), (dataNewItem.status = true)\"\r\n            >CANCELAR</v-btn\r\n          >\r\n\r\n          <v-btn\r\n            rounded\r\n            large\r\n            class=\"white--text\"\r\n            color=\"#F75A02\"\r\n            @click=\"(dataNewItem.status = false), (openModalStatus = false)\"\r\n            :loading=\"loadingBtnDelete\"\r\n            >CONTINUAR</v-btn\r\n          >\r\n        </div>\r\n      </div>\r\n    </v-dialog>\r\n\r\n    <div class=\"d-flex align-center\">\r\n      <h3 color=\"#1A1A1A\" class=\"mb-2 text--var-2 mr-6\" style=\"font-size: 25px\">\r\n        Adicionar Tabela de Preço\r\n      </h3>\r\n\r\n      <div v-if=\"editPermission\">\r\n        <v-switch\r\n          v-model=\"dataNewItem.status\"\r\n          :label=\"dataNewItem.status ? 'Ativo' : 'Inativo'\"\r\n          color=\"asia-red\"\r\n          :loading=\"fieldLoading\"\r\n          @click=\"setStatusValidation(dataNewItem.status)\"\r\n        ></v-switch>\r\n      </div>\r\n      <div v-else>\r\n        <v-chip\r\n          class=\"mt-2\"\r\n          outlined\r\n          :color=\"dataNewItem.status ? 'green' : 'red'\"\r\n        >\r\n          {{ dataNewItem.status == true ? \"Ativo\" : \"Inativo\" }}\r\n        </v-chip>\r\n      </div>\r\n    </div>\r\n\r\n    <v-form ref=\"form\" class=\"ml-1\">\r\n      <div class=\"d-flex flex-grow-1\">\r\n        <div class=\"d-flex flex-column flex-grow-1 mr-6\">\r\n          <div\r\n            class=\"mb-6 pa-4 rounded-lg white elevation-5\"\r\n            style=\"height: auto; width: 100%\"\r\n          >\r\n            <div class=\"d-flex justify-center\">\r\n              <p style=\"color: #4d4d4d; font-weight: 700\">Dados Gerais</p>\r\n            </div>\r\n\r\n            <v-divider></v-divider>\r\n\r\n            <div class=\"d-flex\" st>\r\n              <v-text-field\r\n                class=\"mr-4\"\r\n                label=\"Descrição\"\r\n                :rules=\"[rules.required]\"\r\n                :disabled=\"!editPermission\"\r\n                clearable\r\n                validate-on-blur\r\n                v-model=\"dataNewItem.descricao\"\r\n                style=\"width: 100%\"\r\n              >\r\n              </v-text-field>\r\n            </div>\r\n          </div>\r\n\r\n          <ViewMaterials\r\n            v-model=\"dataNewItem.materialPricesTable\"\r\n            :readonly=\"!editPermission\"\r\n          ></ViewMaterials>\r\n        </div>\r\n\r\n        <div style=\"width: 35%\">\r\n          <div\r\n            class=\"mr-6 pa-4 rounded-lg white elevation-5\"\r\n            style=\"height: 100%\"\r\n          >\r\n            <div class=\"d-flex justify-center\">\r\n              <p style=\"color: #4d4d4d; font-weight: 700\">Observações</p>\r\n            </div>\r\n\r\n            <v-divider></v-divider>\r\n\r\n            <vue-editor\r\n              :disabled=\"!editPermission\"\r\n              class=\"editor\"\r\n              :editor-toolbar=\"customToolbar\"\r\n              v-model=\"dataNewItem.observacoes\"\r\n            ></vue-editor>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"editPermission\" class=\"d-flex flex-row mt-4 justify-end mr-6\">\r\n        <v-btn\r\n          rounded\r\n          class=\"mr-3\"\r\n          text\r\n          @click=\"$router.push(`/home/tabelaPreco`)\"\r\n        >\r\n          CANCELAR\r\n        </v-btn>\r\n\r\n        <v-btn\r\n          rounded\r\n          :loading=\"loadingBtnSave\"\r\n          class=\"asia-red white--text mb-4\"\r\n          @click=\"validateBeforeSubmit\"\r\n        >\r\n          SALVAR\r\n        </v-btn>\r\n      </div>\r\n    </v-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nimport validationRules from \"../../mixins/validationRules\";\r\nimport TopSection from \"@/components/TopSection.vue\";\r\nimport crudController from \"../../mixins/crudController\";\r\nimport ViewMaterials from \"@/views/tabelaPreco/ViewMaterials\";\r\nimport { VueEditor } from \"vue2-editor\";\r\n\r\nconst moduleTabelaDePreco = createNamespacedHelpers(\"ModuleTabelaDePrecos\");\r\n\r\nexport default {\r\n  data: () => ({\r\n    listMaterial: [{ id: 0 }],\r\n    customToolbar: [\r\n      [\r\n        \"bold\",\r\n        \"italic\",\r\n        \"underline\",\r\n        { list: \"ordered\" },\r\n        { list: \"bullet\" },\r\n        { indent: \"-1\" },\r\n        { indent: \"+1\" },\r\n        { align: \"center\" },\r\n      ],\r\n    ],\r\n    alreadyExistsClientAndCoin: null,\r\n    formData: {\r\n      status: \"Ativo\",\r\n      valor: 0,\r\n      isActive: true,\r\n    },\r\n    loadBtnContinue: null,\r\n    itemsMaterial: [],\r\n    dataNewItem: {\r\n      tipoMoeda: null,\r\n      tipoCliente: null,\r\n      materialPricesTable: [],\r\n      observacoes: null,\r\n    },\r\n    listMaterials: [],\r\n    priceTableToSetFalseStatus: null,\r\n    fieldLoading: false,\r\n    validaMascara: false,\r\n    mask: null,\r\n    openModalStatus: null,\r\n  }),\r\n\r\n  components: {\r\n    TopSection,\r\n    ViewMaterials,\r\n    VueEditor,\r\n  },\r\n\r\n  methods: {\r\n    ...moduleTabelaDePreco.mapActions({\r\n      getById: \"getById\",\r\n      inativar: \"inativar\",\r\n    }),\r\n\r\n    async validateBeforeSubmit() {\r\n      this.loadingBtnSave = true;\r\n      if (this.$refs.form.validate()) {\r\n        this.submit(2);\r\n      }\r\n      this.loadingBtnSave = false;\r\n    },\r\n\r\n    setStatusValidation(v) {\r\n      if (!v) {\r\n        this.openModalStatus = true;\r\n      }\r\n    },\r\n    async setFalseStatusPriceTable() {\r\n      this.loadBtnContinue = true;\r\n      await this.inativar(this.priceTableToSetFalseStatus);\r\n      this.submit(2);\r\n      this.loadBtnContinue = false;\r\n    },\r\n\r\n    submit(stage) {\r\n      if (this.$route.params.id) {\r\n        this.dataSelectedItem = this.dataNewItem;\r\n        this.updateItem(stage);\r\n      } else {\r\n        this.addNewItem(stage);\r\n      }\r\n    },\r\n\r\n    async verifyIfIsEdit() {\r\n      if (this.$route.params.id) {\r\n        var a = await this.getById(this.$route.params.id);\r\n        this.dataNewItem = a.data.result;\r\n        this.listMaterials = a.data.result.materialPricesTable;\r\n      }\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    itemsMoeda() {\r\n      return this.$store.state.ModuleTabelaDePrecos.tipoMoeda;\r\n    },\r\n    itemsCliente() {\r\n      return this.$store.state.ModuleTabelaDePrecos.tipoCliente;\r\n    },\r\n    editPermission() {\r\n      return this.hasPermission(this.$PermissionNames.permissionPriceTableEdit);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.verifyIfIsEdit();\r\n  },\r\n\r\n  watch: {\r\n    success() {\r\n      if (this.success) this.$router.push({ path: `/home/tabelaPreco` });\r\n    },\r\n  },\r\n  name: \"ViewTabelaPrecoAdd\",\r\n  mixins: [crudController({ store: \"ModuleTabelaDePrecos\" }), validationRules],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.editor >>> .ql-editor {\r\n  min-height: 438px !important;\r\n}\r\n\r\n.editor >>> .ql-container.ql-snow {\r\n  border: 1px solid #ccc !important;\r\n  border-radius: 6px !important;\r\n  margin-top: 10px !important;\r\n}\r\n\r\n.editor >>> .ql-snow.ql-toolbar {\r\n  margin-top: 10px !important;\r\n  border-radius: 6px !important;\r\n  background: #e6e6e6 !important;\r\n}\r\n</style>\r\n"]}]}